var Vv=(e,t,i)=>{if(!t.has(e))throw TypeError("Cannot "+i)};var Bd=(e,t,i)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,i)};var ao=(e,t,i)=>(Vv(e,t,"access private method"),i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))u(h);new MutationObserver(h=>{for(const m of h)if(m.type==="childList")for(const y of m.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&u(y)}).observe(document,{childList:!0,subtree:!0});function i(h){const m={};return h.integrity&&(m.integrity=h.integrity),h.referrerPolicy&&(m.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?m.credentials="include":h.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function u(h){if(h.ep)return;h.ep=!0;const m=i(h);fetch(h.href,m)}})();function Qc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xc={exports:{}},ds={},qc={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ji=Symbol.for("react.element"),Kv=Symbol.for("react.portal"),Wv=Symbol.for("react.fragment"),Yv=Symbol.for("react.strict_mode"),$v=Symbol.for("react.profiler"),Qv=Symbol.for("react.provider"),Xv=Symbol.for("react.context"),qv=Symbol.for("react.forward_ref"),Zv=Symbol.for("react.suspense"),Jv=Symbol.for("react.memo"),em=Symbol.for("react.lazy"),Gd=Symbol.iterator;function tm(e){return e===null||typeof e!="object"?null:(e=Gd&&e[Gd]||e["@@iterator"],typeof e=="function"?e:null)}var Zc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jc=Object.assign,ef={};function jn(e,t,i){this.props=e,this.context=t,this.refs=ef,this.updater=i||Zc}jn.prototype.isReactComponent={};jn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};jn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function tf(){}tf.prototype=jn.prototype;function _l(e,t,i){this.props=e,this.context=t,this.refs=ef,this.updater=i||Zc}var Al=_l.prototype=new tf;Al.constructor=_l;Jc(Al,jn.prototype);Al.isPureReactComponent=!0;var jd=Array.isArray,rf=Object.prototype.hasOwnProperty,Cl={current:null},nf={key:!0,ref:!0,__self:!0,__source:!0};function af(e,t,i){var u,h={},m=null,y=null;if(t!=null)for(u in t.ref!==void 0&&(y=t.ref),t.key!==void 0&&(m=""+t.key),t)rf.call(t,u)&&!nf.hasOwnProperty(u)&&(h[u]=t[u]);var R=arguments.length-2;if(R===1)h.children=i;else if(1<R){for(var A=Array(R),I=0;I<R;I++)A[I]=arguments[I+2];h.children=A}if(e&&e.defaultProps)for(u in R=e.defaultProps,R)h[u]===void 0&&(h[u]=R[u]);return{$$typeof:ji,type:e,key:m,ref:y,props:h,_owner:Cl.current}}function rm(e,t){return{$$typeof:ji,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Dl(e){return typeof e=="object"&&e!==null&&e.$$typeof===ji}function nm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var zd=/\/+/g;function so(e,t){return typeof e=="object"&&e!==null&&e.key!=null?nm(""+e.key):t.toString(36)}function Aa(e,t,i,u,h){var m=typeof e;(m==="undefined"||m==="boolean")&&(e=null);var y=!1;if(e===null)y=!0;else switch(m){case"string":case"number":y=!0;break;case"object":switch(e.$$typeof){case ji:case Kv:y=!0}}if(y)return y=e,h=h(y),e=u===""?"."+so(y,0):u,jd(h)?(i="",e!=null&&(i=e.replace(zd,"$&/")+"/"),Aa(h,t,i,"",function(I){return I})):h!=null&&(Dl(h)&&(h=rm(h,i+(!h.key||y&&y.key===h.key?"":(""+h.key).replace(zd,"$&/")+"/")+e)),t.push(h)),1;if(y=0,u=u===""?".":u+":",jd(e))for(var R=0;R<e.length;R++){m=e[R];var A=u+so(m,R);y+=Aa(m,t,i,A,h)}else if(A=tm(e),typeof A=="function")for(e=A.call(e),R=0;!(m=e.next()).done;)m=m.value,A=u+so(m,R++),y+=Aa(m,t,i,A,h);else if(m==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return y}function ca(e,t,i){if(e==null)return e;var u=[],h=0;return Aa(e,u,"","",function(m){return t.call(i,m,h++)}),u}function im(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var st={current:null},Ca={transition:null},am={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:Ca,ReactCurrentOwner:Cl};ye.Children={map:ca,forEach:function(e,t,i){ca(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return ca(e,function(){t++}),t},toArray:function(e){return ca(e,function(t){return t})||[]},only:function(e){if(!Dl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ye.Component=jn;ye.Fragment=Wv;ye.Profiler=$v;ye.PureComponent=_l;ye.StrictMode=Yv;ye.Suspense=Zv;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=am;ye.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var u=Jc({},e.props),h=e.key,m=e.ref,y=e._owner;if(t!=null){if(t.ref!==void 0&&(m=t.ref,y=Cl.current),t.key!==void 0&&(h=""+t.key),e.type&&e.type.defaultProps)var R=e.type.defaultProps;for(A in t)rf.call(t,A)&&!nf.hasOwnProperty(A)&&(u[A]=t[A]===void 0&&R!==void 0?R[A]:t[A])}var A=arguments.length-2;if(A===1)u.children=i;else if(1<A){R=Array(A);for(var I=0;I<A;I++)R[I]=arguments[I+2];u.children=R}return{$$typeof:ji,type:e.type,key:h,ref:m,props:u,_owner:y}};ye.createContext=function(e){return e={$$typeof:Xv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Qv,_context:e},e.Consumer=e};ye.createElement=af;ye.createFactory=function(e){var t=af.bind(null,e);return t.type=e,t};ye.createRef=function(){return{current:null}};ye.forwardRef=function(e){return{$$typeof:qv,render:e}};ye.isValidElement=Dl;ye.lazy=function(e){return{$$typeof:em,_payload:{_status:-1,_result:e},_init:im}};ye.memo=function(e,t){return{$$typeof:Jv,type:e,compare:t===void 0?null:t}};ye.startTransition=function(e){var t=Ca.transition;Ca.transition={};try{e()}finally{Ca.transition=t}};ye.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ye.useCallback=function(e,t){return st.current.useCallback(e,t)};ye.useContext=function(e){return st.current.useContext(e)};ye.useDebugValue=function(){};ye.useDeferredValue=function(e){return st.current.useDeferredValue(e)};ye.useEffect=function(e,t){return st.current.useEffect(e,t)};ye.useId=function(){return st.current.useId()};ye.useImperativeHandle=function(e,t,i){return st.current.useImperativeHandle(e,t,i)};ye.useInsertionEffect=function(e,t){return st.current.useInsertionEffect(e,t)};ye.useLayoutEffect=function(e,t){return st.current.useLayoutEffect(e,t)};ye.useMemo=function(e,t){return st.current.useMemo(e,t)};ye.useReducer=function(e,t,i){return st.current.useReducer(e,t,i)};ye.useRef=function(e){return st.current.useRef(e)};ye.useState=function(e){return st.current.useState(e)};ye.useSyncExternalStore=function(e,t,i){return st.current.useSyncExternalStore(e,t,i)};ye.useTransition=function(){return st.current.useTransition()};ye.version="18.2.0";qc.exports=ye;var mt=qc.exports;const sm=Qc(mt);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var om=mt,lm=Symbol.for("react.element"),um=Symbol.for("react.fragment"),dm=Object.prototype.hasOwnProperty,cm=om.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fm={key:!0,ref:!0,__self:!0,__source:!0};function sf(e,t,i){var u,h={},m=null,y=null;i!==void 0&&(m=""+i),t.key!==void 0&&(m=""+t.key),t.ref!==void 0&&(y=t.ref);for(u in t)dm.call(t,u)&&!fm.hasOwnProperty(u)&&(h[u]=t[u]);if(e&&e.defaultProps)for(u in t=e.defaultProps,t)h[u]===void 0&&(h[u]=t[u]);return{$$typeof:lm,type:e,key:m,ref:y,props:h,_owner:cm.current}}ds.Fragment=um;ds.jsx=sf;ds.jsxs=sf;Xc.exports=ds;var ie=Xc.exports,Fo={},of={exports:{}},St={},lf={exports:{}},uf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(te,ce){var fe=te.length;te.push(ce);e:for(;0<fe;){var Se=fe-1>>>1,Le=te[Se];if(0<h(Le,ce))te[Se]=ce,te[fe]=Le,fe=Se;else break e}}function i(te){return te.length===0?null:te[0]}function u(te){if(te.length===0)return null;var ce=te[0],fe=te.pop();if(fe!==ce){te[0]=fe;e:for(var Se=0,Le=te.length,ur=Le>>>1;Se<ur;){var jt=2*(Se+1)-1,Nr=te[jt],$t=jt+1,on=te[$t];if(0>h(Nr,fe))$t<Le&&0>h(on,Nr)?(te[Se]=on,te[$t]=fe,Se=$t):(te[Se]=Nr,te[jt]=fe,Se=jt);else if($t<Le&&0>h(on,fe))te[Se]=on,te[$t]=fe,Se=$t;else break e}}return ce}function h(te,ce){var fe=te.sortIndex-ce.sortIndex;return fe!==0?fe:te.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var m=performance;e.unstable_now=function(){return m.now()}}else{var y=Date,R=y.now();e.unstable_now=function(){return y.now()-R}}var A=[],I=[],z=1,G=null,B=3,X=!1,J=!1,Q=!1,me=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(te){for(var ce=i(I);ce!==null;){if(ce.callback===null)u(I);else if(ce.startTime<=te)u(I),ce.sortIndex=ce.expirationTime,t(A,ce);else break;ce=i(I)}}function V(te){if(Q=!1,O(te),!J)if(i(A)!==null)J=!0,sn(H);else{var ce=i(I);ce!==null&&Me(V,ce.startTime-te)}}function H(te,ce){J=!1,Q&&(Q=!1,P(N),N=-1),X=!0;var fe=B;try{for(O(ce),G=i(A);G!==null&&(!(G.expirationTime>ce)||te&&!Ke());){var Se=G.callback;if(typeof Se=="function"){G.callback=null,B=G.priorityLevel;var Le=Se(G.expirationTime<=ce);ce=e.unstable_now(),typeof Le=="function"?G.callback=Le:G===i(A)&&u(A),O(ce)}else u(A);G=i(A)}if(G!==null)var ur=!0;else{var jt=i(I);jt!==null&&Me(V,jt.startTime-ce),ur=!1}return ur}finally{G=null,B=fe,X=!1}}var x=!1,K=null,N=-1,ke=5,pe=-1;function Ke(){return!(e.unstable_now()-pe<ke)}function Mr(){if(K!==null){var te=e.unstable_now();pe=te;var ce=!0;try{ce=K(!0,te)}finally{ce?lr():(x=!1,K=null)}}else x=!1}var lr;if(typeof C=="function")lr=function(){C(Mr)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,xs=M.port2;M.port1.onmessage=Mr,lr=function(){xs.postMessage(null)}}else lr=function(){me(Mr,0)};function sn(te){K=te,x||(x=!0,lr())}function Me(te,ce){N=me(function(){te(e.unstable_now())},ce)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_continueExecution=function(){J||X||(J=!0,sn(H))},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ke=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return B},e.unstable_getFirstCallbackNode=function(){return i(A)},e.unstable_next=function(te){switch(B){case 1:case 2:case 3:var ce=3;break;default:ce=B}var fe=B;B=ce;try{return te()}finally{B=fe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(te,ce){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var fe=B;B=te;try{return ce()}finally{B=fe}},e.unstable_scheduleCallback=function(te,ce,fe){var Se=e.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Se+fe:Se):fe=Se,te){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=fe+Le,te={id:z++,callback:ce,priorityLevel:te,startTime:fe,expirationTime:Le,sortIndex:-1},fe>Se?(te.sortIndex=fe,t(I,te),i(A)===null&&te===i(I)&&(Q?(P(N),N=-1):Q=!0,Me(V,fe-Se))):(te.sortIndex=Le,t(A,te),J||X||(J=!0,sn(H))),te},e.unstable_shouldYield=Ke,e.unstable_wrapCallback=function(te){var ce=B;return function(){var fe=B;B=ce;try{return te.apply(this,arguments)}finally{B=fe}}}})(uf);lf.exports=uf;var hm=lf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df=mt,Et=hm;function Y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cf=new Set,ki={};function nn(e,t){On(e,t),On(e+"Capture",t)}function On(e,t){for(ki[e]=t,e=0;e<t.length;e++)cf.add(t[e])}var nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oo=Object.prototype.hasOwnProperty,pm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hd={},Vd={};function vm(e){return Oo.call(Vd,e)?!0:Oo.call(Hd,e)?!1:pm.test(e)?Vd[e]=!0:(Hd[e]=!0,!1)}function mm(e,t,i,u){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return u?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function gm(e,t,i,u){if(t===null||typeof t>"u"||mm(e,t,i,u))return!0;if(u)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ot(e,t,i,u,h,m,y){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=m,this.removeEmptyString=y}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qe[e]=new ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qe[t]=new ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qe[e]=new ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qe[e]=new ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qe[e]=new ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qe[e]=new ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qe[e]=new ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qe[e]=new ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qe[e]=new ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var Pl=/[\-:]([a-z])/g;function Il(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Pl,Il);Qe[t]=new ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Pl,Il);Qe[t]=new ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Pl,Il);Qe[t]=new ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qe[e]=new ot(e,1,!1,e.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qe[e]=new ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fl(e,t,i,u){var h=Qe.hasOwnProperty(t)?Qe[t]:null;(h!==null?h.type!==0:u||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(gm(t,i,h,u)&&(i=null),u||h===null?vm(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):h.mustUseProperty?e[h.propertyName]=i===null?h.type===3?!1:"":i:(t=h.attributeName,u=h.attributeNamespace,i===null?e.removeAttribute(t):(h=h.type,i=h===3||h===4&&i===!0?"":""+i,u?e.setAttributeNS(u,t,i):e.setAttribute(t,i))))}var or=df.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fa=Symbol.for("react.element"),mn=Symbol.for("react.portal"),gn=Symbol.for("react.fragment"),Ol=Symbol.for("react.strict_mode"),Mo=Symbol.for("react.profiler"),ff=Symbol.for("react.provider"),hf=Symbol.for("react.context"),Ml=Symbol.for("react.forward_ref"),No=Symbol.for("react.suspense"),bo=Symbol.for("react.suspense_list"),Nl=Symbol.for("react.memo"),mr=Symbol.for("react.lazy"),pf=Symbol.for("react.offscreen"),Kd=Symbol.iterator;function ti(e){return e===null||typeof e!="object"?null:(e=Kd&&e[Kd]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,oo;function di(e){if(oo===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);oo=t&&t[1]||""}return`
`+oo+e}var lo=!1;function uo(e,t){if(!e||lo)return"";lo=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(I){var u=I}Reflect.construct(e,[],t)}else{try{t.call()}catch(I){u=I}e.call(t.prototype)}else{try{throw Error()}catch(I){u=I}e()}}catch(I){if(I&&u&&typeof I.stack=="string"){for(var h=I.stack.split(`
`),m=u.stack.split(`
`),y=h.length-1,R=m.length-1;1<=y&&0<=R&&h[y]!==m[R];)R--;for(;1<=y&&0<=R;y--,R--)if(h[y]!==m[R]){if(y!==1||R!==1)do if(y--,R--,0>R||h[y]!==m[R]){var A=`
`+h[y].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),A}while(1<=y&&0<=R);break}}}finally{lo=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?di(e):""}function ym(e){switch(e.tag){case 5:return di(e.type);case 16:return di("Lazy");case 13:return di("Suspense");case 19:return di("SuspenseList");case 0:case 2:case 15:return e=uo(e.type,!1),e;case 11:return e=uo(e.type.render,!1),e;case 1:return e=uo(e.type,!0),e;default:return""}}function Uo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gn:return"Fragment";case mn:return"Portal";case Mo:return"Profiler";case Ol:return"StrictMode";case No:return"Suspense";case bo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hf:return(e.displayName||"Context")+".Consumer";case ff:return(e._context.displayName||"Context")+".Provider";case Ml:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nl:return t=e.displayName||null,t!==null?t:Uo(e.type)||"Memo";case mr:t=e._payload,e=e._init;try{return Uo(e(t))}catch{}}return null}function Em(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Uo(t);case 8:return t===Ol?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sm(e){var t=vf(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),u=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,m=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return h.call(this)},set:function(y){u=""+y,m.call(this,y)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ha(e){e._valueTracker||(e._valueTracker=Sm(e))}function mf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),u="";return e&&(u=vf(e)?e.checked?"true":"false":e.value),e=u,e!==i?(t.setValue(e),!0):!1}function Ga(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bo(e,t){var i=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Wd(e,t){var i=t.defaultValue==null?"":t.defaultValue,u=t.checked!=null?t.checked:t.defaultChecked;i=Dr(t.value!=null?t.value:i),e._wrapperState={initialChecked:u,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function gf(e,t){t=t.checked,t!=null&&Fl(e,"checked",t,!1)}function Go(e,t){gf(e,t);var i=Dr(t.value),u=t.type;if(i!=null)u==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(u==="submit"||u==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jo(e,t.type,i):t.hasOwnProperty("defaultValue")&&jo(e,t.type,Dr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yd(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var u=t.type;if(!(u!=="submit"&&u!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function jo(e,t,i){(t!=="number"||Ga(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var ci=Array.isArray;function An(e,t,i,u){if(e=e.options,t){t={};for(var h=0;h<i.length;h++)t["$"+i[h]]=!0;for(i=0;i<e.length;i++)h=t.hasOwnProperty("$"+e[i].value),e[i].selected!==h&&(e[i].selected=h),h&&u&&(e[i].defaultSelected=!0)}else{for(i=""+Dr(i),t=null,h=0;h<e.length;h++){if(e[h].value===i){e[h].selected=!0,u&&(e[h].defaultSelected=!0);return}t!==null||e[h].disabled||(t=e[h])}t!==null&&(t.selected=!0)}}function zo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Y(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $d(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(Y(92));if(ci(i)){if(1<i.length)throw Error(Y(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:Dr(i)}}function yf(e,t){var i=Dr(t.value),u=Dr(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),u!=null&&(e.defaultValue=""+u)}function Qd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ef(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ho(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ef(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var pa,Sf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,u,h){MSApp.execUnsafeLocalFunction(function(){return e(t,i,u,h)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(pa=pa||document.createElement("div"),pa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wi(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var pi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tm=["Webkit","ms","Moz","O"];Object.keys(pi).forEach(function(e){Tm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pi[t]=pi[e]})});function Tf(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||pi.hasOwnProperty(e)&&pi[e]?(""+t).trim():t+"px"}function Lf(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var u=i.indexOf("--")===0,h=Tf(i,t[i],u);i==="float"&&(i="cssFloat"),u?e.setProperty(i,h):e[i]=h}}var Lm=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vo(e,t){if(t){if(Lm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Y(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Y(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Y(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Y(62))}}function Ko(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wo=null;function bl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yo=null,Cn=null,Dn=null;function Xd(e){if(e=Vi(e)){if(typeof Yo!="function")throw Error(Y(280));var t=e.stateNode;t&&(t=vs(t),Yo(e.stateNode,e.type,t))}}function kf(e){Cn?Dn?Dn.push(e):Dn=[e]:Cn=e}function wf(){if(Cn){var e=Cn,t=Dn;if(Dn=Cn=null,Xd(e),t)for(e=0;e<t.length;e++)Xd(t[e])}}function Rf(e,t){return e(t)}function xf(){}var co=!1;function _f(e,t,i){if(co)return e(t,i);co=!0;try{return Rf(e,t,i)}finally{co=!1,(Cn!==null||Dn!==null)&&(xf(),wf())}}function Ri(e,t){var i=e.stateNode;if(i===null)return null;var u=vs(i);if(u===null)return null;i=u[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(Y(231,t,typeof i));return i}var $o=!1;if(nr)try{var ri={};Object.defineProperty(ri,"passive",{get:function(){$o=!0}}),window.addEventListener("test",ri,ri),window.removeEventListener("test",ri,ri)}catch{$o=!1}function km(e,t,i,u,h,m,y,R,A){var I=Array.prototype.slice.call(arguments,3);try{t.apply(i,I)}catch(z){this.onError(z)}}var vi=!1,ja=null,za=!1,Qo=null,wm={onError:function(e){vi=!0,ja=e}};function Rm(e,t,i,u,h,m,y,R,A){vi=!1,ja=null,km.apply(wm,arguments)}function xm(e,t,i,u,h,m,y,R,A){if(Rm.apply(this,arguments),vi){if(vi){var I=ja;vi=!1,ja=null}else throw Error(Y(198));za||(za=!0,Qo=I)}}function an(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function Af(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qd(e){if(an(e)!==e)throw Error(Y(188))}function _m(e){var t=e.alternate;if(!t){if(t=an(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var i=e,u=t;;){var h=i.return;if(h===null)break;var m=h.alternate;if(m===null){if(u=h.return,u!==null){i=u;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===i)return qd(h),e;if(m===u)return qd(h),t;m=m.sibling}throw Error(Y(188))}if(i.return!==u.return)i=h,u=m;else{for(var y=!1,R=h.child;R;){if(R===i){y=!0,i=h,u=m;break}if(R===u){y=!0,u=h,i=m;break}R=R.sibling}if(!y){for(R=m.child;R;){if(R===i){y=!0,i=m,u=h;break}if(R===u){y=!0,u=m,i=h;break}R=R.sibling}if(!y)throw Error(Y(189))}}if(i.alternate!==u)throw Error(Y(190))}if(i.tag!==3)throw Error(Y(188));return i.stateNode.current===i?e:t}function Cf(e){return e=_m(e),e!==null?Df(e):null}function Df(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Df(e);if(t!==null)return t;e=e.sibling}return null}var Pf=Et.unstable_scheduleCallback,Zd=Et.unstable_cancelCallback,Am=Et.unstable_shouldYield,Cm=Et.unstable_requestPaint,Ne=Et.unstable_now,Dm=Et.unstable_getCurrentPriorityLevel,Ul=Et.unstable_ImmediatePriority,If=Et.unstable_UserBlockingPriority,Ha=Et.unstable_NormalPriority,Pm=Et.unstable_LowPriority,Ff=Et.unstable_IdlePriority,cs=null,Wt=null;function Im(e){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(cs,e,void 0,(e.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:Mm,Fm=Math.log,Om=Math.LN2;function Mm(e){return e>>>=0,e===0?32:31-(Fm(e)/Om|0)|0}var va=64,ma=4194304;function fi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Va(e,t){var i=e.pendingLanes;if(i===0)return 0;var u=0,h=e.suspendedLanes,m=e.pingedLanes,y=i&268435455;if(y!==0){var R=y&~h;R!==0?u=fi(R):(m&=y,m!==0&&(u=fi(m)))}else y=i&~h,y!==0?u=fi(y):m!==0&&(u=fi(m));if(u===0)return 0;if(t!==0&&t!==u&&!(t&h)&&(h=u&-u,m=t&-t,h>=m||h===16&&(m&4194240)!==0))return t;if(u&4&&(u|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=u;0<t;)i=31-Ut(t),h=1<<i,u|=e[i],t&=~h;return u}function Nm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bm(e,t){for(var i=e.suspendedLanes,u=e.pingedLanes,h=e.expirationTimes,m=e.pendingLanes;0<m;){var y=31-Ut(m),R=1<<y,A=h[y];A===-1?(!(R&i)||R&u)&&(h[y]=Nm(R,t)):A<=t&&(e.expiredLanes|=R),m&=~R}}function Xo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Of(){var e=va;return va<<=1,!(va&4194240)&&(va=64),e}function fo(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function zi(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ut(t),e[t]=i}function Um(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var u=e.eventTimes;for(e=e.expirationTimes;0<i;){var h=31-Ut(i),m=1<<h;t[h]=0,u[h]=-1,e[h]=-1,i&=~m}}function Bl(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var u=31-Ut(i),h=1<<u;h&t|e[u]&t&&(e[u]|=t),i&=~h}}var we=0;function Mf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Nf,Gl,bf,Uf,Bf,qo=!1,ga=[],Lr=null,kr=null,wr=null,xi=new Map,_i=new Map,yr=[],Bm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jd(e,t){switch(e){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":xi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_i.delete(t.pointerId)}}function ni(e,t,i,u,h,m){return e===null||e.nativeEvent!==m?(e={blockedOn:t,domEventName:i,eventSystemFlags:u,nativeEvent:m,targetContainers:[h]},t!==null&&(t=Vi(t),t!==null&&Gl(t)),e):(e.eventSystemFlags|=u,t=e.targetContainers,h!==null&&t.indexOf(h)===-1&&t.push(h),e)}function Gm(e,t,i,u,h){switch(t){case"focusin":return Lr=ni(Lr,e,t,i,u,h),!0;case"dragenter":return kr=ni(kr,e,t,i,u,h),!0;case"mouseover":return wr=ni(wr,e,t,i,u,h),!0;case"pointerover":var m=h.pointerId;return xi.set(m,ni(xi.get(m)||null,e,t,i,u,h)),!0;case"gotpointercapture":return m=h.pointerId,_i.set(m,ni(_i.get(m)||null,e,t,i,u,h)),!0}return!1}function Gf(e){var t=Yr(e.target);if(t!==null){var i=an(t);if(i!==null){if(t=i.tag,t===13){if(t=Af(i),t!==null){e.blockedOn=t,Bf(e.priority,function(){bf(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Da(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Zo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var u=new i.constructor(i.type,i);Wo=u,i.target.dispatchEvent(u),Wo=null}else return t=Vi(i),t!==null&&Gl(t),e.blockedOn=i,!1;t.shift()}return!0}function ec(e,t,i){Da(e)&&i.delete(t)}function jm(){qo=!1,Lr!==null&&Da(Lr)&&(Lr=null),kr!==null&&Da(kr)&&(kr=null),wr!==null&&Da(wr)&&(wr=null),xi.forEach(ec),_i.forEach(ec)}function ii(e,t){e.blockedOn===t&&(e.blockedOn=null,qo||(qo=!0,Et.unstable_scheduleCallback(Et.unstable_NormalPriority,jm)))}function Ai(e){function t(h){return ii(h,e)}if(0<ga.length){ii(ga[0],e);for(var i=1;i<ga.length;i++){var u=ga[i];u.blockedOn===e&&(u.blockedOn=null)}}for(Lr!==null&&ii(Lr,e),kr!==null&&ii(kr,e),wr!==null&&ii(wr,e),xi.forEach(t),_i.forEach(t),i=0;i<yr.length;i++)u=yr[i],u.blockedOn===e&&(u.blockedOn=null);for(;0<yr.length&&(i=yr[0],i.blockedOn===null);)Gf(i),i.blockedOn===null&&yr.shift()}var Pn=or.ReactCurrentBatchConfig,Ka=!0;function zm(e,t,i,u){var h=we,m=Pn.transition;Pn.transition=null;try{we=1,jl(e,t,i,u)}finally{we=h,Pn.transition=m}}function Hm(e,t,i,u){var h=we,m=Pn.transition;Pn.transition=null;try{we=4,jl(e,t,i,u)}finally{we=h,Pn.transition=m}}function jl(e,t,i,u){if(Ka){var h=Zo(e,t,i,u);if(h===null)Lo(e,t,u,Wa,i),Jd(e,u);else if(Gm(h,e,t,i,u))u.stopPropagation();else if(Jd(e,u),t&4&&-1<Bm.indexOf(e)){for(;h!==null;){var m=Vi(h);if(m!==null&&Nf(m),m=Zo(e,t,i,u),m===null&&Lo(e,t,u,Wa,i),m===h)break;h=m}h!==null&&u.stopPropagation()}else Lo(e,t,u,null,i)}}var Wa=null;function Zo(e,t,i,u){if(Wa=null,e=bl(u),e=Yr(e),e!==null)if(t=an(e),t===null)e=null;else if(i=t.tag,i===13){if(e=Af(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wa=e,null}function jf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dm()){case Ul:return 1;case If:return 4;case Ha:case Pm:return 16;case Ff:return 536870912;default:return 16}default:return 16}}var Sr=null,zl=null,Pa=null;function zf(){if(Pa)return Pa;var e,t=zl,i=t.length,u,h="value"in Sr?Sr.value:Sr.textContent,m=h.length;for(e=0;e<i&&t[e]===h[e];e++);var y=i-e;for(u=1;u<=y&&t[i-u]===h[m-u];u++);return Pa=h.slice(e,1<u?1-u:void 0)}function Ia(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ya(){return!0}function tc(){return!1}function Tt(e){function t(i,u,h,m,y){this._reactName=i,this._targetInst=h,this.type=u,this.nativeEvent=m,this.target=y,this.currentTarget=null;for(var R in e)e.hasOwnProperty(R)&&(i=e[R],this[R]=i?i(m):m[R]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ya:tc,this.isPropagationStopped=tc,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ya)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ya)},persist:function(){},isPersistent:ya}),t}var zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hl=Tt(zn),Hi=Pe({},zn,{view:0,detail:0}),Vm=Tt(Hi),ho,po,ai,fs=Pe({},Hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ai&&(ai&&e.type==="mousemove"?(ho=e.screenX-ai.screenX,po=e.screenY-ai.screenY):po=ho=0,ai=e),ho)},movementY:function(e){return"movementY"in e?e.movementY:po}}),rc=Tt(fs),Km=Pe({},fs,{dataTransfer:0}),Wm=Tt(Km),Ym=Pe({},Hi,{relatedTarget:0}),vo=Tt(Ym),$m=Pe({},zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Qm=Tt($m),Xm=Pe({},zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qm=Tt(Xm),Zm=Pe({},zn,{data:0}),nc=Tt(Zm),Jm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tg[e])?!!t[e]:!1}function Vl(){return rg}var ng=Pe({},Hi,{key:function(e){if(e.key){var t=Jm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ia(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?eg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vl,charCode:function(e){return e.type==="keypress"?Ia(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ia(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ig=Tt(ng),ag=Pe({},fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ic=Tt(ag),sg=Pe({},Hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vl}),og=Tt(sg),lg=Pe({},zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ug=Tt(lg),dg=Pe({},fs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cg=Tt(dg),fg=[9,13,27,32],Kl=nr&&"CompositionEvent"in window,mi=null;nr&&"documentMode"in document&&(mi=document.documentMode);var hg=nr&&"TextEvent"in window&&!mi,Hf=nr&&(!Kl||mi&&8<mi&&11>=mi),ac=String.fromCharCode(32),sc=!1;function Vf(e,t){switch(e){case"keyup":return fg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yn=!1;function pg(e,t){switch(e){case"compositionend":return Kf(t);case"keypress":return t.which!==32?null:(sc=!0,ac);case"textInput":return e=t.data,e===ac&&sc?null:e;default:return null}}function vg(e,t){if(yn)return e==="compositionend"||!Kl&&Vf(e,t)?(e=zf(),Pa=zl=Sr=null,yn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hf&&t.locale!=="ko"?null:t.data;default:return null}}var mg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mg[e.type]:t==="textarea"}function Wf(e,t,i,u){kf(u),t=Ya(t,"onChange"),0<t.length&&(i=new Hl("onChange","change",null,i,u),e.push({event:i,listeners:t}))}var gi=null,Ci=null;function gg(e){nh(e,0)}function hs(e){var t=Tn(e);if(mf(t))return e}function yg(e,t){if(e==="change")return t}var Yf=!1;if(nr){var mo;if(nr){var go="oninput"in document;if(!go){var lc=document.createElement("div");lc.setAttribute("oninput","return;"),go=typeof lc.oninput=="function"}mo=go}else mo=!1;Yf=mo&&(!document.documentMode||9<document.documentMode)}function uc(){gi&&(gi.detachEvent("onpropertychange",$f),Ci=gi=null)}function $f(e){if(e.propertyName==="value"&&hs(Ci)){var t=[];Wf(t,Ci,e,bl(e)),_f(gg,t)}}function Eg(e,t,i){e==="focusin"?(uc(),gi=t,Ci=i,gi.attachEvent("onpropertychange",$f)):e==="focusout"&&uc()}function Sg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hs(Ci)}function Tg(e,t){if(e==="click")return hs(t)}function Lg(e,t){if(e==="input"||e==="change")return hs(t)}function kg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gt=typeof Object.is=="function"?Object.is:kg;function Di(e,t){if(Gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),u=Object.keys(t);if(i.length!==u.length)return!1;for(u=0;u<i.length;u++){var h=i[u];if(!Oo.call(t,h)||!Gt(e[h],t[h]))return!1}return!0}function dc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cc(e,t){var i=dc(e);e=0;for(var u;i;){if(i.nodeType===3){if(u=e+i.textContent.length,e<=t&&u>=t)return{node:i,offset:t-e};e=u}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=dc(i)}}function Qf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Qf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xf(){for(var e=window,t=Ga();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Ga(e.document)}return t}function Wl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wg(e){var t=Xf(),i=e.focusedElem,u=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&Qf(i.ownerDocument.documentElement,i)){if(u!==null&&Wl(i)){if(t=u.start,e=u.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var h=i.textContent.length,m=Math.min(u.start,h);u=u.end===void 0?m:Math.min(u.end,h),!e.extend&&m>u&&(h=u,u=m,m=h),h=cc(i,m);var y=cc(i,u);h&&y&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),e.removeAllRanges(),m>u?(e.addRange(t),e.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Rg=nr&&"documentMode"in document&&11>=document.documentMode,En=null,Jo=null,yi=null,el=!1;function fc(e,t,i){var u=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;el||En==null||En!==Ga(u)||(u=En,"selectionStart"in u&&Wl(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),yi&&Di(yi,u)||(yi=u,u=Ya(Jo,"onSelect"),0<u.length&&(t=new Hl("onSelect","select",null,t,i),e.push({event:t,listeners:u}),t.target=En)))}function Ea(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Sn={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionend:Ea("Transition","TransitionEnd")},yo={},qf={};nr&&(qf=document.createElement("div").style,"AnimationEvent"in window||(delete Sn.animationend.animation,delete Sn.animationiteration.animation,delete Sn.animationstart.animation),"TransitionEvent"in window||delete Sn.transitionend.transition);function ps(e){if(yo[e])return yo[e];if(!Sn[e])return e;var t=Sn[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in qf)return yo[e]=t[i];return e}var Zf=ps("animationend"),Jf=ps("animationiteration"),eh=ps("animationstart"),th=ps("transitionend"),rh=new Map,hc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){rh.set(e,t),nn(t,[e])}for(var Eo=0;Eo<hc.length;Eo++){var So=hc[Eo],xg=So.toLowerCase(),_g=So[0].toUpperCase()+So.slice(1);Ir(xg,"on"+_g)}Ir(Zf,"onAnimationEnd");Ir(Jf,"onAnimationIteration");Ir(eh,"onAnimationStart");Ir("dblclick","onDoubleClick");Ir("focusin","onFocus");Ir("focusout","onBlur");Ir(th,"onTransitionEnd");On("onMouseEnter",["mouseout","mouseover"]);On("onMouseLeave",["mouseout","mouseover"]);On("onPointerEnter",["pointerout","pointerover"]);On("onPointerLeave",["pointerout","pointerover"]);nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nn("onBeforeInput",["compositionend","keypress","textInput","paste"]);nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ag=new Set("cancel close invalid load scroll toggle".split(" ").concat(hi));function pc(e,t,i){var u=e.type||"unknown-event";e.currentTarget=i,xm(u,t,void 0,e),e.currentTarget=null}function nh(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var u=e[i],h=u.event;u=u.listeners;e:{var m=void 0;if(t)for(var y=u.length-1;0<=y;y--){var R=u[y],A=R.instance,I=R.currentTarget;if(R=R.listener,A!==m&&h.isPropagationStopped())break e;pc(h,R,I),m=A}else for(y=0;y<u.length;y++){if(R=u[y],A=R.instance,I=R.currentTarget,R=R.listener,A!==m&&h.isPropagationStopped())break e;pc(h,R,I),m=A}}}if(za)throw e=Qo,za=!1,Qo=null,e}function xe(e,t){var i=t[al];i===void 0&&(i=t[al]=new Set);var u=e+"__bubble";i.has(u)||(ih(t,e,2,!1),i.add(u))}function To(e,t,i){var u=0;t&&(u|=4),ih(i,e,u,t)}var Sa="_reactListening"+Math.random().toString(36).slice(2);function Pi(e){if(!e[Sa]){e[Sa]=!0,cf.forEach(function(i){i!=="selectionchange"&&(Ag.has(i)||To(i,!1,e),To(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sa]||(t[Sa]=!0,To("selectionchange",!1,t))}}function ih(e,t,i,u){switch(jf(t)){case 1:var h=zm;break;case 4:h=Hm;break;default:h=jl}i=h.bind(null,t,i,e),h=void 0,!$o||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(h=!0),u?h!==void 0?e.addEventListener(t,i,{capture:!0,passive:h}):e.addEventListener(t,i,!0):h!==void 0?e.addEventListener(t,i,{passive:h}):e.addEventListener(t,i,!1)}function Lo(e,t,i,u,h){var m=u;if(!(t&1)&&!(t&2)&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var R=u.stateNode.containerInfo;if(R===h||R.nodeType===8&&R.parentNode===h)break;if(y===4)for(y=u.return;y!==null;){var A=y.tag;if((A===3||A===4)&&(A=y.stateNode.containerInfo,A===h||A.nodeType===8&&A.parentNode===h))return;y=y.return}for(;R!==null;){if(y=Yr(R),y===null)return;if(A=y.tag,A===5||A===6){u=m=y;continue e}R=R.parentNode}}u=u.return}_f(function(){var I=m,z=bl(i),G=[];e:{var B=rh.get(e);if(B!==void 0){var X=Hl,J=e;switch(e){case"keypress":if(Ia(i)===0)break e;case"keydown":case"keyup":X=ig;break;case"focusin":J="focus",X=vo;break;case"focusout":J="blur",X=vo;break;case"beforeblur":case"afterblur":X=vo;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=rc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Wm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=og;break;case Zf:case Jf:case eh:X=Qm;break;case th:X=ug;break;case"scroll":X=Vm;break;case"wheel":X=cg;break;case"copy":case"cut":case"paste":X=qm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=ic}var Q=(t&4)!==0,me=!Q&&e==="scroll",P=Q?B!==null?B+"Capture":null:B;Q=[];for(var C=I,O;C!==null;){O=C;var V=O.stateNode;if(O.tag===5&&V!==null&&(O=V,P!==null&&(V=Ri(C,P),V!=null&&Q.push(Ii(C,V,O)))),me)break;C=C.return}0<Q.length&&(B=new X(B,J,null,i,z),G.push({event:B,listeners:Q}))}}if(!(t&7)){e:{if(B=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",B&&i!==Wo&&(J=i.relatedTarget||i.fromElement)&&(Yr(J)||J[ir]))break e;if((X||B)&&(B=z.window===z?z:(B=z.ownerDocument)?B.defaultView||B.parentWindow:window,X?(J=i.relatedTarget||i.toElement,X=I,J=J?Yr(J):null,J!==null&&(me=an(J),J!==me||J.tag!==5&&J.tag!==6)&&(J=null)):(X=null,J=I),X!==J)){if(Q=rc,V="onMouseLeave",P="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(Q=ic,V="onPointerLeave",P="onPointerEnter",C="pointer"),me=X==null?B:Tn(X),O=J==null?B:Tn(J),B=new Q(V,C+"leave",X,i,z),B.target=me,B.relatedTarget=O,V=null,Yr(z)===I&&(Q=new Q(P,C+"enter",J,i,z),Q.target=O,Q.relatedTarget=me,V=Q),me=V,X&&J)t:{for(Q=X,P=J,C=0,O=Q;O;O=vn(O))C++;for(O=0,V=P;V;V=vn(V))O++;for(;0<C-O;)Q=vn(Q),C--;for(;0<O-C;)P=vn(P),O--;for(;C--;){if(Q===P||P!==null&&Q===P.alternate)break t;Q=vn(Q),P=vn(P)}Q=null}else Q=null;X!==null&&vc(G,B,X,Q,!1),J!==null&&me!==null&&vc(G,me,J,Q,!0)}}e:{if(B=I?Tn(I):window,X=B.nodeName&&B.nodeName.toLowerCase(),X==="select"||X==="input"&&B.type==="file")var H=yg;else if(oc(B))if(Yf)H=Lg;else{H=Sg;var x=Eg}else(X=B.nodeName)&&X.toLowerCase()==="input"&&(B.type==="checkbox"||B.type==="radio")&&(H=Tg);if(H&&(H=H(e,I))){Wf(G,H,i,z);break e}x&&x(e,B,I),e==="focusout"&&(x=B._wrapperState)&&x.controlled&&B.type==="number"&&jo(B,"number",B.value)}switch(x=I?Tn(I):window,e){case"focusin":(oc(x)||x.contentEditable==="true")&&(En=x,Jo=I,yi=null);break;case"focusout":yi=Jo=En=null;break;case"mousedown":el=!0;break;case"contextmenu":case"mouseup":case"dragend":el=!1,fc(G,i,z);break;case"selectionchange":if(Rg)break;case"keydown":case"keyup":fc(G,i,z)}var K;if(Kl)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else yn?Vf(e,i)&&(N="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(N="onCompositionStart");N&&(Hf&&i.locale!=="ko"&&(yn||N!=="onCompositionStart"?N==="onCompositionEnd"&&yn&&(K=zf()):(Sr=z,zl="value"in Sr?Sr.value:Sr.textContent,yn=!0)),x=Ya(I,N),0<x.length&&(N=new nc(N,e,null,i,z),G.push({event:N,listeners:x}),K?N.data=K:(K=Kf(i),K!==null&&(N.data=K)))),(K=hg?pg(e,i):vg(e,i))&&(I=Ya(I,"onBeforeInput"),0<I.length&&(z=new nc("onBeforeInput","beforeinput",null,i,z),G.push({event:z,listeners:I}),z.data=K))}nh(G,t)})}function Ii(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Ya(e,t){for(var i=t+"Capture",u=[];e!==null;){var h=e,m=h.stateNode;h.tag===5&&m!==null&&(h=m,m=Ri(e,i),m!=null&&u.unshift(Ii(e,m,h)),m=Ri(e,t),m!=null&&u.push(Ii(e,m,h))),e=e.return}return u}function vn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vc(e,t,i,u,h){for(var m=t._reactName,y=[];i!==null&&i!==u;){var R=i,A=R.alternate,I=R.stateNode;if(A!==null&&A===u)break;R.tag===5&&I!==null&&(R=I,h?(A=Ri(i,m),A!=null&&y.unshift(Ii(i,A,R))):h||(A=Ri(i,m),A!=null&&y.push(Ii(i,A,R)))),i=i.return}y.length!==0&&e.push({event:t,listeners:y})}var Cg=/\r\n?/g,Dg=/\u0000|\uFFFD/g;function mc(e){return(typeof e=="string"?e:""+e).replace(Cg,`
`).replace(Dg,"")}function Ta(e,t,i){if(t=mc(t),mc(e)!==t&&i)throw Error(Y(425))}function $a(){}var tl=null,rl=null;function nl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var il=typeof setTimeout=="function"?setTimeout:void 0,Pg=typeof clearTimeout=="function"?clearTimeout:void 0,gc=typeof Promise=="function"?Promise:void 0,Ig=typeof queueMicrotask=="function"?queueMicrotask:typeof gc<"u"?function(e){return gc.resolve(null).then(e).catch(Fg)}:il;function Fg(e){setTimeout(function(){throw e})}function ko(e,t){var i=t,u=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(u===0){e.removeChild(h),Ai(t);return}u--}else i!=="$"&&i!=="$?"&&i!=="$!"||u++;i=h}while(i);Ai(t)}function Rr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function yc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Hn=Math.random().toString(36).slice(2),Kt="__reactFiber$"+Hn,Fi="__reactProps$"+Hn,ir="__reactContainer$"+Hn,al="__reactEvents$"+Hn,Og="__reactListeners$"+Hn,Mg="__reactHandles$"+Hn;function Yr(e){var t=e[Kt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[ir]||i[Kt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=yc(e);e!==null;){if(i=e[Kt])return i;e=yc(e)}return t}e=i,i=e.parentNode}return null}function Vi(e){return e=e[Kt]||e[ir],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Tn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Y(33))}function vs(e){return e[Fi]||null}var sl=[],Ln=-1;function Fr(e){return{current:e}}function _e(e){0>Ln||(e.current=sl[Ln],sl[Ln]=null,Ln--)}function Re(e,t){Ln++,sl[Ln]=e.current,e.current=t}var Pr={},tt=Fr(Pr),ft=Fr(!1),Zr=Pr;function Mn(e,t){var i=e.type.contextTypes;if(!i)return Pr;var u=e.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===t)return u.__reactInternalMemoizedMaskedChildContext;var h={},m;for(m in i)h[m]=t[m];return u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=h),h}function ht(e){return e=e.childContextTypes,e!=null}function Qa(){_e(ft),_e(tt)}function Ec(e,t,i){if(tt.current!==Pr)throw Error(Y(168));Re(tt,t),Re(ft,i)}function ah(e,t,i){var u=e.stateNode;if(t=t.childContextTypes,typeof u.getChildContext!="function")return i;u=u.getChildContext();for(var h in u)if(!(h in t))throw Error(Y(108,Em(e)||"Unknown",h));return Pe({},i,u)}function Xa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pr,Zr=tt.current,Re(tt,e),Re(ft,ft.current),!0}function Sc(e,t,i){var u=e.stateNode;if(!u)throw Error(Y(169));i?(e=ah(e,t,Zr),u.__reactInternalMemoizedMergedChildContext=e,_e(ft),_e(tt),Re(tt,e)):_e(ft),Re(ft,i)}var Jt=null,ms=!1,wo=!1;function sh(e){Jt===null?Jt=[e]:Jt.push(e)}function Ng(e){ms=!0,sh(e)}function Or(){if(!wo&&Jt!==null){wo=!0;var e=0,t=we;try{var i=Jt;for(we=1;e<i.length;e++){var u=i[e];do u=u(!0);while(u!==null)}Jt=null,ms=!1}catch(h){throw Jt!==null&&(Jt=Jt.slice(e+1)),Pf(Ul,Or),h}finally{we=t,wo=!1}}return null}var kn=[],wn=0,qa=null,Za=0,wt=[],Rt=0,Jr=null,er=1,tr="";function Kr(e,t){kn[wn++]=Za,kn[wn++]=qa,qa=e,Za=t}function oh(e,t,i){wt[Rt++]=er,wt[Rt++]=tr,wt[Rt++]=Jr,Jr=e;var u=er;e=tr;var h=32-Ut(u)-1;u&=~(1<<h),i+=1;var m=32-Ut(t)+h;if(30<m){var y=h-h%5;m=(u&(1<<y)-1).toString(32),u>>=y,h-=y,er=1<<32-Ut(t)+h|i<<h|u,tr=m+e}else er=1<<m|i<<h|u,tr=e}function Yl(e){e.return!==null&&(Kr(e,1),oh(e,1,0))}function $l(e){for(;e===qa;)qa=kn[--wn],kn[wn]=null,Za=kn[--wn],kn[wn]=null;for(;e===Jr;)Jr=wt[--Rt],wt[Rt]=null,tr=wt[--Rt],wt[Rt]=null,er=wt[--Rt],wt[Rt]=null}var yt=null,gt=null,Ae=!1,bt=null;function lh(e,t){var i=xt(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Tc(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yt=e,gt=Rr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yt=e,gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Jr!==null?{id:er,overflow:tr}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=xt(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,yt=e,gt=null,!0):!1;default:return!1}}function ol(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ll(e){if(Ae){var t=gt;if(t){var i=t;if(!Tc(e,t)){if(ol(e))throw Error(Y(418));t=Rr(i.nextSibling);var u=yt;t&&Tc(e,t)?lh(u,i):(e.flags=e.flags&-4097|2,Ae=!1,yt=e)}}else{if(ol(e))throw Error(Y(418));e.flags=e.flags&-4097|2,Ae=!1,yt=e}}}function Lc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yt=e}function La(e){if(e!==yt)return!1;if(!Ae)return Lc(e),Ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!nl(e.type,e.memoizedProps)),t&&(t=gt)){if(ol(e))throw uh(),Error(Y(418));for(;t;)lh(e,t),t=Rr(t.nextSibling)}if(Lc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){gt=Rr(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}gt=null}}else gt=yt?Rr(e.stateNode.nextSibling):null;return!0}function uh(){for(var e=gt;e;)e=Rr(e.nextSibling)}function Nn(){gt=yt=null,Ae=!1}function Ql(e){bt===null?bt=[e]:bt.push(e)}var bg=or.ReactCurrentBatchConfig;function Mt(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}var Ja=Fr(null),es=null,Rn=null,Xl=null;function ql(){Xl=Rn=es=null}function Zl(e){var t=Ja.current;_e(Ja),e._currentValue=t}function ul(e,t,i){for(;e!==null;){var u=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,u!==null&&(u.childLanes|=t)):u!==null&&(u.childLanes&t)!==t&&(u.childLanes|=t),e===i)break;e=e.return}}function In(e,t){es=e,Xl=Rn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ct=!0),e.firstContext=null)}function At(e){var t=e._currentValue;if(Xl!==e)if(e={context:e,memoizedValue:t,next:null},Rn===null){if(es===null)throw Error(Y(308));Rn=e,es.dependencies={lanes:0,firstContext:e}}else Rn=Rn.next=e;return t}var $r=null;function Jl(e){$r===null?$r=[e]:$r.push(e)}function dh(e,t,i,u){var h=t.interleaved;return h===null?(i.next=i,Jl(t)):(i.next=h.next,h.next=i),t.interleaved=i,ar(e,u)}function ar(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var gr=!1;function eu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ch(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xr(e,t,i){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,Ee&2){var h=u.pending;return h===null?t.next=t:(t.next=h.next,h.next=t),u.pending=t,ar(e,i)}return h=u.interleaved,h===null?(t.next=t,Jl(u)):(t.next=h.next,h.next=t),u.interleaved=t,ar(e,i)}function Fa(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var u=t.lanes;u&=e.pendingLanes,i|=u,t.lanes=i,Bl(e,i)}}function kc(e,t){var i=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,i===u)){var h=null,m=null;if(i=i.firstBaseUpdate,i!==null){do{var y={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};m===null?h=m=y:m=m.next=y,i=i.next}while(i!==null);m===null?h=m=t:m=m.next=t}else h=m=t;i={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:u.shared,effects:u.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function ts(e,t,i,u){var h=e.updateQueue;gr=!1;var m=h.firstBaseUpdate,y=h.lastBaseUpdate,R=h.shared.pending;if(R!==null){h.shared.pending=null;var A=R,I=A.next;A.next=null,y===null?m=I:y.next=I,y=A;var z=e.alternate;z!==null&&(z=z.updateQueue,R=z.lastBaseUpdate,R!==y&&(R===null?z.firstBaseUpdate=I:R.next=I,z.lastBaseUpdate=A))}if(m!==null){var G=h.baseState;y=0,z=I=A=null,R=m;do{var B=R.lane,X=R.eventTime;if((u&B)===B){z!==null&&(z=z.next={eventTime:X,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var J=e,Q=R;switch(B=t,X=i,Q.tag){case 1:if(J=Q.payload,typeof J=="function"){G=J.call(X,G,B);break e}G=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=Q.payload,B=typeof J=="function"?J.call(X,G,B):J,B==null)break e;G=Pe({},G,B);break e;case 2:gr=!0}}R.callback!==null&&R.lane!==0&&(e.flags|=64,B=h.effects,B===null?h.effects=[R]:B.push(R))}else X={eventTime:X,lane:B,tag:R.tag,payload:R.payload,callback:R.callback,next:null},z===null?(I=z=X,A=G):z=z.next=X,y|=B;if(R=R.next,R===null){if(R=h.shared.pending,R===null)break;B=R,R=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(1);if(z===null&&(A=G),h.baseState=A,h.firstBaseUpdate=I,h.lastBaseUpdate=z,t=h.shared.interleaved,t!==null){h=t;do y|=h.lane,h=h.next;while(h!==t)}else m===null&&(h.shared.lanes=0);tn|=y,e.lanes=y,e.memoizedState=G}}function wc(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var u=e[t],h=u.callback;if(h!==null){if(u.callback=null,u=i,typeof h!="function")throw Error(Y(191,h));h.call(u)}}}var fh=new df.Component().refs;function dl(e,t,i,u){t=e.memoizedState,i=i(u,t),i=i==null?t:Pe({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var gs={isMounted:function(e){return(e=e._reactInternals)?an(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var u=at(),h=Ar(e),m=rr(u,h);m.payload=t,i!=null&&(m.callback=i),t=xr(e,m,h),t!==null&&(Bt(t,e,h,u),Fa(t,e,h))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var u=at(),h=Ar(e),m=rr(u,h);m.tag=1,m.payload=t,i!=null&&(m.callback=i),t=xr(e,m,h),t!==null&&(Bt(t,e,h,u),Fa(t,e,h))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=at(),u=Ar(e),h=rr(i,u);h.tag=2,t!=null&&(h.callback=t),t=xr(e,h,u),t!==null&&(Bt(t,e,u,i),Fa(t,e,u))}};function Rc(e,t,i,u,h,m,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,m,y):t.prototype&&t.prototype.isPureReactComponent?!Di(i,u)||!Di(h,m):!0}function hh(e,t,i){var u=!1,h=Pr,m=t.contextType;return typeof m=="object"&&m!==null?m=At(m):(h=ht(t)?Zr:tt.current,u=t.contextTypes,m=(u=u!=null)?Mn(e,h):Pr),t=new t(i,m),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gs,e.stateNode=t,t._reactInternals=e,u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=m),t}function xc(e,t,i,u){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,u),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,u),t.state!==e&&gs.enqueueReplaceState(t,t.state,null)}function cl(e,t,i,u){var h=e.stateNode;h.props=i,h.state=e.memoizedState,h.refs=fh,eu(e);var m=t.contextType;typeof m=="object"&&m!==null?h.context=At(m):(m=ht(t)?Zr:tt.current,h.context=Mn(e,m)),h.state=e.memoizedState,m=t.getDerivedStateFromProps,typeof m=="function"&&(dl(e,t,m,i),h.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(t=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),t!==h.state&&gs.enqueueReplaceState(h,h.state,null),ts(e,i,h,u),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function si(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(Y(309));var u=i.stateNode}if(!u)throw Error(Y(147,e));var h=u,m=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===m?t.ref:(t=function(y){var R=h.refs;R===fh&&(R=h.refs={}),y===null?delete R[m]:R[m]=y},t._stringRef=m,t)}if(typeof e!="string")throw Error(Y(284));if(!i._owner)throw Error(Y(290,e))}return e}function ka(e,t){throw e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _c(e){var t=e._init;return t(e._payload)}function ph(e){function t(P,C){if(e){var O=P.deletions;O===null?(P.deletions=[C],P.flags|=16):O.push(C)}}function i(P,C){if(!e)return null;for(;C!==null;)t(P,C),C=C.sibling;return null}function u(P,C){for(P=new Map;C!==null;)C.key!==null?P.set(C.key,C):P.set(C.index,C),C=C.sibling;return P}function h(P,C){return P=Cr(P,C),P.index=0,P.sibling=null,P}function m(P,C,O){return P.index=O,e?(O=P.alternate,O!==null?(O=O.index,O<C?(P.flags|=2,C):O):(P.flags|=2,C)):(P.flags|=1048576,C)}function y(P){return e&&P.alternate===null&&(P.flags|=2),P}function R(P,C,O,V){return C===null||C.tag!==6?(C=Po(O,P.mode,V),C.return=P,C):(C=h(C,O),C.return=P,C)}function A(P,C,O,V){var H=O.type;return H===gn?z(P,C,O.props.children,V,O.key):C!==null&&(C.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===mr&&_c(H)===C.type)?(V=h(C,O.props),V.ref=si(P,C,O),V.return=P,V):(V=Ba(O.type,O.key,O.props,null,P.mode,V),V.ref=si(P,C,O),V.return=P,V)}function I(P,C,O,V){return C===null||C.tag!==4||C.stateNode.containerInfo!==O.containerInfo||C.stateNode.implementation!==O.implementation?(C=Io(O,P.mode,V),C.return=P,C):(C=h(C,O.children||[]),C.return=P,C)}function z(P,C,O,V,H){return C===null||C.tag!==7?(C=qr(O,P.mode,V,H),C.return=P,C):(C=h(C,O),C.return=P,C)}function G(P,C,O){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Po(""+C,P.mode,O),C.return=P,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case fa:return O=Ba(C.type,C.key,C.props,null,P.mode,O),O.ref=si(P,null,C),O.return=P,O;case mn:return C=Io(C,P.mode,O),C.return=P,C;case mr:var V=C._init;return G(P,V(C._payload),O)}if(ci(C)||ti(C))return C=qr(C,P.mode,O,null),C.return=P,C;ka(P,C)}return null}function B(P,C,O,V){var H=C!==null?C.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return H!==null?null:R(P,C,""+O,V);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case fa:return O.key===H?A(P,C,O,V):null;case mn:return O.key===H?I(P,C,O,V):null;case mr:return H=O._init,B(P,C,H(O._payload),V)}if(ci(O)||ti(O))return H!==null?null:z(P,C,O,V,null);ka(P,O)}return null}function X(P,C,O,V,H){if(typeof V=="string"&&V!==""||typeof V=="number")return P=P.get(O)||null,R(C,P,""+V,H);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case fa:return P=P.get(V.key===null?O:V.key)||null,A(C,P,V,H);case mn:return P=P.get(V.key===null?O:V.key)||null,I(C,P,V,H);case mr:var x=V._init;return X(P,C,O,x(V._payload),H)}if(ci(V)||ti(V))return P=P.get(O)||null,z(C,P,V,H,null);ka(C,V)}return null}function J(P,C,O,V){for(var H=null,x=null,K=C,N=C=0,ke=null;K!==null&&N<O.length;N++){K.index>N?(ke=K,K=null):ke=K.sibling;var pe=B(P,K,O[N],V);if(pe===null){K===null&&(K=ke);break}e&&K&&pe.alternate===null&&t(P,K),C=m(pe,C,N),x===null?H=pe:x.sibling=pe,x=pe,K=ke}if(N===O.length)return i(P,K),Ae&&Kr(P,N),H;if(K===null){for(;N<O.length;N++)K=G(P,O[N],V),K!==null&&(C=m(K,C,N),x===null?H=K:x.sibling=K,x=K);return Ae&&Kr(P,N),H}for(K=u(P,K);N<O.length;N++)ke=X(K,P,N,O[N],V),ke!==null&&(e&&ke.alternate!==null&&K.delete(ke.key===null?N:ke.key),C=m(ke,C,N),x===null?H=ke:x.sibling=ke,x=ke);return e&&K.forEach(function(Ke){return t(P,Ke)}),Ae&&Kr(P,N),H}function Q(P,C,O,V){var H=ti(O);if(typeof H!="function")throw Error(Y(150));if(O=H.call(O),O==null)throw Error(Y(151));for(var x=H=null,K=C,N=C=0,ke=null,pe=O.next();K!==null&&!pe.done;N++,pe=O.next()){K.index>N?(ke=K,K=null):ke=K.sibling;var Ke=B(P,K,pe.value,V);if(Ke===null){K===null&&(K=ke);break}e&&K&&Ke.alternate===null&&t(P,K),C=m(Ke,C,N),x===null?H=Ke:x.sibling=Ke,x=Ke,K=ke}if(pe.done)return i(P,K),Ae&&Kr(P,N),H;if(K===null){for(;!pe.done;N++,pe=O.next())pe=G(P,pe.value,V),pe!==null&&(C=m(pe,C,N),x===null?H=pe:x.sibling=pe,x=pe);return Ae&&Kr(P,N),H}for(K=u(P,K);!pe.done;N++,pe=O.next())pe=X(K,P,N,pe.value,V),pe!==null&&(e&&pe.alternate!==null&&K.delete(pe.key===null?N:pe.key),C=m(pe,C,N),x===null?H=pe:x.sibling=pe,x=pe);return e&&K.forEach(function(Mr){return t(P,Mr)}),Ae&&Kr(P,N),H}function me(P,C,O,V){if(typeof O=="object"&&O!==null&&O.type===gn&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case fa:e:{for(var H=O.key,x=C;x!==null;){if(x.key===H){if(H=O.type,H===gn){if(x.tag===7){i(P,x.sibling),C=h(x,O.props.children),C.return=P,P=C;break e}}else if(x.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===mr&&_c(H)===x.type){i(P,x.sibling),C=h(x,O.props),C.ref=si(P,x,O),C.return=P,P=C;break e}i(P,x);break}else t(P,x);x=x.sibling}O.type===gn?(C=qr(O.props.children,P.mode,V,O.key),C.return=P,P=C):(V=Ba(O.type,O.key,O.props,null,P.mode,V),V.ref=si(P,C,O),V.return=P,P=V)}return y(P);case mn:e:{for(x=O.key;C!==null;){if(C.key===x)if(C.tag===4&&C.stateNode.containerInfo===O.containerInfo&&C.stateNode.implementation===O.implementation){i(P,C.sibling),C=h(C,O.children||[]),C.return=P,P=C;break e}else{i(P,C);break}else t(P,C);C=C.sibling}C=Io(O,P.mode,V),C.return=P,P=C}return y(P);case mr:return x=O._init,me(P,C,x(O._payload),V)}if(ci(O))return J(P,C,O,V);if(ti(O))return Q(P,C,O,V);ka(P,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,C!==null&&C.tag===6?(i(P,C.sibling),C=h(C,O),C.return=P,P=C):(i(P,C),C=Po(O,P.mode,V),C.return=P,P=C),y(P)):i(P,C)}return me}var bn=ph(!0),vh=ph(!1),Ki={},Yt=Fr(Ki),Oi=Fr(Ki),Mi=Fr(Ki);function Qr(e){if(e===Ki)throw Error(Y(174));return e}function tu(e,t){switch(Re(Mi,t),Re(Oi,e),Re(Yt,Ki),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ho(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ho(t,e)}_e(Yt),Re(Yt,t)}function Un(){_e(Yt),_e(Oi),_e(Mi)}function mh(e){Qr(Mi.current);var t=Qr(Yt.current),i=Ho(t,e.type);t!==i&&(Re(Oi,e),Re(Yt,i))}function ru(e){Oi.current===e&&(_e(Yt),_e(Oi))}var Ce=Fr(0);function rs(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ro=[];function nu(){for(var e=0;e<Ro.length;e++)Ro[e]._workInProgressVersionPrimary=null;Ro.length=0}var Oa=or.ReactCurrentDispatcher,xo=or.ReactCurrentBatchConfig,en=0,De=null,Be=null,He=null,ns=!1,Ei=!1,Ni=0,Ug=0;function Ze(){throw Error(Y(321))}function iu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Gt(e[i],t[i]))return!1;return!0}function au(e,t,i,u,h,m){if(en=m,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Oa.current=e===null||e.memoizedState===null?zg:Hg,e=i(u,h),Ei){m=0;do{if(Ei=!1,Ni=0,25<=m)throw Error(Y(301));m+=1,He=Be=null,t.updateQueue=null,Oa.current=Vg,e=i(u,h)}while(Ei)}if(Oa.current=is,t=Be!==null&&Be.next!==null,en=0,He=Be=De=null,ns=!1,t)throw Error(Y(300));return e}function su(){var e=Ni!==0;return Ni=0,e}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?De.memoizedState=He=e:He=He.next=e,He}function Ct(){if(Be===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=He===null?De.memoizedState:He.next;if(t!==null)He=t,Be=e;else{if(e===null)throw Error(Y(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},He===null?De.memoizedState=He=e:He=He.next=e}return He}function bi(e,t){return typeof t=="function"?t(e):t}function _o(e){var t=Ct(),i=t.queue;if(i===null)throw Error(Y(311));i.lastRenderedReducer=e;var u=Be,h=u.baseQueue,m=i.pending;if(m!==null){if(h!==null){var y=h.next;h.next=m.next,m.next=y}u.baseQueue=h=m,i.pending=null}if(h!==null){m=h.next,u=u.baseState;var R=y=null,A=null,I=m;do{var z=I.lane;if((en&z)===z)A!==null&&(A=A.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),u=I.hasEagerState?I.eagerState:e(u,I.action);else{var G={lane:z,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};A===null?(R=A=G,y=u):A=A.next=G,De.lanes|=z,tn|=z}I=I.next}while(I!==null&&I!==m);A===null?y=u:A.next=R,Gt(u,t.memoizedState)||(ct=!0),t.memoizedState=u,t.baseState=y,t.baseQueue=A,i.lastRenderedState=u}if(e=i.interleaved,e!==null){h=e;do m=h.lane,De.lanes|=m,tn|=m,h=h.next;while(h!==e)}else h===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Ao(e){var t=Ct(),i=t.queue;if(i===null)throw Error(Y(311));i.lastRenderedReducer=e;var u=i.dispatch,h=i.pending,m=t.memoizedState;if(h!==null){i.pending=null;var y=h=h.next;do m=e(m,y.action),y=y.next;while(y!==h);Gt(m,t.memoizedState)||(ct=!0),t.memoizedState=m,t.baseQueue===null&&(t.baseState=m),i.lastRenderedState=m}return[m,u]}function gh(){}function yh(e,t){var i=De,u=Ct(),h=t(),m=!Gt(u.memoizedState,h);if(m&&(u.memoizedState=h,ct=!0),u=u.queue,ou(Th.bind(null,i,u,e),[e]),u.getSnapshot!==t||m||He!==null&&He.memoizedState.tag&1){if(i.flags|=2048,Ui(9,Sh.bind(null,i,u,h,t),void 0,null),Ve===null)throw Error(Y(349));en&30||Eh(i,t,h)}return h}function Eh(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Sh(e,t,i,u){t.value=i,t.getSnapshot=u,Lh(t)&&kh(e)}function Th(e,t,i){return i(function(){Lh(t)&&kh(e)})}function Lh(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Gt(e,i)}catch{return!0}}function kh(e){var t=ar(e,1);t!==null&&Bt(t,e,1,-1)}function Ac(e){var t=Vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:e},t.queue=e,e=e.dispatch=jg.bind(null,De,e),[t.memoizedState,e]}function Ui(e,t,i,u){return e={tag:e,create:t,destroy:i,deps:u,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(u=i.next,i.next=e,e.next=u,t.lastEffect=e)),e}function wh(){return Ct().memoizedState}function Ma(e,t,i,u){var h=Vt();De.flags|=e,h.memoizedState=Ui(1|t,i,void 0,u===void 0?null:u)}function ys(e,t,i,u){var h=Ct();u=u===void 0?null:u;var m=void 0;if(Be!==null){var y=Be.memoizedState;if(m=y.destroy,u!==null&&iu(u,y.deps)){h.memoizedState=Ui(t,i,m,u);return}}De.flags|=e,h.memoizedState=Ui(1|t,i,m,u)}function Cc(e,t){return Ma(8390656,8,e,t)}function ou(e,t){return ys(2048,8,e,t)}function Rh(e,t){return ys(4,2,e,t)}function xh(e,t){return ys(4,4,e,t)}function _h(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ah(e,t,i){return i=i!=null?i.concat([e]):null,ys(4,4,_h.bind(null,t,e),i)}function lu(){}function Ch(e,t){var i=Ct();t=t===void 0?null:t;var u=i.memoizedState;return u!==null&&t!==null&&iu(t,u[1])?u[0]:(i.memoizedState=[e,t],e)}function Dh(e,t){var i=Ct();t=t===void 0?null:t;var u=i.memoizedState;return u!==null&&t!==null&&iu(t,u[1])?u[0]:(e=e(),i.memoizedState=[e,t],e)}function Ph(e,t,i){return en&21?(Gt(i,t)||(i=Of(),De.lanes|=i,tn|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ct=!0),e.memoizedState=i)}function Bg(e,t){var i=we;we=i!==0&&4>i?i:4,e(!0);var u=xo.transition;xo.transition={};try{e(!1),t()}finally{we=i,xo.transition=u}}function Ih(){return Ct().memoizedState}function Gg(e,t,i){var u=Ar(e);if(i={lane:u,action:i,hasEagerState:!1,eagerState:null,next:null},Fh(e))Oh(t,i);else if(i=dh(e,t,i,u),i!==null){var h=at();Bt(i,e,u,h),Mh(i,t,u)}}function jg(e,t,i){var u=Ar(e),h={lane:u,action:i,hasEagerState:!1,eagerState:null,next:null};if(Fh(e))Oh(t,h);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=t.lastRenderedReducer,m!==null))try{var y=t.lastRenderedState,R=m(y,i);if(h.hasEagerState=!0,h.eagerState=R,Gt(R,y)){var A=t.interleaved;A===null?(h.next=h,Jl(t)):(h.next=A.next,A.next=h),t.interleaved=h;return}}catch{}finally{}i=dh(e,t,h,u),i!==null&&(h=at(),Bt(i,e,u,h),Mh(i,t,u))}}function Fh(e){var t=e.alternate;return e===De||t!==null&&t===De}function Oh(e,t){Ei=ns=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Mh(e,t,i){if(i&4194240){var u=t.lanes;u&=e.pendingLanes,i|=u,t.lanes=i,Bl(e,i)}}var is={readContext:At,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},zg={readContext:At,useCallback:function(e,t){return Vt().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:Cc,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Ma(4194308,4,_h.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Ma(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ma(4,2,e,t)},useMemo:function(e,t){var i=Vt();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var u=Vt();return t=i!==void 0?i(t):t,u.memoizedState=u.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},u.queue=e,e=e.dispatch=Gg.bind(null,De,e),[u.memoizedState,e]},useRef:function(e){var t=Vt();return e={current:e},t.memoizedState=e},useState:Ac,useDebugValue:lu,useDeferredValue:function(e){return Vt().memoizedState=e},useTransition:function(){var e=Ac(!1),t=e[0];return e=Bg.bind(null,e[1]),Vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var u=De,h=Vt();if(Ae){if(i===void 0)throw Error(Y(407));i=i()}else{if(i=t(),Ve===null)throw Error(Y(349));en&30||Eh(u,t,i)}h.memoizedState=i;var m={value:i,getSnapshot:t};return h.queue=m,Cc(Th.bind(null,u,m,e),[e]),u.flags|=2048,Ui(9,Sh.bind(null,u,m,i,t),void 0,null),i},useId:function(){var e=Vt(),t=Ve.identifierPrefix;if(Ae){var i=tr,u=er;i=(u&~(1<<32-Ut(u)-1)).toString(32)+i,t=":"+t+"R"+i,i=Ni++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=Ug++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Hg={readContext:At,useCallback:Ch,useContext:At,useEffect:ou,useImperativeHandle:Ah,useInsertionEffect:Rh,useLayoutEffect:xh,useMemo:Dh,useReducer:_o,useRef:wh,useState:function(){return _o(bi)},useDebugValue:lu,useDeferredValue:function(e){var t=Ct();return Ph(t,Be.memoizedState,e)},useTransition:function(){var e=_o(bi)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:gh,useSyncExternalStore:yh,useId:Ih,unstable_isNewReconciler:!1},Vg={readContext:At,useCallback:Ch,useContext:At,useEffect:ou,useImperativeHandle:Ah,useInsertionEffect:Rh,useLayoutEffect:xh,useMemo:Dh,useReducer:Ao,useRef:wh,useState:function(){return Ao(bi)},useDebugValue:lu,useDeferredValue:function(e){var t=Ct();return Be===null?t.memoizedState=e:Ph(t,Be.memoizedState,e)},useTransition:function(){var e=Ao(bi)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:gh,useSyncExternalStore:yh,useId:Ih,unstable_isNewReconciler:!1};function Bn(e,t){try{var i="",u=t;do i+=ym(u),u=u.return;while(u);var h=i}catch(m){h=`
Error generating stack: `+m.message+`
`+m.stack}return{value:e,source:t,stack:h,digest:null}}function Co(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function fl(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Kg=typeof WeakMap=="function"?WeakMap:Map;function Nh(e,t,i){i=rr(-1,i),i.tag=3,i.payload={element:null};var u=t.value;return i.callback=function(){ss||(ss=!0,Ll=u),fl(e,t)},i}function bh(e,t,i){i=rr(-1,i),i.tag=3;var u=e.type.getDerivedStateFromError;if(typeof u=="function"){var h=t.value;i.payload=function(){return u(h)},i.callback=function(){fl(e,t)}}var m=e.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(i.callback=function(){fl(e,t),typeof u!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var y=t.stack;this.componentDidCatch(t.value,{componentStack:y!==null?y:""})}),i}function Dc(e,t,i){var u=e.pingCache;if(u===null){u=e.pingCache=new Kg;var h=new Set;u.set(t,h)}else h=u.get(t),h===void 0&&(h=new Set,u.set(t,h));h.has(i)||(h.add(i),e=a0.bind(null,e,t,i),t.then(e,e))}function Pc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ic(e,t,i,u,h){return e.mode&1?(e.flags|=65536,e.lanes=h,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=rr(-1,1),t.tag=2,xr(i,t,1))),i.lanes|=1),e)}var Wg=or.ReactCurrentOwner,ct=!1;function it(e,t,i,u){t.child=e===null?vh(t,null,i,u):bn(t,e.child,i,u)}function Fc(e,t,i,u,h){i=i.render;var m=t.ref;return In(t,h),u=au(e,t,i,u,m,h),i=su(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,sr(e,t,h)):(Ae&&i&&Yl(t),t.flags|=1,it(e,t,u,h),t.child)}function Oc(e,t,i,u,h){if(e===null){var m=i.type;return typeof m=="function"&&!mu(m)&&m.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=m,Uh(e,t,m,u,h)):(e=Ba(i.type,null,u,t,t.mode,h),e.ref=t.ref,e.return=t,t.child=e)}if(m=e.child,!(e.lanes&h)){var y=m.memoizedProps;if(i=i.compare,i=i!==null?i:Di,i(y,u)&&e.ref===t.ref)return sr(e,t,h)}return t.flags|=1,e=Cr(m,u),e.ref=t.ref,e.return=t,t.child=e}function Uh(e,t,i,u,h){if(e!==null){var m=e.memoizedProps;if(Di(m,u)&&e.ref===t.ref)if(ct=!1,t.pendingProps=u=m,(e.lanes&h)!==0)e.flags&131072&&(ct=!0);else return t.lanes=e.lanes,sr(e,t,h)}return hl(e,t,i,u,h)}function Bh(e,t,i){var u=t.pendingProps,h=u.children,m=e!==null?e.memoizedState:null;if(u.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(_n,vt),vt|=i;else{if(!(i&1073741824))return e=m!==null?m.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Re(_n,vt),vt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=m!==null?m.baseLanes:i,Re(_n,vt),vt|=u}else m!==null?(u=m.baseLanes|i,t.memoizedState=null):u=i,Re(_n,vt),vt|=u;return it(e,t,h,i),t.child}function Gh(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function hl(e,t,i,u,h){var m=ht(i)?Zr:tt.current;return m=Mn(t,m),In(t,h),i=au(e,t,i,u,m,h),u=su(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,sr(e,t,h)):(Ae&&u&&Yl(t),t.flags|=1,it(e,t,i,h),t.child)}function Mc(e,t,i,u,h){if(ht(i)){var m=!0;Xa(t)}else m=!1;if(In(t,h),t.stateNode===null)Na(e,t),hh(t,i,u),cl(t,i,u,h),u=!0;else if(e===null){var y=t.stateNode,R=t.memoizedProps;y.props=R;var A=y.context,I=i.contextType;typeof I=="object"&&I!==null?I=At(I):(I=ht(i)?Zr:tt.current,I=Mn(t,I));var z=i.getDerivedStateFromProps,G=typeof z=="function"||typeof y.getSnapshotBeforeUpdate=="function";G||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R!==u||A!==I)&&xc(t,y,u,I),gr=!1;var B=t.memoizedState;y.state=B,ts(t,u,y,h),A=t.memoizedState,R!==u||B!==A||ft.current||gr?(typeof z=="function"&&(dl(t,i,z,u),A=t.memoizedState),(R=gr||Rc(t,i,R,u,B,A,I))?(G||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(t.flags|=4194308)):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=u,t.memoizedState=A),y.props=u,y.state=A,y.context=I,u=R):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),u=!1)}else{y=t.stateNode,ch(e,t),R=t.memoizedProps,I=t.type===t.elementType?R:Mt(t.type,R),y.props=I,G=t.pendingProps,B=y.context,A=i.contextType,typeof A=="object"&&A!==null?A=At(A):(A=ht(i)?Zr:tt.current,A=Mn(t,A));var X=i.getDerivedStateFromProps;(z=typeof X=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R!==G||B!==A)&&xc(t,y,u,A),gr=!1,B=t.memoizedState,y.state=B,ts(t,u,y,h);var J=t.memoizedState;R!==G||B!==J||ft.current||gr?(typeof X=="function"&&(dl(t,i,X,u),J=t.memoizedState),(I=gr||Rc(t,i,I,u,B,J,A)||!1)?(z||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,J,A),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,J,A)),typeof y.componentDidUpdate=="function"&&(t.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof y.componentDidUpdate!="function"||R===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||R===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),t.memoizedProps=u,t.memoizedState=J),y.props=u,y.state=J,y.context=A,u=I):(typeof y.componentDidUpdate!="function"||R===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||R===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),u=!1)}return pl(e,t,i,u,m,h)}function pl(e,t,i,u,h,m){Gh(e,t);var y=(t.flags&128)!==0;if(!u&&!y)return h&&Sc(t,i,!1),sr(e,t,m);u=t.stateNode,Wg.current=t;var R=y&&typeof i.getDerivedStateFromError!="function"?null:u.render();return t.flags|=1,e!==null&&y?(t.child=bn(t,e.child,null,m),t.child=bn(t,null,R,m)):it(e,t,R,m),t.memoizedState=u.state,h&&Sc(t,i,!0),t.child}function jh(e){var t=e.stateNode;t.pendingContext?Ec(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ec(e,t.context,!1),tu(e,t.containerInfo)}function Nc(e,t,i,u,h){return Nn(),Ql(h),t.flags|=256,it(e,t,i,u),t.child}var vl={dehydrated:null,treeContext:null,retryLane:0};function ml(e){return{baseLanes:e,cachePool:null,transitions:null}}function zh(e,t,i){var u=t.pendingProps,h=Ce.current,m=!1,y=(t.flags&128)!==0,R;if((R=y)||(R=e!==null&&e.memoizedState===null?!1:(h&2)!==0),R?(m=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),Re(Ce,h&1),e===null)return ll(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(y=u.children,e=u.fallback,m?(u=t.mode,m=t.child,y={mode:"hidden",children:y},!(u&1)&&m!==null?(m.childLanes=0,m.pendingProps=y):m=Ts(y,u,0,null),e=qr(e,u,i,null),m.return=t,e.return=t,m.sibling=e,t.child=m,t.child.memoizedState=ml(i),t.memoizedState=vl,e):uu(t,y));if(h=e.memoizedState,h!==null&&(R=h.dehydrated,R!==null))return Yg(e,t,y,u,R,h,i);if(m){m=u.fallback,y=t.mode,h=e.child,R=h.sibling;var A={mode:"hidden",children:u.children};return!(y&1)&&t.child!==h?(u=t.child,u.childLanes=0,u.pendingProps=A,t.deletions=null):(u=Cr(h,A),u.subtreeFlags=h.subtreeFlags&14680064),R!==null?m=Cr(R,m):(m=qr(m,y,i,null),m.flags|=2),m.return=t,u.return=t,u.sibling=m,t.child=u,u=m,m=t.child,y=e.child.memoizedState,y=y===null?ml(i):{baseLanes:y.baseLanes|i,cachePool:null,transitions:y.transitions},m.memoizedState=y,m.childLanes=e.childLanes&~i,t.memoizedState=vl,u}return m=e.child,e=m.sibling,u=Cr(m,{mode:"visible",children:u.children}),!(t.mode&1)&&(u.lanes=i),u.return=t,u.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=u,t.memoizedState=null,u}function uu(e,t){return t=Ts({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wa(e,t,i,u){return u!==null&&Ql(u),bn(t,e.child,null,i),e=uu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Yg(e,t,i,u,h,m,y){if(i)return t.flags&256?(t.flags&=-257,u=Co(Error(Y(422))),wa(e,t,y,u)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(m=u.fallback,h=t.mode,u=Ts({mode:"visible",children:u.children},h,0,null),m=qr(m,h,y,null),m.flags|=2,u.return=t,m.return=t,u.sibling=m,t.child=u,t.mode&1&&bn(t,e.child,null,y),t.child.memoizedState=ml(y),t.memoizedState=vl,m);if(!(t.mode&1))return wa(e,t,y,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var R=u.dgst;return u=R,m=Error(Y(419)),u=Co(m,u,void 0),wa(e,t,y,u)}if(R=(y&e.childLanes)!==0,ct||R){if(u=Ve,u!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|y)?0:h,h!==0&&h!==m.retryLane&&(m.retryLane=h,ar(e,h),Bt(u,e,h,-1))}return vu(),u=Co(Error(Y(421))),wa(e,t,y,u)}return h.data==="$?"?(t.flags|=128,t.child=e.child,t=s0.bind(null,e),h._reactRetry=t,null):(e=m.treeContext,gt=Rr(h.nextSibling),yt=t,Ae=!0,bt=null,e!==null&&(wt[Rt++]=er,wt[Rt++]=tr,wt[Rt++]=Jr,er=e.id,tr=e.overflow,Jr=t),t=uu(t,u.children),t.flags|=4096,t)}function bc(e,t,i){e.lanes|=t;var u=e.alternate;u!==null&&(u.lanes|=t),ul(e.return,t,i)}function Do(e,t,i,u,h){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:u,tail:i,tailMode:h}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=i,m.tailMode=h)}function Hh(e,t,i){var u=t.pendingProps,h=u.revealOrder,m=u.tail;if(it(e,t,u.children,i),u=Ce.current,u&2)u=u&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bc(e,i,t);else if(e.tag===19)bc(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}if(Re(Ce,u),!(t.mode&1))t.memoizedState=null;else switch(h){case"forwards":for(i=t.child,h=null;i!==null;)e=i.alternate,e!==null&&rs(e)===null&&(h=i),i=i.sibling;i=h,i===null?(h=t.child,t.child=null):(h=i.sibling,i.sibling=null),Do(t,!1,h,i,m);break;case"backwards":for(i=null,h=t.child,t.child=null;h!==null;){if(e=h.alternate,e!==null&&rs(e)===null){t.child=h;break}e=h.sibling,h.sibling=i,i=h,h=e}Do(t,!0,i,null,m);break;case"together":Do(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Na(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function sr(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),tn|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,i=Cr(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Cr(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function $g(e,t,i){switch(t.tag){case 3:jh(t),Nn();break;case 5:mh(t);break;case 1:ht(t.type)&&Xa(t);break;case 4:tu(t,t.stateNode.containerInfo);break;case 10:var u=t.type._context,h=t.memoizedProps.value;Re(Ja,u._currentValue),u._currentValue=h;break;case 13:if(u=t.memoizedState,u!==null)return u.dehydrated!==null?(Re(Ce,Ce.current&1),t.flags|=128,null):i&t.child.childLanes?zh(e,t,i):(Re(Ce,Ce.current&1),e=sr(e,t,i),e!==null?e.sibling:null);Re(Ce,Ce.current&1);break;case 19:if(u=(i&t.childLanes)!==0,e.flags&128){if(u)return Hh(e,t,i);t.flags|=128}if(h=t.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Re(Ce,Ce.current),u)break;return null;case 22:case 23:return t.lanes=0,Bh(e,t,i)}return sr(e,t,i)}var Vh,gl,Kh,Wh;Vh=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};gl=function(){};Kh=function(e,t,i,u){var h=e.memoizedProps;if(h!==u){e=t.stateNode,Qr(Yt.current);var m=null;switch(i){case"input":h=Bo(e,h),u=Bo(e,u),m=[];break;case"select":h=Pe({},h,{value:void 0}),u=Pe({},u,{value:void 0}),m=[];break;case"textarea":h=zo(e,h),u=zo(e,u),m=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(e.onclick=$a)}Vo(i,u);var y;i=null;for(I in h)if(!u.hasOwnProperty(I)&&h.hasOwnProperty(I)&&h[I]!=null)if(I==="style"){var R=h[I];for(y in R)R.hasOwnProperty(y)&&(i||(i={}),i[y]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(ki.hasOwnProperty(I)?m||(m=[]):(m=m||[]).push(I,null));for(I in u){var A=u[I];if(R=h!=null?h[I]:void 0,u.hasOwnProperty(I)&&A!==R&&(A!=null||R!=null))if(I==="style")if(R){for(y in R)!R.hasOwnProperty(y)||A&&A.hasOwnProperty(y)||(i||(i={}),i[y]="");for(y in A)A.hasOwnProperty(y)&&R[y]!==A[y]&&(i||(i={}),i[y]=A[y])}else i||(m||(m=[]),m.push(I,i)),i=A;else I==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,R=R?R.__html:void 0,A!=null&&R!==A&&(m=m||[]).push(I,A)):I==="children"?typeof A!="string"&&typeof A!="number"||(m=m||[]).push(I,""+A):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(ki.hasOwnProperty(I)?(A!=null&&I==="onScroll"&&xe("scroll",e),m||R===A||(m=[])):(m=m||[]).push(I,A))}i&&(m=m||[]).push("style",i);var I=m;(t.updateQueue=I)&&(t.flags|=4)}};Wh=function(e,t,i,u){i!==u&&(t.flags|=4)};function oi(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function Je(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,u=0;if(t)for(var h=e.child;h!==null;)i|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)i|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=u,e.childLanes=i,t}function Qg(e,t,i){var u=t.pendingProps;switch($l(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(t),null;case 1:return ht(t.type)&&Qa(),Je(t),null;case 3:return u=t.stateNode,Un(),_e(ft),_e(tt),nu(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&(La(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bt!==null&&(Rl(bt),bt=null))),gl(e,t),Je(t),null;case 5:ru(t);var h=Qr(Mi.current);if(i=t.type,e!==null&&t.stateNode!=null)Kh(e,t,i,u,h),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!u){if(t.stateNode===null)throw Error(Y(166));return Je(t),null}if(e=Qr(Yt.current),La(t)){u=t.stateNode,i=t.type;var m=t.memoizedProps;switch(u[Kt]=t,u[Fi]=m,e=(t.mode&1)!==0,i){case"dialog":xe("cancel",u),xe("close",u);break;case"iframe":case"object":case"embed":xe("load",u);break;case"video":case"audio":for(h=0;h<hi.length;h++)xe(hi[h],u);break;case"source":xe("error",u);break;case"img":case"image":case"link":xe("error",u),xe("load",u);break;case"details":xe("toggle",u);break;case"input":Wd(u,m),xe("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!m.multiple},xe("invalid",u);break;case"textarea":$d(u,m),xe("invalid",u)}Vo(i,m),h=null;for(var y in m)if(m.hasOwnProperty(y)){var R=m[y];y==="children"?typeof R=="string"?u.textContent!==R&&(m.suppressHydrationWarning!==!0&&Ta(u.textContent,R,e),h=["children",R]):typeof R=="number"&&u.textContent!==""+R&&(m.suppressHydrationWarning!==!0&&Ta(u.textContent,R,e),h=["children",""+R]):ki.hasOwnProperty(y)&&R!=null&&y==="onScroll"&&xe("scroll",u)}switch(i){case"input":ha(u),Yd(u,m,!0);break;case"textarea":ha(u),Qd(u);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(u.onclick=$a)}u=h,t.updateQueue=u,u!==null&&(t.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ef(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof u.is=="string"?e=y.createElement(i,{is:u.is}):(e=y.createElement(i),i==="select"&&(y=e,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):e=y.createElementNS(e,i),e[Kt]=t,e[Fi]=u,Vh(e,t,!1,!1),t.stateNode=e;e:{switch(y=Ko(i,u),i){case"dialog":xe("cancel",e),xe("close",e),h=u;break;case"iframe":case"object":case"embed":xe("load",e),h=u;break;case"video":case"audio":for(h=0;h<hi.length;h++)xe(hi[h],e);h=u;break;case"source":xe("error",e),h=u;break;case"img":case"image":case"link":xe("error",e),xe("load",e),h=u;break;case"details":xe("toggle",e),h=u;break;case"input":Wd(e,u),h=Bo(e,u),xe("invalid",e);break;case"option":h=u;break;case"select":e._wrapperState={wasMultiple:!!u.multiple},h=Pe({},u,{value:void 0}),xe("invalid",e);break;case"textarea":$d(e,u),h=zo(e,u),xe("invalid",e);break;default:h=u}Vo(i,h),R=h;for(m in R)if(R.hasOwnProperty(m)){var A=R[m];m==="style"?Lf(e,A):m==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&Sf(e,A)):m==="children"?typeof A=="string"?(i!=="textarea"||A!=="")&&wi(e,A):typeof A=="number"&&wi(e,""+A):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(ki.hasOwnProperty(m)?A!=null&&m==="onScroll"&&xe("scroll",e):A!=null&&Fl(e,m,A,y))}switch(i){case"input":ha(e),Yd(e,u,!1);break;case"textarea":ha(e),Qd(e);break;case"option":u.value!=null&&e.setAttribute("value",""+Dr(u.value));break;case"select":e.multiple=!!u.multiple,m=u.value,m!=null?An(e,!!u.multiple,m,!1):u.defaultValue!=null&&An(e,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=$a)}switch(i){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Je(t),null;case 6:if(e&&t.stateNode!=null)Wh(e,t,e.memoizedProps,u);else{if(typeof u!="string"&&t.stateNode===null)throw Error(Y(166));if(i=Qr(Mi.current),Qr(Yt.current),La(t)){if(u=t.stateNode,i=t.memoizedProps,u[Kt]=t,(m=u.nodeValue!==i)&&(e=yt,e!==null))switch(e.tag){case 3:Ta(u.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ta(u.nodeValue,i,(e.mode&1)!==0)}m&&(t.flags|=4)}else u=(i.nodeType===9?i:i.ownerDocument).createTextNode(u),u[Kt]=t,t.stateNode=u}return Je(t),null;case 13:if(_e(Ce),u=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ae&&gt!==null&&t.mode&1&&!(t.flags&128))uh(),Nn(),t.flags|=98560,m=!1;else if(m=La(t),u!==null&&u.dehydrated!==null){if(e===null){if(!m)throw Error(Y(318));if(m=t.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(Y(317));m[Kt]=t}else Nn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Je(t),m=!1}else bt!==null&&(Rl(bt),bt=null),m=!0;if(!m)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(u=u!==null,u!==(e!==null&&e.memoizedState!==null)&&u&&(t.child.flags|=8192,t.mode&1&&(e===null||Ce.current&1?Ge===0&&(Ge=3):vu())),t.updateQueue!==null&&(t.flags|=4),Je(t),null);case 4:return Un(),gl(e,t),e===null&&Pi(t.stateNode.containerInfo),Je(t),null;case 10:return Zl(t.type._context),Je(t),null;case 17:return ht(t.type)&&Qa(),Je(t),null;case 19:if(_e(Ce),m=t.memoizedState,m===null)return Je(t),null;if(u=(t.flags&128)!==0,y=m.rendering,y===null)if(u)oi(m,!1);else{if(Ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(y=rs(e),y!==null){for(t.flags|=128,oi(m,!1),u=y.updateQueue,u!==null&&(t.updateQueue=u,t.flags|=4),t.subtreeFlags=0,u=i,i=t.child;i!==null;)m=i,e=u,m.flags&=14680066,y=m.alternate,y===null?(m.childLanes=0,m.lanes=e,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=y.childLanes,m.lanes=y.lanes,m.child=y.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=y.memoizedProps,m.memoizedState=y.memoizedState,m.updateQueue=y.updateQueue,m.type=y.type,e=y.dependencies,m.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Re(Ce,Ce.current&1|2),t.child}e=e.sibling}m.tail!==null&&Ne()>Gn&&(t.flags|=128,u=!0,oi(m,!1),t.lanes=4194304)}else{if(!u)if(e=rs(y),e!==null){if(t.flags|=128,u=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),oi(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!Ae)return Je(t),null}else 2*Ne()-m.renderingStartTime>Gn&&i!==1073741824&&(t.flags|=128,u=!0,oi(m,!1),t.lanes=4194304);m.isBackwards?(y.sibling=t.child,t.child=y):(i=m.last,i!==null?i.sibling=y:t.child=y,m.last=y)}return m.tail!==null?(t=m.tail,m.rendering=t,m.tail=t.sibling,m.renderingStartTime=Ne(),t.sibling=null,i=Ce.current,Re(Ce,u?i&1|2:i&1),t):(Je(t),null);case 22:case 23:return pu(),u=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==u&&(t.flags|=8192),u&&t.mode&1?vt&1073741824&&(Je(t),t.subtreeFlags&6&&(t.flags|=8192)):Je(t),null;case 24:return null;case 25:return null}throw Error(Y(156,t.tag))}function Xg(e,t){switch($l(t),t.tag){case 1:return ht(t.type)&&Qa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Un(),_e(ft),_e(tt),nu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ru(t),null;case 13:if(_e(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));Nn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(Ce),null;case 4:return Un(),null;case 10:return Zl(t.type._context),null;case 22:case 23:return pu(),null;case 24:return null;default:return null}}var Ra=!1,et=!1,qg=typeof WeakSet=="function"?WeakSet:Set,re=null;function xn(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(u){Oe(e,t,u)}else i.current=null}function yl(e,t,i){try{i()}catch(u){Oe(e,t,u)}}var Uc=!1;function Zg(e,t){if(tl=Ka,e=Xf(),Wl(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var u=i.getSelection&&i.getSelection();if(u&&u.rangeCount!==0){i=u.anchorNode;var h=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{i.nodeType,m.nodeType}catch{i=null;break e}var y=0,R=-1,A=-1,I=0,z=0,G=e,B=null;t:for(;;){for(var X;G!==i||h!==0&&G.nodeType!==3||(R=y+h),G!==m||u!==0&&G.nodeType!==3||(A=y+u),G.nodeType===3&&(y+=G.nodeValue.length),(X=G.firstChild)!==null;)B=G,G=X;for(;;){if(G===e)break t;if(B===i&&++I===h&&(R=y),B===m&&++z===u&&(A=y),(X=G.nextSibling)!==null)break;G=B,B=G.parentNode}G=X}i=R===-1||A===-1?null:{start:R,end:A}}else i=null}i=i||{start:0,end:0}}else i=null;for(rl={focusedElem:e,selectionRange:i},Ka=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var J=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(J!==null){var Q=J.memoizedProps,me=J.memoizedState,P=t.stateNode,C=P.getSnapshotBeforeUpdate(t.elementType===t.type?Q:Mt(t.type,Q),me);P.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(V){Oe(t,t.return,V)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return J=Uc,Uc=!1,J}function Si(e,t,i){var u=t.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&e)===e){var m=h.destroy;h.destroy=void 0,m!==void 0&&yl(t,i,m)}h=h.next}while(h!==u)}}function Es(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var u=i.create;i.destroy=u()}i=i.next}while(i!==t)}}function El(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Yh(e){var t=e.alternate;t!==null&&(e.alternate=null,Yh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kt],delete t[Fi],delete t[al],delete t[Og],delete t[Mg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $h(e){return e.tag===5||e.tag===3||e.tag===4}function Bc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$h(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sl(e,t,i){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=$a));else if(u!==4&&(e=e.child,e!==null))for(Sl(e,t,i),e=e.sibling;e!==null;)Sl(e,t,i),e=e.sibling}function Tl(e,t,i){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(u!==4&&(e=e.child,e!==null))for(Tl(e,t,i),e=e.sibling;e!==null;)Tl(e,t,i),e=e.sibling}var Ye=null,Nt=!1;function vr(e,t,i){for(i=i.child;i!==null;)Qh(e,t,i),i=i.sibling}function Qh(e,t,i){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(cs,i)}catch{}switch(i.tag){case 5:et||xn(i,t);case 6:var u=Ye,h=Nt;Ye=null,vr(e,t,i),Ye=u,Nt=h,Ye!==null&&(Nt?(e=Ye,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Ye.removeChild(i.stateNode));break;case 18:Ye!==null&&(Nt?(e=Ye,i=i.stateNode,e.nodeType===8?ko(e.parentNode,i):e.nodeType===1&&ko(e,i),Ai(e)):ko(Ye,i.stateNode));break;case 4:u=Ye,h=Nt,Ye=i.stateNode.containerInfo,Nt=!0,vr(e,t,i),Ye=u,Nt=h;break;case 0:case 11:case 14:case 15:if(!et&&(u=i.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var m=h,y=m.destroy;m=m.tag,y!==void 0&&(m&2||m&4)&&yl(i,t,y),h=h.next}while(h!==u)}vr(e,t,i);break;case 1:if(!et&&(xn(i,t),u=i.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=i.memoizedProps,u.state=i.memoizedState,u.componentWillUnmount()}catch(R){Oe(i,t,R)}vr(e,t,i);break;case 21:vr(e,t,i);break;case 22:i.mode&1?(et=(u=et)||i.memoizedState!==null,vr(e,t,i),et=u):vr(e,t,i);break;default:vr(e,t,i)}}function Gc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new qg),t.forEach(function(u){var h=o0.bind(null,e,u);i.has(u)||(i.add(u),u.then(h,h))})}}function Ot(e,t){var i=t.deletions;if(i!==null)for(var u=0;u<i.length;u++){var h=i[u];try{var m=e,y=t,R=y;e:for(;R!==null;){switch(R.tag){case 5:Ye=R.stateNode,Nt=!1;break e;case 3:Ye=R.stateNode.containerInfo,Nt=!0;break e;case 4:Ye=R.stateNode.containerInfo,Nt=!0;break e}R=R.return}if(Ye===null)throw Error(Y(160));Qh(m,y,h),Ye=null,Nt=!1;var A=h.alternate;A!==null&&(A.return=null),h.return=null}catch(I){Oe(h,t,I)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Xh(t,e),t=t.sibling}function Xh(e,t){var i=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ot(t,e),Ht(e),u&4){try{Si(3,e,e.return),Es(3,e)}catch(Q){Oe(e,e.return,Q)}try{Si(5,e,e.return)}catch(Q){Oe(e,e.return,Q)}}break;case 1:Ot(t,e),Ht(e),u&512&&i!==null&&xn(i,i.return);break;case 5:if(Ot(t,e),Ht(e),u&512&&i!==null&&xn(i,i.return),e.flags&32){var h=e.stateNode;try{wi(h,"")}catch(Q){Oe(e,e.return,Q)}}if(u&4&&(h=e.stateNode,h!=null)){var m=e.memoizedProps,y=i!==null?i.memoizedProps:m,R=e.type,A=e.updateQueue;if(e.updateQueue=null,A!==null)try{R==="input"&&m.type==="radio"&&m.name!=null&&gf(h,m),Ko(R,y);var I=Ko(R,m);for(y=0;y<A.length;y+=2){var z=A[y],G=A[y+1];z==="style"?Lf(h,G):z==="dangerouslySetInnerHTML"?Sf(h,G):z==="children"?wi(h,G):Fl(h,z,G,I)}switch(R){case"input":Go(h,m);break;case"textarea":yf(h,m);break;case"select":var B=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!m.multiple;var X=m.value;X!=null?An(h,!!m.multiple,X,!1):B!==!!m.multiple&&(m.defaultValue!=null?An(h,!!m.multiple,m.defaultValue,!0):An(h,!!m.multiple,m.multiple?[]:"",!1))}h[Fi]=m}catch(Q){Oe(e,e.return,Q)}}break;case 6:if(Ot(t,e),Ht(e),u&4){if(e.stateNode===null)throw Error(Y(162));h=e.stateNode,m=e.memoizedProps;try{h.nodeValue=m}catch(Q){Oe(e,e.return,Q)}}break;case 3:if(Ot(t,e),Ht(e),u&4&&i!==null&&i.memoizedState.isDehydrated)try{Ai(t.containerInfo)}catch(Q){Oe(e,e.return,Q)}break;case 4:Ot(t,e),Ht(e);break;case 13:Ot(t,e),Ht(e),h=e.child,h.flags&8192&&(m=h.memoizedState!==null,h.stateNode.isHidden=m,!m||h.alternate!==null&&h.alternate.memoizedState!==null||(fu=Ne())),u&4&&Gc(e);break;case 22:if(z=i!==null&&i.memoizedState!==null,e.mode&1?(et=(I=et)||z,Ot(t,e),et=I):Ot(t,e),Ht(e),u&8192){if(I=e.memoizedState!==null,(e.stateNode.isHidden=I)&&!z&&e.mode&1)for(re=e,z=e.child;z!==null;){for(G=re=z;re!==null;){switch(B=re,X=B.child,B.tag){case 0:case 11:case 14:case 15:Si(4,B,B.return);break;case 1:xn(B,B.return);var J=B.stateNode;if(typeof J.componentWillUnmount=="function"){u=B,i=B.return;try{t=u,J.props=t.memoizedProps,J.state=t.memoizedState,J.componentWillUnmount()}catch(Q){Oe(u,i,Q)}}break;case 5:xn(B,B.return);break;case 22:if(B.memoizedState!==null){zc(G);continue}}X!==null?(X.return=B,re=X):zc(G)}z=z.sibling}e:for(z=null,G=e;;){if(G.tag===5){if(z===null){z=G;try{h=G.stateNode,I?(m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(R=G.stateNode,A=G.memoizedProps.style,y=A!=null&&A.hasOwnProperty("display")?A.display:null,R.style.display=Tf("display",y))}catch(Q){Oe(e,e.return,Q)}}}else if(G.tag===6){if(z===null)try{G.stateNode.nodeValue=I?"":G.memoizedProps}catch(Q){Oe(e,e.return,Q)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===e)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===e)break e;for(;G.sibling===null;){if(G.return===null||G.return===e)break e;z===G&&(z=null),G=G.return}z===G&&(z=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:Ot(t,e),Ht(e),u&4&&Gc(e);break;case 21:break;default:Ot(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if($h(i)){var u=i;break e}i=i.return}throw Error(Y(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(wi(h,""),u.flags&=-33);var m=Bc(e);Tl(e,m,h);break;case 3:case 4:var y=u.stateNode.containerInfo,R=Bc(e);Sl(e,R,y);break;default:throw Error(Y(161))}}catch(A){Oe(e,e.return,A)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jg(e,t,i){re=e,qh(e)}function qh(e,t,i){for(var u=(e.mode&1)!==0;re!==null;){var h=re,m=h.child;if(h.tag===22&&u){var y=h.memoizedState!==null||Ra;if(!y){var R=h.alternate,A=R!==null&&R.memoizedState!==null||et;R=Ra;var I=et;if(Ra=y,(et=A)&&!I)for(re=h;re!==null;)y=re,A=y.child,y.tag===22&&y.memoizedState!==null?Hc(h):A!==null?(A.return=y,re=A):Hc(h);for(;m!==null;)re=m,qh(m),m=m.sibling;re=h,Ra=R,et=I}jc(e)}else h.subtreeFlags&8772&&m!==null?(m.return=h,re=m):jc(e)}}function jc(e){for(;re!==null;){var t=re;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:et||Es(5,t);break;case 1:var u=t.stateNode;if(t.flags&4&&!et)if(i===null)u.componentDidMount();else{var h=t.elementType===t.type?i.memoizedProps:Mt(t.type,i.memoizedProps);u.componentDidUpdate(h,i.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var m=t.updateQueue;m!==null&&wc(t,m,u);break;case 3:var y=t.updateQueue;if(y!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}wc(t,y,i)}break;case 5:var R=t.stateNode;if(i===null&&t.flags&4){i=R;var A=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&i.focus();break;case"img":A.src&&(i.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var I=t.alternate;if(I!==null){var z=I.memoizedState;if(z!==null){var G=z.dehydrated;G!==null&&Ai(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}et||t.flags&512&&El(t)}catch(B){Oe(t,t.return,B)}}if(t===e){re=null;break}if(i=t.sibling,i!==null){i.return=t.return,re=i;break}re=t.return}}function zc(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var i=t.sibling;if(i!==null){i.return=t.return,re=i;break}re=t.return}}function Hc(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Es(4,t)}catch(A){Oe(t,i,A)}break;case 1:var u=t.stateNode;if(typeof u.componentDidMount=="function"){var h=t.return;try{u.componentDidMount()}catch(A){Oe(t,h,A)}}var m=t.return;try{El(t)}catch(A){Oe(t,m,A)}break;case 5:var y=t.return;try{El(t)}catch(A){Oe(t,y,A)}}}catch(A){Oe(t,t.return,A)}if(t===e){re=null;break}var R=t.sibling;if(R!==null){R.return=t.return,re=R;break}re=t.return}}var e0=Math.ceil,as=or.ReactCurrentDispatcher,du=or.ReactCurrentOwner,_t=or.ReactCurrentBatchConfig,Ee=0,Ve=null,Ue=null,$e=0,vt=0,_n=Fr(0),Ge=0,Bi=null,tn=0,Ss=0,cu=0,Ti=null,dt=null,fu=0,Gn=1/0,Zt=null,ss=!1,Ll=null,_r=null,xa=!1,Tr=null,os=0,Li=0,kl=null,ba=-1,Ua=0;function at(){return Ee&6?Ne():ba!==-1?ba:ba=Ne()}function Ar(e){return e.mode&1?Ee&2&&$e!==0?$e&-$e:bg.transition!==null?(Ua===0&&(Ua=Of()),Ua):(e=we,e!==0||(e=window.event,e=e===void 0?16:jf(e.type)),e):1}function Bt(e,t,i,u){if(50<Li)throw Li=0,kl=null,Error(Y(185));zi(e,i,u),(!(Ee&2)||e!==Ve)&&(e===Ve&&(!(Ee&2)&&(Ss|=i),Ge===4&&Er(e,$e)),pt(e,u),i===1&&Ee===0&&!(t.mode&1)&&(Gn=Ne()+500,ms&&Or()))}function pt(e,t){var i=e.callbackNode;bm(e,t);var u=Va(e,e===Ve?$e:0);if(u===0)i!==null&&Zd(i),e.callbackNode=null,e.callbackPriority=0;else if(t=u&-u,e.callbackPriority!==t){if(i!=null&&Zd(i),t===1)e.tag===0?Ng(Vc.bind(null,e)):sh(Vc.bind(null,e)),Ig(function(){!(Ee&6)&&Or()}),i=null;else{switch(Mf(u)){case 1:i=Ul;break;case 4:i=If;break;case 16:i=Ha;break;case 536870912:i=Ff;break;default:i=Ha}i=ap(i,Zh.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Zh(e,t){if(ba=-1,Ua=0,Ee&6)throw Error(Y(327));var i=e.callbackNode;if(Fn()&&e.callbackNode!==i)return null;var u=Va(e,e===Ve?$e:0);if(u===0)return null;if(u&30||u&e.expiredLanes||t)t=ls(e,u);else{t=u;var h=Ee;Ee|=2;var m=ep();(Ve!==e||$e!==t)&&(Zt=null,Gn=Ne()+500,Xr(e,t));do try{n0();break}catch(R){Jh(e,R)}while(1);ql(),as.current=m,Ee=h,Ue!==null?t=0:(Ve=null,$e=0,t=Ge)}if(t!==0){if(t===2&&(h=Xo(e),h!==0&&(u=h,t=wl(e,h))),t===1)throw i=Bi,Xr(e,0),Er(e,u),pt(e,Ne()),i;if(t===6)Er(e,u);else{if(h=e.current.alternate,!(u&30)&&!t0(h)&&(t=ls(e,u),t===2&&(m=Xo(e),m!==0&&(u=m,t=wl(e,m))),t===1))throw i=Bi,Xr(e,0),Er(e,u),pt(e,Ne()),i;switch(e.finishedWork=h,e.finishedLanes=u,t){case 0:case 1:throw Error(Y(345));case 2:Wr(e,dt,Zt);break;case 3:if(Er(e,u),(u&130023424)===u&&(t=fu+500-Ne(),10<t)){if(Va(e,0)!==0)break;if(h=e.suspendedLanes,(h&u)!==u){at(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=il(Wr.bind(null,e,dt,Zt),t);break}Wr(e,dt,Zt);break;case 4:if(Er(e,u),(u&4194240)===u)break;for(t=e.eventTimes,h=-1;0<u;){var y=31-Ut(u);m=1<<y,y=t[y],y>h&&(h=y),u&=~m}if(u=h,u=Ne()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*e0(u/1960))-u,10<u){e.timeoutHandle=il(Wr.bind(null,e,dt,Zt),u);break}Wr(e,dt,Zt);break;case 5:Wr(e,dt,Zt);break;default:throw Error(Y(329))}}}return pt(e,Ne()),e.callbackNode===i?Zh.bind(null,e):null}function wl(e,t){var i=Ti;return e.current.memoizedState.isDehydrated&&(Xr(e,t).flags|=256),e=ls(e,t),e!==2&&(t=dt,dt=i,t!==null&&Rl(t)),e}function Rl(e){dt===null?dt=e:dt.push.apply(dt,e)}function t0(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var u=0;u<i.length;u++){var h=i[u],m=h.getSnapshot;h=h.value;try{if(!Gt(m(),h))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Er(e,t){for(t&=~cu,t&=~Ss,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Ut(t),u=1<<i;e[i]=-1,t&=~u}}function Vc(e){if(Ee&6)throw Error(Y(327));Fn();var t=Va(e,0);if(!(t&1))return pt(e,Ne()),null;var i=ls(e,t);if(e.tag!==0&&i===2){var u=Xo(e);u!==0&&(t=u,i=wl(e,u))}if(i===1)throw i=Bi,Xr(e,0),Er(e,t),pt(e,Ne()),i;if(i===6)throw Error(Y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wr(e,dt,Zt),pt(e,Ne()),null}function hu(e,t){var i=Ee;Ee|=1;try{return e(t)}finally{Ee=i,Ee===0&&(Gn=Ne()+500,ms&&Or())}}function rn(e){Tr!==null&&Tr.tag===0&&!(Ee&6)&&Fn();var t=Ee;Ee|=1;var i=_t.transition,u=we;try{if(_t.transition=null,we=1,e)return e()}finally{we=u,_t.transition=i,Ee=t,!(Ee&6)&&Or()}}function pu(){vt=_n.current,_e(_n)}function Xr(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Pg(i)),Ue!==null)for(i=Ue.return;i!==null;){var u=i;switch($l(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Qa();break;case 3:Un(),_e(ft),_e(tt),nu();break;case 5:ru(u);break;case 4:Un();break;case 13:_e(Ce);break;case 19:_e(Ce);break;case 10:Zl(u.type._context);break;case 22:case 23:pu()}i=i.return}if(Ve=e,Ue=e=Cr(e.current,null),$e=vt=t,Ge=0,Bi=null,cu=Ss=tn=0,dt=Ti=null,$r!==null){for(t=0;t<$r.length;t++)if(i=$r[t],u=i.interleaved,u!==null){i.interleaved=null;var h=u.next,m=i.pending;if(m!==null){var y=m.next;m.next=h,u.next=y}i.pending=u}$r=null}return e}function Jh(e,t){do{var i=Ue;try{if(ql(),Oa.current=is,ns){for(var u=De.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}ns=!1}if(en=0,He=Be=De=null,Ei=!1,Ni=0,du.current=null,i===null||i.return===null){Ge=1,Bi=t,Ue=null;break}e:{var m=e,y=i.return,R=i,A=t;if(t=$e,R.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var I=A,z=R,G=z.tag;if(!(z.mode&1)&&(G===0||G===11||G===15)){var B=z.alternate;B?(z.updateQueue=B.updateQueue,z.memoizedState=B.memoizedState,z.lanes=B.lanes):(z.updateQueue=null,z.memoizedState=null)}var X=Pc(y);if(X!==null){X.flags&=-257,Ic(X,y,R,m,t),X.mode&1&&Dc(m,I,t),t=X,A=I;var J=t.updateQueue;if(J===null){var Q=new Set;Q.add(A),t.updateQueue=Q}else J.add(A);break e}else{if(!(t&1)){Dc(m,I,t),vu();break e}A=Error(Y(426))}}else if(Ae&&R.mode&1){var me=Pc(y);if(me!==null){!(me.flags&65536)&&(me.flags|=256),Ic(me,y,R,m,t),Ql(Bn(A,R));break e}}m=A=Bn(A,R),Ge!==4&&(Ge=2),Ti===null?Ti=[m]:Ti.push(m),m=y;do{switch(m.tag){case 3:m.flags|=65536,t&=-t,m.lanes|=t;var P=Nh(m,A,t);kc(m,P);break e;case 1:R=A;var C=m.type,O=m.stateNode;if(!(m.flags&128)&&(typeof C.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(_r===null||!_r.has(O)))){m.flags|=65536,t&=-t,m.lanes|=t;var V=bh(m,R,t);kc(m,V);break e}}m=m.return}while(m!==null)}rp(i)}catch(H){t=H,Ue===i&&i!==null&&(Ue=i=i.return);continue}break}while(1)}function ep(){var e=as.current;return as.current=is,e===null?is:e}function vu(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Ve===null||!(tn&268435455)&&!(Ss&268435455)||Er(Ve,$e)}function ls(e,t){var i=Ee;Ee|=2;var u=ep();(Ve!==e||$e!==t)&&(Zt=null,Xr(e,t));do try{r0();break}catch(h){Jh(e,h)}while(1);if(ql(),Ee=i,as.current=u,Ue!==null)throw Error(Y(261));return Ve=null,$e=0,Ge}function r0(){for(;Ue!==null;)tp(Ue)}function n0(){for(;Ue!==null&&!Am();)tp(Ue)}function tp(e){var t=ip(e.alternate,e,vt);e.memoizedProps=e.pendingProps,t===null?rp(e):Ue=t,du.current=null}function rp(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=Xg(i,t),i!==null){i.flags&=32767,Ue=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ge=6,Ue=null;return}}else if(i=Qg(i,t,vt),i!==null){Ue=i;return}if(t=t.sibling,t!==null){Ue=t;return}Ue=t=e}while(t!==null);Ge===0&&(Ge=5)}function Wr(e,t,i){var u=we,h=_t.transition;try{_t.transition=null,we=1,i0(e,t,i,u)}finally{_t.transition=h,we=u}return null}function i0(e,t,i,u){do Fn();while(Tr!==null);if(Ee&6)throw Error(Y(327));i=e.finishedWork;var h=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(Y(177));e.callbackNode=null,e.callbackPriority=0;var m=i.lanes|i.childLanes;if(Um(e,m),e===Ve&&(Ue=Ve=null,$e=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||xa||(xa=!0,ap(Ha,function(){return Fn(),null})),m=(i.flags&15990)!==0,i.subtreeFlags&15990||m){m=_t.transition,_t.transition=null;var y=we;we=1;var R=Ee;Ee|=4,du.current=null,Zg(e,i),Xh(i,e),wg(rl),Ka=!!tl,rl=tl=null,e.current=i,Jg(i),Cm(),Ee=R,we=y,_t.transition=m}else e.current=i;if(xa&&(xa=!1,Tr=e,os=h),m=e.pendingLanes,m===0&&(_r=null),Im(i.stateNode),pt(e,Ne()),t!==null)for(u=e.onRecoverableError,i=0;i<t.length;i++)h=t[i],u(h.value,{componentStack:h.stack,digest:h.digest});if(ss)throw ss=!1,e=Ll,Ll=null,e;return os&1&&e.tag!==0&&Fn(),m=e.pendingLanes,m&1?e===kl?Li++:(Li=0,kl=e):Li=0,Or(),null}function Fn(){if(Tr!==null){var e=Mf(os),t=_t.transition,i=we;try{if(_t.transition=null,we=16>e?16:e,Tr===null)var u=!1;else{if(e=Tr,Tr=null,os=0,Ee&6)throw Error(Y(331));var h=Ee;for(Ee|=4,re=e.current;re!==null;){var m=re,y=m.child;if(re.flags&16){var R=m.deletions;if(R!==null){for(var A=0;A<R.length;A++){var I=R[A];for(re=I;re!==null;){var z=re;switch(z.tag){case 0:case 11:case 15:Si(8,z,m)}var G=z.child;if(G!==null)G.return=z,re=G;else for(;re!==null;){z=re;var B=z.sibling,X=z.return;if(Yh(z),z===I){re=null;break}if(B!==null){B.return=X,re=B;break}re=X}}}var J=m.alternate;if(J!==null){var Q=J.child;if(Q!==null){J.child=null;do{var me=Q.sibling;Q.sibling=null,Q=me}while(Q!==null)}}re=m}}if(m.subtreeFlags&2064&&y!==null)y.return=m,re=y;else e:for(;re!==null;){if(m=re,m.flags&2048)switch(m.tag){case 0:case 11:case 15:Si(9,m,m.return)}var P=m.sibling;if(P!==null){P.return=m.return,re=P;break e}re=m.return}}var C=e.current;for(re=C;re!==null;){y=re;var O=y.child;if(y.subtreeFlags&2064&&O!==null)O.return=y,re=O;else e:for(y=C;re!==null;){if(R=re,R.flags&2048)try{switch(R.tag){case 0:case 11:case 15:Es(9,R)}}catch(H){Oe(R,R.return,H)}if(R===y){re=null;break e}var V=R.sibling;if(V!==null){V.return=R.return,re=V;break e}re=R.return}}if(Ee=h,Or(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(cs,e)}catch{}u=!0}return u}finally{we=i,_t.transition=t}}return!1}function Kc(e,t,i){t=Bn(i,t),t=Nh(e,t,1),e=xr(e,t,1),t=at(),e!==null&&(zi(e,1,t),pt(e,t))}function Oe(e,t,i){if(e.tag===3)Kc(e,e,i);else for(;t!==null;){if(t.tag===3){Kc(t,e,i);break}else if(t.tag===1){var u=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(_r===null||!_r.has(u))){e=Bn(i,e),e=bh(t,e,1),t=xr(t,e,1),e=at(),t!==null&&(zi(t,1,e),pt(t,e));break}}t=t.return}}function a0(e,t,i){var u=e.pingCache;u!==null&&u.delete(t),t=at(),e.pingedLanes|=e.suspendedLanes&i,Ve===e&&($e&i)===i&&(Ge===4||Ge===3&&($e&130023424)===$e&&500>Ne()-fu?Xr(e,0):cu|=i),pt(e,t)}function np(e,t){t===0&&(e.mode&1?(t=ma,ma<<=1,!(ma&130023424)&&(ma=4194304)):t=1);var i=at();e=ar(e,t),e!==null&&(zi(e,t,i),pt(e,i))}function s0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),np(e,i)}function o0(e,t){var i=0;switch(e.tag){case 13:var u=e.stateNode,h=e.memoizedState;h!==null&&(i=h.retryLane);break;case 19:u=e.stateNode;break;default:throw Error(Y(314))}u!==null&&u.delete(t),np(e,i)}var ip;ip=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||ft.current)ct=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return ct=!1,$g(e,t,i);ct=!!(e.flags&131072)}else ct=!1,Ae&&t.flags&1048576&&oh(t,Za,t.index);switch(t.lanes=0,t.tag){case 2:var u=t.type;Na(e,t),e=t.pendingProps;var h=Mn(t,tt.current);In(t,i),h=au(null,t,u,e,h,i);var m=su();return t.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ht(u)?(m=!0,Xa(t)):m=!1,t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,eu(t),h.updater=gs,t.stateNode=h,h._reactInternals=t,cl(t,u,e,i),t=pl(null,t,u,!0,m,i)):(t.tag=0,Ae&&m&&Yl(t),it(null,t,h,i),t=t.child),t;case 16:u=t.elementType;e:{switch(Na(e,t),e=t.pendingProps,h=u._init,u=h(u._payload),t.type=u,h=t.tag=u0(u),e=Mt(u,e),h){case 0:t=hl(null,t,u,e,i);break e;case 1:t=Mc(null,t,u,e,i);break e;case 11:t=Fc(null,t,u,e,i);break e;case 14:t=Oc(null,t,u,Mt(u.type,e),i);break e}throw Error(Y(306,u,""))}return t;case 0:return u=t.type,h=t.pendingProps,h=t.elementType===u?h:Mt(u,h),hl(e,t,u,h,i);case 1:return u=t.type,h=t.pendingProps,h=t.elementType===u?h:Mt(u,h),Mc(e,t,u,h,i);case 3:e:{if(jh(t),e===null)throw Error(Y(387));u=t.pendingProps,m=t.memoizedState,h=m.element,ch(e,t),ts(t,u,null,i);var y=t.memoizedState;if(u=y.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},t.updateQueue.baseState=m,t.memoizedState=m,t.flags&256){h=Bn(Error(Y(423)),t),t=Nc(e,t,u,i,h);break e}else if(u!==h){h=Bn(Error(Y(424)),t),t=Nc(e,t,u,i,h);break e}else for(gt=Rr(t.stateNode.containerInfo.firstChild),yt=t,Ae=!0,bt=null,i=vh(t,null,u,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Nn(),u===h){t=sr(e,t,i);break e}it(e,t,u,i)}t=t.child}return t;case 5:return mh(t),e===null&&ll(t),u=t.type,h=t.pendingProps,m=e!==null?e.memoizedProps:null,y=h.children,nl(u,h)?y=null:m!==null&&nl(u,m)&&(t.flags|=32),Gh(e,t),it(e,t,y,i),t.child;case 6:return e===null&&ll(t),null;case 13:return zh(e,t,i);case 4:return tu(t,t.stateNode.containerInfo),u=t.pendingProps,e===null?t.child=bn(t,null,u,i):it(e,t,u,i),t.child;case 11:return u=t.type,h=t.pendingProps,h=t.elementType===u?h:Mt(u,h),Fc(e,t,u,h,i);case 7:return it(e,t,t.pendingProps,i),t.child;case 8:return it(e,t,t.pendingProps.children,i),t.child;case 12:return it(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(u=t.type._context,h=t.pendingProps,m=t.memoizedProps,y=h.value,Re(Ja,u._currentValue),u._currentValue=y,m!==null)if(Gt(m.value,y)){if(m.children===h.children&&!ft.current){t=sr(e,t,i);break e}}else for(m=t.child,m!==null&&(m.return=t);m!==null;){var R=m.dependencies;if(R!==null){y=m.child;for(var A=R.firstContext;A!==null;){if(A.context===u){if(m.tag===1){A=rr(-1,i&-i),A.tag=2;var I=m.updateQueue;if(I!==null){I=I.shared;var z=I.pending;z===null?A.next=A:(A.next=z.next,z.next=A),I.pending=A}}m.lanes|=i,A=m.alternate,A!==null&&(A.lanes|=i),ul(m.return,i,t),R.lanes|=i;break}A=A.next}}else if(m.tag===10)y=m.type===t.type?null:m.child;else if(m.tag===18){if(y=m.return,y===null)throw Error(Y(341));y.lanes|=i,R=y.alternate,R!==null&&(R.lanes|=i),ul(y,i,t),y=m.sibling}else y=m.child;if(y!==null)y.return=m;else for(y=m;y!==null;){if(y===t){y=null;break}if(m=y.sibling,m!==null){m.return=y.return,y=m;break}y=y.return}m=y}it(e,t,h.children,i),t=t.child}return t;case 9:return h=t.type,u=t.pendingProps.children,In(t,i),h=At(h),u=u(h),t.flags|=1,it(e,t,u,i),t.child;case 14:return u=t.type,h=Mt(u,t.pendingProps),h=Mt(u.type,h),Oc(e,t,u,h,i);case 15:return Uh(e,t,t.type,t.pendingProps,i);case 17:return u=t.type,h=t.pendingProps,h=t.elementType===u?h:Mt(u,h),Na(e,t),t.tag=1,ht(u)?(e=!0,Xa(t)):e=!1,In(t,i),hh(t,u,h),cl(t,u,h,i),pl(null,t,u,!0,e,i);case 19:return Hh(e,t,i);case 22:return Bh(e,t,i)}throw Error(Y(156,t.tag))};function ap(e,t){return Pf(e,t)}function l0(e,t,i,u){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(e,t,i,u){return new l0(e,t,i,u)}function mu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function u0(e){if(typeof e=="function")return mu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ml)return 11;if(e===Nl)return 14}return 2}function Cr(e,t){var i=e.alternate;return i===null?(i=xt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Ba(e,t,i,u,h,m){var y=2;if(u=e,typeof e=="function")mu(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case gn:return qr(i.children,h,m,t);case Ol:y=8,h|=8;break;case Mo:return e=xt(12,i,t,h|2),e.elementType=Mo,e.lanes=m,e;case No:return e=xt(13,i,t,h),e.elementType=No,e.lanes=m,e;case bo:return e=xt(19,i,t,h),e.elementType=bo,e.lanes=m,e;case pf:return Ts(i,h,m,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ff:y=10;break e;case hf:y=9;break e;case Ml:y=11;break e;case Nl:y=14;break e;case mr:y=16,u=null;break e}throw Error(Y(130,e==null?e:typeof e,""))}return t=xt(y,i,t,h),t.elementType=e,t.type=u,t.lanes=m,t}function qr(e,t,i,u){return e=xt(7,e,u,t),e.lanes=i,e}function Ts(e,t,i,u){return e=xt(22,e,u,t),e.elementType=pf,e.lanes=i,e.stateNode={isHidden:!1},e}function Po(e,t,i){return e=xt(6,e,null,t),e.lanes=i,e}function Io(e,t,i){return t=xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function d0(e,t,i,u,h){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fo(0),this.expirationTimes=fo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fo(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function gu(e,t,i,u,h,m,y,R,A){return e=new d0(e,t,i,R,A),t===1?(t=1,m===!0&&(t|=8)):t=0,m=xt(3,null,null,t),e.current=m,m.stateNode=e,m.memoizedState={element:u,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},eu(m),e}function c0(e,t,i){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mn,key:u==null?null:""+u,children:e,containerInfo:t,implementation:i}}function sp(e){if(!e)return Pr;e=e._reactInternals;e:{if(an(e)!==e||e.tag!==1)throw Error(Y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Y(171))}if(e.tag===1){var i=e.type;if(ht(i))return ah(e,i,t)}return t}function op(e,t,i,u,h,m,y,R,A){return e=gu(i,u,!0,e,h,m,y,R,A),e.context=sp(null),i=e.current,u=at(),h=Ar(i),m=rr(u,h),m.callback=t??null,xr(i,m,h),e.current.lanes=h,zi(e,h,u),pt(e,u),e}function Ls(e,t,i,u){var h=t.current,m=at(),y=Ar(h);return i=sp(i),t.context===null?t.context=i:t.pendingContext=i,t=rr(m,y),t.payload={element:e},u=u===void 0?null:u,u!==null&&(t.callback=u),e=xr(h,t,y),e!==null&&(Bt(e,h,y,m),Fa(e,h,y)),y}function us(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function yu(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}function f0(){return null}var lp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Eu(e){this._internalRoot=e}ks.prototype.render=Eu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));Ls(e,t,null,null)};ks.prototype.unmount=Eu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rn(function(){Ls(null,e,null,null)}),t[ir]=null}};function ks(e){this._internalRoot=e}ks.prototype.unstable_scheduleHydration=function(e){if(e){var t=Uf();e={blockedOn:null,target:e,priority:t};for(var i=0;i<yr.length&&t!==0&&t<yr[i].priority;i++);yr.splice(i,0,e),i===0&&Gf(e)}};function Su(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ws(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yc(){}function h0(e,t,i,u,h){if(h){if(typeof u=="function"){var m=u;u=function(){var I=us(y);m.call(I)}}var y=op(t,u,e,0,null,!1,!1,"",Yc);return e._reactRootContainer=y,e[ir]=y.current,Pi(e.nodeType===8?e.parentNode:e),rn(),y}for(;h=e.lastChild;)e.removeChild(h);if(typeof u=="function"){var R=u;u=function(){var I=us(A);R.call(I)}}var A=gu(e,0,!1,null,null,!1,!1,"",Yc);return e._reactRootContainer=A,e[ir]=A.current,Pi(e.nodeType===8?e.parentNode:e),rn(function(){Ls(t,A,i,u)}),A}function Rs(e,t,i,u,h){var m=i._reactRootContainer;if(m){var y=m;if(typeof h=="function"){var R=h;h=function(){var A=us(y);R.call(A)}}Ls(t,y,e,h)}else y=h0(i,t,e,h,u);return us(y)}Nf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=fi(t.pendingLanes);i!==0&&(Bl(t,i|1),pt(t,Ne()),!(Ee&6)&&(Gn=Ne()+500,Or()))}break;case 13:rn(function(){var u=ar(e,1);if(u!==null){var h=at();Bt(u,e,1,h)}}),yu(e,1)}};Gl=function(e){if(e.tag===13){var t=ar(e,134217728);if(t!==null){var i=at();Bt(t,e,134217728,i)}yu(e,134217728)}};bf=function(e){if(e.tag===13){var t=Ar(e),i=ar(e,t);if(i!==null){var u=at();Bt(i,e,t,u)}yu(e,t)}};Uf=function(){return we};Bf=function(e,t){var i=we;try{return we=e,t()}finally{we=i}};Yo=function(e,t,i){switch(t){case"input":if(Go(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var u=i[t];if(u!==e&&u.form===e.form){var h=vs(u);if(!h)throw Error(Y(90));mf(u),Go(u,h)}}}break;case"textarea":yf(e,i);break;case"select":t=i.value,t!=null&&An(e,!!i.multiple,t,!1)}};Rf=hu;xf=rn;var p0={usingClientEntryPoint:!1,Events:[Vi,Tn,vs,kf,wf,hu]},li={findFiberByHostInstance:Yr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},v0={bundleType:li.bundleType,version:li.version,rendererPackageName:li.rendererPackageName,rendererConfig:li.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:or.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cf(e),e===null?null:e.stateNode},findFiberByHostInstance:li.findFiberByHostInstance||f0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_a.isDisabled&&_a.supportsFiber)try{cs=_a.inject(v0),Wt=_a}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p0;St.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Su(t))throw Error(Y(200));return c0(e,t,null,i)};St.createRoot=function(e,t){if(!Su(e))throw Error(Y(299));var i=!1,u="",h=lp;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(u=t.identifierPrefix),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=gu(e,1,!1,null,null,i,!1,u,h),e[ir]=t.current,Pi(e.nodeType===8?e.parentNode:e),new Eu(t)};St.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=Cf(t),e=e===null?null:e.stateNode,e};St.flushSync=function(e){return rn(e)};St.hydrate=function(e,t,i){if(!ws(t))throw Error(Y(200));return Rs(null,e,t,!0,i)};St.hydrateRoot=function(e,t,i){if(!Su(e))throw Error(Y(405));var u=i!=null&&i.hydratedSources||null,h=!1,m="",y=lp;if(i!=null&&(i.unstable_strictMode===!0&&(h=!0),i.identifierPrefix!==void 0&&(m=i.identifierPrefix),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),t=op(t,null,e,1,i??null,h,!1,m,y),e[ir]=t.current,Pi(e),u)for(e=0;e<u.length;e++)i=u[e],h=i._getVersion,h=h(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,h]:t.mutableSourceEagerHydrationData.push(i,h);return new ks(t)};St.render=function(e,t,i){if(!ws(t))throw Error(Y(200));return Rs(null,e,t,!1,i)};St.unmountComponentAtNode=function(e){if(!ws(e))throw Error(Y(40));return e._reactRootContainer?(rn(function(){Rs(null,null,e,!1,function(){e._reactRootContainer=null,e[ir]=null})}),!0):!1};St.unstable_batchedUpdates=hu;St.unstable_renderSubtreeIntoContainer=function(e,t,i,u){if(!ws(i))throw Error(Y(200));if(e==null||e._reactInternals===void 0)throw Error(Y(38));return Rs(e,t,i,!1,u)};St.version="18.2.0-next-9e3b772b8-20220608";function up(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(up)}catch(e){console.error(e)}}up(),of.exports=St;var m0=of.exports,$c=m0;Fo.createRoot=$c.createRoot,Fo.hydrateRoot=$c.hydrateRoot;var dp={exports:{}};(function(e,t){(function i(u){var h;h=function(){function m(d,o){var r=Object.keys(d);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(d);o&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(d,a).enumerable})),r.push.apply(r,n)}return r}function y(d){for(var o=1;o<arguments.length;o++){var r=arguments[o]!=null?arguments[o]:{};o%2?m(Object(r),!0).forEach(function(n){I(d,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(n){Object.defineProperty(d,n,Object.getOwnPropertyDescriptor(r,n))})}return d}function R(d,o){for(var r=0;r<o.length;r++){var n=o[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(d,P(n.key),n)}}function A(d,o,r){return o&&R(d.prototype,o),r&&R(d,r),Object.defineProperty(d,"prototype",{writable:!1}),d}function I(d,o,r){return(o=P(o))in d?Object.defineProperty(d,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):d[o]=r,d}function z(){return z=Object.assign?Object.assign.bind():function(d){for(var o=1;o<arguments.length;o++){var r=arguments[o];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(d[n]=r[n])}return d},z.apply(this,arguments)}function G(d,o){d.prototype=Object.create(o.prototype),d.prototype.constructor=d,X(d,o)}function B(d){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},B(d)}function X(d,o){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},X(d,o)}function J(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Q(d,o,r){return Q=J()?Reflect.construct.bind():function(n,a,s){var l=[null];l.push.apply(l,a);var c=new(Function.bind.apply(n,l));return s&&X(c,s.prototype),c},Q.apply(null,arguments)}function me(d){var o=typeof Map=="function"?new Map:void 0;return me=function(r){if(r===null||(n=r,Function.toString.call(n).indexOf("[native code]")===-1))return r;var n;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(o!==void 0){if(o.has(r))return o.get(r);o.set(r,a)}function a(){return Q(r,arguments,B(this).constructor)}return a.prototype=Object.create(r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),X(a,r)},me(d)}function P(d){var o=function(r,n){if(typeof r!="object"||r===null)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var s=a.call(r,n||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(d,"string");return typeof o=="symbol"?o:String(o)}function C(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var O={exports:{}};(function(d,o){var r,n,a,s,l;r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,n=/^(?=([^\/?#]*))\1([^]*)$/,a=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,l={buildAbsoluteURL:function(c,f,p){if(p=p||{},c=c.trim(),!(f=f.trim())){if(!p.alwaysNormalize)return c;var v=l.parseURL(c);if(!v)throw new Error("Error trying to parse base URL.");return v.path=l.normalizePath(v.path),l.buildURLFromParts(v)}var g=l.parseURL(f);if(!g)throw new Error("Error trying to parse relative URL.");if(g.scheme)return p.alwaysNormalize?(g.path=l.normalizePath(g.path),l.buildURLFromParts(g)):f;var E=l.parseURL(c);if(!E)throw new Error("Error trying to parse base URL.");if(!E.netLoc&&E.path&&E.path[0]!=="/"){var S=n.exec(E.path);E.netLoc=S[1],E.path=S[2]}E.netLoc&&!E.path&&(E.path="/");var L={scheme:E.scheme,netLoc:g.netLoc,path:null,params:g.params,query:g.query,fragment:g.fragment};if(!g.netLoc&&(L.netLoc=E.netLoc,g.path[0]!=="/"))if(g.path){var k=E.path,_=k.substring(0,k.lastIndexOf("/")+1)+g.path;L.path=l.normalizePath(_)}else L.path=E.path,g.params||(L.params=E.params,g.query||(L.query=E.query));return L.path===null&&(L.path=p.alwaysNormalize?l.normalizePath(g.path):g.path),l.buildURLFromParts(L)},parseURL:function(c){var f=r.exec(c);return f?{scheme:f[1]||"",netLoc:f[2]||"",path:f[3]||"",params:f[4]||"",query:f[5]||"",fragment:f[6]||""}:null},normalizePath:function(c){for(c=c.split("").reverse().join("").replace(a,"");c.length!==(c=c.replace(s,"")).length;);return c.split("").reverse().join("")},buildURLFromParts:function(c){return c.scheme+c.netLoc+c.path+c.params+c.query+c.fragment}},d.exports=l})(O);var V=O.exports,H=Number.isFinite||function(d){return typeof d=="number"&&isFinite(d)},x=function(d){return d.MEDIA_ATTACHING="hlsMediaAttaching",d.MEDIA_ATTACHED="hlsMediaAttached",d.MEDIA_DETACHING="hlsMediaDetaching",d.MEDIA_DETACHED="hlsMediaDetached",d.BUFFER_RESET="hlsBufferReset",d.BUFFER_CODECS="hlsBufferCodecs",d.BUFFER_CREATED="hlsBufferCreated",d.BUFFER_APPENDING="hlsBufferAppending",d.BUFFER_APPENDED="hlsBufferAppended",d.BUFFER_EOS="hlsBufferEos",d.BUFFER_FLUSHING="hlsBufferFlushing",d.BUFFER_FLUSHED="hlsBufferFlushed",d.MANIFEST_LOADING="hlsManifestLoading",d.MANIFEST_LOADED="hlsManifestLoaded",d.MANIFEST_PARSED="hlsManifestParsed",d.LEVEL_SWITCHING="hlsLevelSwitching",d.LEVEL_SWITCHED="hlsLevelSwitched",d.LEVEL_LOADING="hlsLevelLoading",d.LEVEL_LOADED="hlsLevelLoaded",d.LEVEL_UPDATED="hlsLevelUpdated",d.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",d.LEVELS_UPDATED="hlsLevelsUpdated",d.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",d.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",d.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",d.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",d.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",d.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",d.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",d.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",d.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",d.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",d.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",d.CUES_PARSED="hlsCuesParsed",d.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",d.INIT_PTS_FOUND="hlsInitPtsFound",d.FRAG_LOADING="hlsFragLoading",d.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",d.FRAG_LOADED="hlsFragLoaded",d.FRAG_DECRYPTED="hlsFragDecrypted",d.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",d.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",d.FRAG_PARSING_METADATA="hlsFragParsingMetadata",d.FRAG_PARSED="hlsFragParsed",d.FRAG_BUFFERED="hlsFragBuffered",d.FRAG_CHANGED="hlsFragChanged",d.FPS_DROP="hlsFpsDrop",d.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",d.ERROR="hlsError",d.DESTROYING="hlsDestroying",d.KEY_LOADING="hlsKeyLoading",d.KEY_LOADED="hlsKeyLoaded",d.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",d.BACK_BUFFER_REACHED="hlsBackBufferReached",d}({}),K=function(d){return d.NETWORK_ERROR="networkError",d.MEDIA_ERROR="mediaError",d.KEY_SYSTEM_ERROR="keySystemError",d.MUX_ERROR="muxError",d.OTHER_ERROR="otherError",d}({}),N=function(d){return d.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",d.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",d.KEY_SYSTEM_NO_SESSION="keySystemNoSession",d.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",d.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",d.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",d.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",d.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",d.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",d.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",d.MANIFEST_LOAD_ERROR="manifestLoadError",d.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",d.MANIFEST_PARSING_ERROR="manifestParsingError",d.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",d.LEVEL_EMPTY_ERROR="levelEmptyError",d.LEVEL_LOAD_ERROR="levelLoadError",d.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",d.LEVEL_PARSING_ERROR="levelParsingError",d.LEVEL_SWITCH_ERROR="levelSwitchError",d.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",d.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",d.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",d.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",d.FRAG_LOAD_ERROR="fragLoadError",d.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",d.FRAG_DECRYPT_ERROR="fragDecryptError",d.FRAG_PARSING_ERROR="fragParsingError",d.FRAG_GAP="fragGap",d.REMUX_ALLOC_ERROR="remuxAllocError",d.KEY_LOAD_ERROR="keyLoadError",d.KEY_LOAD_TIMEOUT="keyLoadTimeOut",d.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",d.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",d.BUFFER_APPEND_ERROR="bufferAppendError",d.BUFFER_APPENDING_ERROR="bufferAppendingError",d.BUFFER_STALLED_ERROR="bufferStalledError",d.BUFFER_FULL_ERROR="bufferFullError",d.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",d.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",d.INTERNAL_EXCEPTION="internalException",d.INTERNAL_ABORTED="aborted",d.UNKNOWN="unknown",d}({}),ke=function(){},pe={trace:ke,debug:ke,log:ke,warn:ke,info:ke,error:ke},Ke=pe;function Mr(d){var o=self.console[d];return o?o.bind(self.console,"["+d+"] >"):ke}function lr(d,o){if(self.console&&d===!0||typeof d=="object"){(function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];a.forEach(function(l){Ke[l]=r[l]?r[l].bind(r):Mr(l)})})(d,"debug","log","info","warn","error");try{Ke.log('Debug logs enabled for "'+o+'" in hls.js version 1.4.12')}catch{Ke=pe}}else Ke=pe}var M=Ke,xs=/^(\d+)x(\d+)$/,sn=/(.+?)=(".*?"|.*?)(?:,|$)/g,Me=function(){function d(r){for(var n in typeof r=="string"&&(r=d.parseAttrList(r)),r)r.hasOwnProperty(n)&&(n.substring(0,2)==="X-"&&(this.clientAttrs=this.clientAttrs||[],this.clientAttrs.push(n)),this[n]=r[n])}var o=d.prototype;return o.decimalInteger=function(r){var n=parseInt(this[r],10);return n>Number.MAX_SAFE_INTEGER?1/0:n},o.hexadecimalInteger=function(r){if(this[r]){var n=(this[r]||"0x").slice(2);n=(1&n.length?"0":"")+n;for(var a=new Uint8Array(n.length/2),s=0;s<n.length/2;s++)a[s]=parseInt(n.slice(2*s,2*s+2),16);return a}return null},o.hexadecimalIntegerAsNumber=function(r){var n=parseInt(this[r],16);return n>Number.MAX_SAFE_INTEGER?1/0:n},o.decimalFloatingPoint=function(r){return parseFloat(this[r])},o.optionalFloat=function(r,n){var a=this[r];return a?parseFloat(a):n},o.enumeratedString=function(r){return this[r]},o.bool=function(r){return this[r]==="YES"},o.decimalResolution=function(r){var n=xs.exec(this[r]);if(n!==null)return{width:parseInt(n[1],10),height:parseInt(n[2],10)}},d.parseAttrList=function(r){var n,a={};for(sn.lastIndex=0;(n=sn.exec(r))!==null;){var s=n[2];s.indexOf('"')===0&&s.lastIndexOf('"')===s.length-1&&(s=s.slice(1,-1)),a[n[1].trim()]=s}return a},d}();function te(d){return d==="SCTE35-OUT"||d==="SCTE35-IN"}var ce=function(){function d(o,r){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,r){var n=r.attr;for(var a in n)if(Object.prototype.hasOwnProperty.call(o,a)&&o[a]!==n[a]){M.warn('DATERANGE tag attribute: "'+a+'" does not match for tags with ID: "'+o.ID+'"'),this._badValueForSameId=a;break}o=z(new Me({}),n,o)}if(this.attr=o,this._startDate=new Date(o["START-DATE"]),"END-DATE"in this.attr){var s=new Date(this.attr["END-DATE"]);H(s.getTime())&&(this._endDate=s)}}return A(d,[{key:"id",get:function(){return this.attr.ID}},{key:"class",get:function(){return this.attr.CLASS}},{key:"startDate",get:function(){return this._startDate}},{key:"endDate",get:function(){if(this._endDate)return this._endDate;var o=this.duration;return o!==null?new Date(this._startDate.getTime()+1e3*o):null}},{key:"duration",get:function(){if("DURATION"in this.attr){var o=this.attr.decimalFloatingPoint("DURATION");if(H(o))return o}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}},{key:"plannedDuration",get:function(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}},{key:"endOnNext",get:function(){return this.attr.bool("END-ON-NEXT")}},{key:"isValid",get:function(){return!!this.id&&!this._badValueForSameId&&H(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)}}]),d}(),fe=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}},Se="audio",Le="video",ur="audiovideo",jt=function(){function d(o){var r;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((r={})[Se]=null,r[Le]=null,r[ur]=null,r),this.baseurl=o}return d.prototype.setByteRange=function(o,r){var n=o.split("@",2),a=[];n.length===1?a[0]=r?r.byteRangeEndOffset:0:a[0]=parseInt(n[1]),a[1]=parseInt(n[0])+a[0],this._byteRange=a},A(d,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=V.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(o){this._url=o}}]),d}(),Nr=function(d){function o(n,a){var s;return(s=d.call(this,a)||this)._decryptdata=null,s.rawProgramDateTime=null,s.programDateTime=null,s.tagList=[],s.duration=0,s.sn=0,s.levelkeys=void 0,s.type=void 0,s.loader=null,s.keyLoader=null,s.level=-1,s.cc=0,s.startPTS=void 0,s.endPTS=void 0,s.startDTS=void 0,s.endDTS=void 0,s.start=0,s.deltaPTS=void 0,s.maxStartPTS=void 0,s.minEndPTS=void 0,s.stats=new fe,s.urlId=0,s.data=void 0,s.bitrateTest=!1,s.title=null,s.initSegment=null,s.endList=void 0,s.gap=void 0,s.type=n,s}G(o,d);var r=o.prototype;return r.setKeyFormat=function(n){if(this.levelkeys){var a=this.levelkeys[n];a&&!this._decryptdata&&(this._decryptdata=a.getDecryptData(this.sn))}},r.abortRequests=function(){var n,a;(n=this.loader)==null||n.abort(),(a=this.keyLoader)==null||a.abort()},r.setElementaryStreamInfo=function(n,a,s,l,c,f){f===void 0&&(f=!1);var p=this.elementaryStreams,v=p[n];v?(v.startPTS=Math.min(v.startPTS,a),v.endPTS=Math.max(v.endPTS,s),v.startDTS=Math.min(v.startDTS,l),v.endDTS=Math.max(v.endDTS,c)):p[n]={startPTS:a,endPTS:s,startDTS:l,endDTS:c,partial:f}},r.clearElementaryStreamInfo=function(){var n=this.elementaryStreams;n[Se]=null,n[Le]=null,n[ur]=null},A(o,[{key:"decryptdata",get:function(){if(!this.levelkeys&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){var n=this.levelkeys.identity;if(n)this._decryptdata=n.getDecryptData(this.sn);else{var a=Object.keys(this.levelkeys);if(a.length===1)return this._decryptdata=this.levelkeys[a[0]].getDecryptData(this.sn)}}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(this.programDateTime===null||!H(this.programDateTime))return null;var n=H(this.duration)?this.duration:0;return this.programDateTime+1e3*n}},{key:"encrypted",get:function(){var n;if((n=this._decryptdata)!=null&&n.encrypted)return!0;if(this.levelkeys){var a=Object.keys(this.levelkeys),s=a.length;if(s>1||s===1&&this.levelkeys[a[0]].encrypted)return!0}return!1}}]),o}(jt),$t=function(d){function o(r,n,a,s,l){var c;(c=d.call(this,a)||this).fragOffset=0,c.duration=0,c.gap=!1,c.independent=!1,c.relurl=void 0,c.fragment=void 0,c.index=void 0,c.stats=new fe,c.duration=r.decimalFloatingPoint("DURATION"),c.gap=r.bool("GAP"),c.independent=r.bool("INDEPENDENT"),c.relurl=r.enumeratedString("URI"),c.fragment=n,c.index=s;var f=r.enumeratedString("BYTERANGE");return f&&c.setByteRange(f,l),l&&(c.fragOffset=l.fragOffset+l.duration),c}return G(o,d),A(o,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var r=this.elementaryStreams;return!!(r.audio||r.video||r.audiovideo)}}]),o}(jt),on=function(){function d(o){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=o}return d.prototype.reloaded=function(o){if(!o)return this.advanced=!0,void(this.updated=!0);var r=this.lastPartSn-o.lastPartSn,n=this.lastPartIndex-o.lastPartIndex;this.updated=this.endSN!==o.endSN||!!n||!!r||!this.live,this.advanced=this.endSN>o.endSN||r>0||r===0&&n>0,this.updated||this.advanced?this.misses=Math.floor(.6*o.misses):this.misses=o.misses+1,this.availabilityDelay=o.availabilityDelay},A(d,[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&H(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var o=this.driftEndTime-this.driftStartTime;return o>0?1e3*(this.driftEnd-this.driftStart)/o:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var o;return(o=this.partList)!=null&&o.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var o;return(o=this.fragments)!=null&&o.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var o;return(o=this.partList)!=null&&o.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var o;return(o=this.partList)!=null&&o.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}]),d}(),cp=C(void 0);function br(d,o,r){return Uint8Array.prototype.slice?d.slice(o,r):new Uint8Array(Array.prototype.slice.call(d,o,r))}var _s,As=function(d,o){return o+10<=d.length&&d[o]===73&&d[o+1]===68&&d[o+2]===51&&d[o+3]<255&&d[o+4]<255&&d[o+6]<128&&d[o+7]<128&&d[o+8]<128&&d[o+9]<128},Tu=function(d,o){return o+10<=d.length&&d[o]===51&&d[o+1]===68&&d[o+2]===73&&d[o+3]<255&&d[o+4]<255&&d[o+6]<128&&d[o+7]<128&&d[o+8]<128&&d[o+9]<128},Wi=function(d,o){for(var r=o,n=0;As(d,o);)n+=10,n+=Yi(d,o+6),Tu(d,o+10)&&(n+=10),o+=n;if(n>0)return d.subarray(r,r+n)},Yi=function(d,o){var r=0;return r=(127&d[o])<<21,r|=(127&d[o+1])<<14,r|=(127&d[o+2])<<7,r|=127&d[o+3]},fp=function(d,o){return As(d,o)&&Yi(d,o+6)+10<=d.length-o},Lu=function(d){return d&&d.key==="PRIV"&&d.info==="com.apple.streaming.transportStreamTimestamp"},hp=function(d){var o=String.fromCharCode(d[0],d[1],d[2],d[3]),r=Yi(d,4);return{type:o,size:r,data:d.subarray(10,10+r)}},ku=function(d){for(var o=0,r=[];As(d,o);){for(var n=Yi(d,o+6),a=(o+=10)+n;o+8<a;){var s=hp(d.subarray(o)),l=pp(s);l&&r.push(l),o+=s.size+10}Tu(d,o)&&(o+=10)}return r},pp=function(d){return d.type==="PRIV"?vp(d):d.type[0]==="W"?gp(d):mp(d)},vp=function(d){if(!(d.size<2)){var o=dr(d.data,!0),r=new Uint8Array(d.data.subarray(o.length+1));return{key:d.type,info:o,data:r.buffer}}},mp=function(d){if(!(d.size<2)){if(d.type==="TXXX"){var o=1,r=dr(d.data.subarray(o),!0);o+=r.length+1;var n=dr(d.data.subarray(o));return{key:d.type,info:r,data:n}}var a=dr(d.data.subarray(1));return{key:d.type,data:a}}},gp=function(d){if(d.type==="WXXX"){if(d.size<2)return;var o=1,r=dr(d.data.subarray(o),!0);o+=r.length+1;var n=dr(d.data.subarray(o));return{key:d.type,info:r,data:n}}var a=dr(d.data);return{key:d.type,data:a}},yp=function(d){if(d.data.byteLength===8){var o=new Uint8Array(d.data),r=1&o[3],n=(o[4]<<23)+(o[5]<<15)+(o[6]<<7)+o[7];return n/=45,r&&(n+=4772185884e-2),Math.round(n)}},dr=function(d,o){o===void 0&&(o=!1);var r=Ep();if(r){var n=r.decode(d);if(o){var a=n.indexOf("\0");return a!==-1?n.substring(0,a):n}return n.replace(/\0/g,"")}for(var s,l,c,f=d.length,p="",v=0;v<f;){if((s=d[v++])===0&&o)return p;if(s!==0&&s!==3)switch(s>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:p+=String.fromCharCode(s);break;case 12:case 13:l=d[v++],p+=String.fromCharCode((31&s)<<6|63&l);break;case 14:l=d[v++],c=d[v++],p+=String.fromCharCode((15&s)<<12|(63&l)<<6|(63&c)<<0)}}return p};function Ep(){return _s||self.TextDecoder===void 0||(_s=new self.TextDecoder("utf-8")),_s}var wu=function(d){for(var o="",r=0;r<d.length;r++){var n=d[r].toString(16);n.length<2&&(n="0"+n),o+=n}return o},$i=Math.pow(2,32)-1,Sp=[].push,Ru={video:1,audio:2,id3:3,text:4};function Xe(d){return String.fromCharCode.apply(null,d)}function xu(d,o){var r=d[o]<<8|d[o+1];return r<0?65536+r:r}function ue(d,o){var r=_u(d,o);return r<0?4294967296+r:r}function _u(d,o){return d[o]<<24|d[o+1]<<16|d[o+2]<<8|d[o+3]}function Cs(d,o,r){d[o]=r>>24,d[o+1]=r>>16&255,d[o+2]=r>>8&255,d[o+3]=255&r}function Te(d,o){var r=[];if(!o.length)return r;for(var n=d.byteLength,a=0;a<n;){var s=ue(d,a),l=s>1?a+s:n;if(Xe(d.subarray(a+4,a+8))===o[0])if(o.length===1)r.push(d.subarray(a+8,l));else{var c=Te(d.subarray(a+8,l),o.slice(1));c.length&&Sp.apply(r,c)}a=l}return r}function Tp(d){var o=[],r=d[0],n=8,a=ue(d,n);n+=4,n+=r===0?8:16,n+=2;var s=d.length+0,l=xu(d,n);n+=2;for(var c=0;c<l;c++){var f=n,p=ue(d,f);f+=4;var v=2147483647&p;if((2147483648&p)>>>31==1)return M.warn("SIDX has hierarchical references (not supported)"),null;var g=ue(d,f);f+=4,o.push({referenceSize:v,subsegmentDuration:g,info:{duration:g/a,start:s,end:s+v-1}}),s+=v,n=f+=4}return{earliestPresentationTime:0,timescale:a,version:r,referencesCount:l,references:o}}function Au(d){for(var o=[],r=Te(d,["moov","trak"]),n=0;n<r.length;n++){var a=r[n],s=Te(a,["tkhd"])[0];if(s){var l=s[0],c=l===0?12:20,f=ue(s,c),p=Te(a,["mdia","mdhd"])[0];if(p){var v=ue(p,c=(l=p[0])===0?12:20),g=Te(a,["mdia","hdlr"])[0];if(g){var E=Xe(g.subarray(8,12)),S={soun:Se,vide:Le}[E];if(S){var L=Te(a,["mdia","minf","stbl","stsd"])[0],k=void 0;L&&(k=Xe(L.subarray(12,16))),o[f]={timescale:v,type:S},o[S]={timescale:v,id:f,codec:k}}}}}}return Te(d,["moov","mvex","trex"]).forEach(function(_){var T=ue(_,4),w=o[T];w&&(w.default={duration:ue(_,12),flags:ue(_,20)})}),o}function Lp(d,o){if(!d||!o)return d;var r=o.keyId;return r&&o.isCommonEncryption&&Te(d,["moov","trak"]).forEach(function(n){var a=Te(n,["mdia","minf","stbl","stsd"])[0].subarray(8),s=Te(a,["enca"]),l=s.length>0;l||(s=Te(a,["encv"])),s.forEach(function(c){Te(l?c.subarray(28):c.subarray(78),["sinf"]).forEach(function(f){var p=function(g){var E=Te(g,["schm"])[0];if(E){var S=Xe(E.subarray(4,8));if(S==="cbcs"||S==="cenc")return Te(g,["schi","tenc"])[0]}return M.error("[eme] missing 'schm' box"),null}(f);if(p){var v=p.subarray(8,24);v.some(function(g){return g!==0})||(M.log("[eme] Patching keyId in 'enc"+(l?"a":"v")+">sinf>>tenc' box: "+wu(v)+" -> "+wu(r)),p.set(r,8))}})})}),d}function kp(d){var o=ue(d,0),r=8;1&o&&(r+=4),4&o&&(r+=4);for(var n=0,a=ue(d,4),s=0;s<a;s++)256&o&&(n+=ue(d,r),r+=4),512&o&&(r+=4),1024&o&&(r+=4),2048&o&&(r+=4);return n}function ln(d,o){var r=new Uint8Array(d.length+o.length);return r.set(d),r.set(o,d.length),r}function Cu(d,o){var r=[],n=o.samples,a=o.timescale,s=o.id,l=!1;return Te(n,["moof"]).map(function(c){var f=c.byteOffset-8;Te(c,["traf"]).map(function(p){var v=Te(p,["tfdt"]).map(function(g){var E=g[0],S=ue(g,4);return E===1&&(S*=Math.pow(2,32),S+=ue(g,8)),S/a})[0];return v!==void 0&&(d=v),Te(p,["tfhd"]).map(function(g){var E=ue(g,4),S=16777215&ue(g,0),L=0,k=(16&S)!=0,_=0,T=(32&S)!=0,w=8;E===s&&(1&S&&(w+=8),2&S&&(w+=4),8&S&&(L=ue(g,w),w+=4),k&&(_=ue(g,w),w+=4),T&&(w+=4),o.type==="video"&&(l=function(F){if(!F)return!1;var D=F.indexOf("."),b=D<0?F:F.substring(0,D);return b==="hvc1"||b==="hev1"||b==="dvh1"||b==="dvhe"}(o.codec)),Te(p,["trun"]).map(function(F){var D=F[0],b=16777215&ue(F,0),U=(1&b)!=0,j=0,$=(4&b)!=0,q=(256&b)!=0,W=0,ee=(512&b)!=0,Z=0,se=(1024&b)!=0,de=(2048&b)!=0,ne=0,le=ue(F,4),oe=8;U&&(j=ue(F,oe),oe+=4),$&&(oe+=4);for(var ae=j+f,he=0;he<le;he++){if(q?(W=ue(F,oe),oe+=4):W=L,ee?(Z=ue(F,oe),oe+=4):Z=_,se&&(oe+=4),de&&(ne=D===0?ue(F,oe):_u(F,oe),oe+=4),o.type===Le)for(var ge=0;ge<Z;){var ve=ue(n,ae);wp(l,n[ae+=4])&&Du(n.subarray(ae,ae+ve),l?2:1,d+ne/a,r),ae+=ve,ge+=ve+4}d+=W/a}}))})})}),r}function wp(d,o){if(d){var r=o>>1&63;return r===39||r===40}return(31&o)==6}function Du(d,o,r,n){var a=Pu(d),s=0;s+=o;for(var l=0,c=0,f=!1,p=0;s<a.length;){l=0;do{if(s>=a.length)break;l+=p=a[s++]}while(p===255);c=0;do{if(s>=a.length)break;c+=p=a[s++]}while(p===255);var v=a.length-s;if(!f&&l===4&&s<a.length){if(f=!0,a[s++]===181){var g=xu(a,s);if(s+=2,g===49){var E=ue(a,s);if(s+=4,E===1195456820){var S=a[s++];if(S===3){var L=a[s++],k=64&L,_=k?2+3*(31&L):0,T=new Uint8Array(_);if(k){T[0]=L;for(var w=1;w<_;w++)T[w]=a[s++]}n.push({type:S,payloadType:l,pts:r,bytes:T})}}}}}else if(l===5&&c<v){if(f=!0,c>16){for(var F=[],D=0;D<16;D++){var b=a[s++].toString(16);F.push(b.length==1?"0"+b:b),D!==3&&D!==5&&D!==7&&D!==9||F.push("-")}for(var U=c-16,j=new Uint8Array(U),$=0;$<U;$++)j[$]=a[s++];n.push({payloadType:l,pts:r,uuid:F.join(""),userData:dr(j),userDataBytes:j})}}else if(c<v)s+=c;else if(c>v)break}}function Pu(d){for(var o=d.byteLength,r=[],n=1;n<o-2;)d[n]===0&&d[n+1]===0&&d[n+2]===3?(r.push(n+2),n+=2):n++;if(r.length===0)return d;var a=o-r.length,s=new Uint8Array(a),l=0;for(n=0;n<a;l++,n++)l===r[0]&&(l++,r.shift()),s[n]=d[l];return s}var Rp=function(){function d(r,n,a,s,l){s===void 0&&(s=[1]),l===void 0&&(l=null),this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=r,this.uri=n,this.keyFormat=a,this.keyFormatVersions=s,this.iv=l,this.encrypted=!!r&&r!=="NONE",this.isCommonEncryption=this.encrypted&&r!=="AES-128"}d.clearKeyUriToKeyIdMap=function(){};var o=d.prototype;return o.isSupported=function(){if(this.method){if(this.method==="AES-128"||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES"}return!1},o.getDecryptData=function(r){if(!this.encrypted||!this.uri)return null;if(this.method==="AES-128"&&this.uri&&!this.iv){typeof r!="number"&&(this.method!=="AES-128"||this.iv||M.warn('missing IV for initialization segment with method="'+this.method+'" - compliance issue'),r=0);var n=function(a){for(var s=new Uint8Array(16),l=12;l<16;l++)s[l]=a>>8*(15-l)&255;return s}(r);return new d(this.method,this.uri,"identity",this.keyFormatVersions,n)}return this},d}();function Qi(){if(typeof self<"u")return self.MediaSource||self.WebKitMediaSource}var xp={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}},Iu=Qi();function Ds(d,o){var r;return(r=Iu==null?void 0:Iu.isTypeSupported((o||"video")+'/mp4;codecs="'+d+'"'))!=null&&r}var Fu=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,Ou=/#EXT-X-MEDIA:(.*)/g,_p=/^#EXT(?:INF|-X-TARGETDURATION):/m,Mu=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),Ap=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),Vn=function(){function d(){}return d.findGroup=function(o,r){for(var n=0;n<o.length;n++){var a=o[n];if(a.id===r)return a}},d.convertAVC1ToAVCOTI=function(o){var r=o.split(".");if(r.length>2){var n=r.shift()+".";return n+=parseInt(r.shift()).toString(16),n+=("000"+parseInt(r.shift()).toString(16)).slice(-4)}return o},d.resolve=function(o,r){return V.buildAbsoluteURL(r,o,{alwaysNormalize:!0})},d.isMediaPlaylist=function(o){return _p.test(o)},d.parseMasterPlaylist=function(o,r){var n,a={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:!1},s=[];for(Fu.lastIndex=0;(n=Fu.exec(o))!=null;)if(n[1]){var l,c=new Me(n[1]),f=n[2],p={attrs:c,bitrate:c.decimalInteger("AVERAGE-BANDWIDTH")||c.decimalInteger("BANDWIDTH"),name:c.NAME,url:d.resolve(f,r)},v=c.decimalResolution("RESOLUTION");v&&(p.width=v.width,p.height=v.height),Cp((c.CODECS||"").split(/[ ,]+/).filter(function(w){return w}),p),p.videoCodec&&p.videoCodec.indexOf("avc1")!==-1&&(p.videoCodec=d.convertAVC1ToAVCOTI(p.videoCodec)),(l=p.unknownCodecs)!=null&&l.length||s.push(p),a.levels.push(p)}else if(n[3]){var g=n[3],E=n[4];switch(g){case"SESSION-DATA":var S=new Me(E),L=S["DATA-ID"];L&&(a.sessionData===null&&(a.sessionData={}),a.sessionData[L]=S);break;case"SESSION-KEY":var k=Nu(E,r);k.encrypted&&k.isSupported()?(a.sessionKeys===null&&(a.sessionKeys=[]),a.sessionKeys.push(k)):M.warn('[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "'+E+'"');break;case"DEFINE":break;case"CONTENT-STEERING":var _=new Me(E);a.contentSteering={uri:d.resolve(_["SERVER-URI"],r),pathwayId:_["PATHWAY-ID"]||"."};break;case"START":a.startTimeOffset=bu(E)}}var T=s.length>0&&s.length<a.levels.length;return a.levels=T?s:a.levels,a.levels.length===0&&(a.playlistParsingError=new Error("no levels found in manifest")),a},d.parseMasterPlaylistMedia=function(o,r,n){var a,s={},l=n.levels,c={AUDIO:l.map(function(k){return{id:k.attrs.AUDIO,audioCodec:k.audioCodec}}),SUBTITLES:l.map(function(k){return{id:k.attrs.SUBTITLES,textCodec:k.textCodec}}),"CLOSED-CAPTIONS":[]},f=0;for(Ou.lastIndex=0;(a=Ou.exec(o))!==null;){var p=new Me(a[1]),v=p.TYPE;if(v){var g=c[v],E=s[v]||[];s[v]=E;var S={attrs:p,bitrate:0,id:f++,groupId:p["GROUP-ID"]||"",instreamId:p["INSTREAM-ID"],name:p.NAME||p.LANGUAGE||"",type:v,default:p.bool("DEFAULT"),autoselect:p.bool("AUTOSELECT"),forced:p.bool("FORCED"),lang:p.LANGUAGE,url:p.URI?d.resolve(p.URI,r):""};if(g!=null&&g.length){var L=d.findGroup(g,S.groupId)||g[0];Uu(S,L,"audioCodec"),Uu(S,L,"textCodec")}E.push(S)}}return s},d.parseLevelPlaylist=function(o,r,n,a,s,l){var c,f,p,v=new on(r),g=v.fragments,E=null,S=0,L=0,k=0,_=0,T=null,w=new Nr(a,r),F=-1,D=!1;for(Mu.lastIndex=0,v.m3u8=o,v.hasVariableRefs=!1;(c=Mu.exec(o))!==null;){D&&(D=!1,(w=new Nr(a,r)).start=k,w.sn=S,w.cc=_,w.level=n,E&&(w.initSegment=E,w.rawProgramDateTime=E.rawProgramDateTime,E.rawProgramDateTime=null));var b=c[1];if(b){w.duration=parseFloat(b);var U=(" "+c[2]).slice(1);w.title=U||null,w.tagList.push(U?["INF",b,U]:["INF",b])}else if(c[3]){if(H(w.duration)){w.start=k,p&&ju(w,p,v),w.sn=S,w.level=n,w.cc=_,w.urlId=s,g.push(w);var j=(" "+c[3]).slice(1);w.relurl=j,Bu(w,T),T=w,k+=w.duration,S++,L=0,D=!0}}else if(c[4]){var $=(" "+c[4]).slice(1);T?w.setByteRange($,T):w.setByteRange($)}else if(c[5])w.rawProgramDateTime=(" "+c[5]).slice(1),w.tagList.push(["PROGRAM-DATE-TIME",w.rawProgramDateTime]),F===-1&&(F=g.length);else{if(!(c=c[0].match(Ap))){M.warn("No matches on slow regex match for level playlist!");continue}for(f=1;f<c.length&&c[f]===void 0;f++);var q=(" "+c[f]).slice(1),W=(" "+c[f+1]).slice(1),ee=c[f+2]?(" "+c[f+2]).slice(1):"";switch(q){case"PLAYLIST-TYPE":v.type=W.toUpperCase();break;case"MEDIA-SEQUENCE":S=v.startSN=parseInt(W);break;case"SKIP":var Z=new Me(W),se=Z.decimalInteger("SKIPPED-SEGMENTS");if(H(se)){v.skippedSegments=se;for(var de=se;de--;)g.unshift(null);S+=se}var ne=Z.enumeratedString("RECENTLY-REMOVED-DATERANGES");ne&&(v.recentlyRemovedDateranges=ne.split("	"));break;case"TARGETDURATION":v.targetduration=Math.max(parseInt(W),1);break;case"VERSION":v.version=parseInt(W);break;case"EXTM3U":case"DEFINE":break;case"ENDLIST":v.live=!1;break;case"#":(W||ee)&&w.tagList.push(ee?[W,ee]:[W]);break;case"DISCONTINUITY":_++,w.tagList.push(["DIS"]);break;case"GAP":w.gap=!0,w.tagList.push([q]);break;case"BITRATE":w.tagList.push([q,W]);break;case"DATERANGE":var le=new Me(W),oe=new ce(le,v.dateRanges[le.ID]);oe.isValid||v.skippedSegments?v.dateRanges[oe.id]=oe:M.warn('Ignoring invalid DATERANGE tag: "'+W+'"'),w.tagList.push(["EXT-X-DATERANGE",W]);break;case"DISCONTINUITY-SEQUENCE":_=parseInt(W);break;case"KEY":var ae=Nu(W,r);if(ae.isSupported()){if(ae.method==="NONE"){p=void 0;break}p||(p={}),p[ae.keyFormat]&&(p=z({},p)),p[ae.keyFormat]=ae}else M.warn('[Keys] Ignoring invalid EXT-X-KEY tag: "'+W+'"');break;case"START":v.startTimeOffset=bu(W);break;case"MAP":var he=new Me(W);if(w.duration){var ge=new Nr(a,r);Gu(ge,he,n,p),E=ge,w.initSegment=E,E.rawProgramDateTime&&!w.rawProgramDateTime&&(w.rawProgramDateTime=E.rawProgramDateTime)}else Gu(w,he,n,p),E=w,D=!0;break;case"SERVER-CONTROL":var ve=new Me(W);v.canBlockReload=ve.bool("CAN-BLOCK-RELOAD"),v.canSkipUntil=ve.optionalFloat("CAN-SKIP-UNTIL",0),v.canSkipDateRanges=v.canSkipUntil>0&&ve.bool("CAN-SKIP-DATERANGES"),v.partHoldBack=ve.optionalFloat("PART-HOLD-BACK",0),v.holdBack=ve.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var be=new Me(W);v.partTarget=be.decimalFloatingPoint("PART-TARGET");break;case"PART":var rt=v.partList;rt||(rt=v.partList=[]);var nt=L>0?rt[rt.length-1]:void 0,Pt=L++,Lt=new Me(W),kt=new $t(Lt,w,r,Pt,nt);rt.push(kt),w.duration+=kt.duration;break;case"PRELOAD-HINT":var ze=new Me(W);v.preloadHint=ze;break;case"RENDITION-REPORT":var qe=new Me(W);v.renditionReports=v.renditionReports||[],v.renditionReports.push(qe);break;default:M.warn("line parsed but not handled: "+c)}}}T&&!T.relurl?(g.pop(),k-=T.duration,v.partList&&(v.fragmentHint=T)):v.partList&&(Bu(w,T),w.cc=_,v.fragmentHint=w,p&&ju(w,p,v));var It=g.length,zr=g[0],ut=g[It-1];if((k+=v.skippedSegments*v.targetduration)>0&&It&&ut){v.averagetargetduration=k/It;var oa=ut.sn;v.endSN=oa!=="initSegment"?oa:0,v.live||(ut.endList=!0),zr&&(v.startCC=zr.cc)}else v.endSN=0,v.startCC=0;return v.fragmentHint&&(k+=v.fragmentHint.duration),v.totalduration=k,v.endCC=_,F>0&&function(ei,la){for(var pn=ei[la],Hr=la;Hr--;){var Vr=ei[Hr];if(!Vr)return;Vr.programDateTime=pn.programDateTime-1e3*Vr.duration,pn=Vr}}(g,F),v},d}();function Nu(d,o,r){var n,a,s=new Me(d),l=(n=s.METHOD)!=null?n:"",c=s.URI,f=s.hexadecimalInteger("IV"),p=s.KEYFORMATVERSIONS,v=(a=s.KEYFORMAT)!=null?a:"identity";c&&s.IV&&!f&&M.error("Invalid IV: "+s.IV);var g=c?Vn.resolve(c,o):"",E=(p||"1").split("/").map(Number).filter(Number.isFinite);return new Rp(l,g,v,E,f)}function bu(d){var o=new Me(d).decimalFloatingPoint("TIME-OFFSET");return H(o)?o:null}function Cp(d,o){["video","audio","text"].forEach(function(r){var n=d.filter(function(s){return function(l,c){var f=xp[c];return!!f&&f[l.slice(0,4)]===!0}(s,r)});if(n.length){var a=n.filter(function(s){return s.lastIndexOf("avc1",0)===0||s.lastIndexOf("mp4a",0)===0});o[r+"Codec"]=a.length>0?a[0]:n[0],d=d.filter(function(s){return n.indexOf(s)===-1})}}),o.unknownCodecs=d}function Uu(d,o,r){var n=o[r];n&&(d[r]=n)}function Bu(d,o){d.rawProgramDateTime?d.programDateTime=Date.parse(d.rawProgramDateTime):o!=null&&o.programDateTime&&(d.programDateTime=o.endProgramDateTime),H(d.programDateTime)||(d.programDateTime=null,d.rawProgramDateTime=null)}function Gu(d,o,r,n){d.relurl=o.URI,o.BYTERANGE&&d.setByteRange(o.BYTERANGE),d.level=r,d.sn="initSegment",n&&(d.levelkeys=n),d.initSegment=null}function ju(d,o,r){d.levelkeys=o;var n=r.encryptedFragments;n.length&&n[n.length-1].levelkeys===o||!Object.keys(o).some(function(a){return o[a].isCommonEncryption})||n.push(d)}var un="manifest",Ur="level",cr="audioTrack",fr="subtitleTrack",Ie="main",Xi="audio",zu="subtitle";function Hu(d){switch(d.type){case cr:return Xi;case fr:return zu;default:return Ie}}function Ps(d,o){var r=d.url;return r!==void 0&&r.indexOf("data:")!==0||(r=o.url),r}var Dp=function(){function d(r){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=r,this.registerListeners()}var o=d.prototype;return o.startLoad=function(r){},o.stopLoad=function(){this.destroyInternalLoaders()},o.registerListeners=function(){var r=this.hls;r.on(x.MANIFEST_LOADING,this.onManifestLoading,this),r.on(x.LEVEL_LOADING,this.onLevelLoading,this),r.on(x.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),r.on(x.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},o.unregisterListeners=function(){var r=this.hls;r.off(x.MANIFEST_LOADING,this.onManifestLoading,this),r.off(x.LEVEL_LOADING,this.onLevelLoading,this),r.off(x.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),r.off(x.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},o.createInternalLoader=function(r){var n=this.hls.config,a=n.pLoader,s=n.loader,l=new(a||s)(n);return this.loaders[r.type]=l,l},o.getInternalLoader=function(r){return this.loaders[r.type]},o.resetInternalLoader=function(r){this.loaders[r]&&delete this.loaders[r]},o.destroyInternalLoaders=function(){for(var r in this.loaders){var n=this.loaders[r];n&&n.destroy(),this.resetInternalLoader(r)}},o.destroy=function(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()},o.onManifestLoading=function(r,n){var a=n.url;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:un,url:a,deliveryDirectives:null})},o.onLevelLoading=function(r,n){var a=n.id,s=n.level,l=n.url,c=n.deliveryDirectives;this.load({id:a,level:s,responseType:"text",type:Ur,url:l,deliveryDirectives:c})},o.onAudioTrackLoading=function(r,n){var a=n.id,s=n.groupId,l=n.url,c=n.deliveryDirectives;this.load({id:a,groupId:s,level:null,responseType:"text",type:cr,url:l,deliveryDirectives:c})},o.onSubtitleTrackLoading=function(r,n){var a=n.id,s=n.groupId,l=n.url,c=n.deliveryDirectives;this.load({id:a,groupId:s,level:null,responseType:"text",type:fr,url:l,deliveryDirectives:c})},o.load=function(r){var n,a,s,l=this,c=this.hls.config,f=this.getInternalLoader(r);if(f){var p=f.context;if(p&&p.url===r.url)return void M.trace("[playlist-loader]: playlist request ongoing");M.log("[playlist-loader]: aborting previous loader for type: "+r.type),f.abort()}if(a=r.type===un?c.manifestLoadPolicy.default:z({},c.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),f=this.createInternalLoader(r),(n=r.deliveryDirectives)!=null&&n.part&&(r.type===Ur&&r.level!==null?s=this.hls.levels[r.level].details:r.type===cr&&r.id!==null?s=this.hls.audioTracks[r.id].details:r.type===fr&&r.id!==null&&(s=this.hls.subtitleTracks[r.id].details),s)){var v=s.partTarget,g=s.targetduration;if(v&&g){var E=1e3*Math.max(3*v,.8*g);a=z({},a,{maxTimeToFirstByteMs:Math.min(E,a.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(E,a.maxTimeToFirstByteMs)})}}var S=a.errorRetry||a.timeoutRetry||{},L={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:S.maxNumRetry||0,retryDelay:S.retryDelayMs||0,maxRetryDelay:S.maxRetryDelayMs||0},k={onSuccess:function(_,T,w,F){var D=l.getInternalLoader(w);l.resetInternalLoader(w.type);var b=_.data;b.indexOf("#EXTM3U")===0?(T.parsing.start=performance.now(),Vn.isMediaPlaylist(b)?l.handleTrackOrLevelPlaylist(_,T,w,F||null,D):l.handleMasterPlaylist(_,T,w,F)):l.handleManifestParsingError(_,w,new Error("no EXTM3U delimiter"),F||null,T)},onError:function(_,T,w,F){l.handleNetworkError(T,w,!1,_,F)},onTimeout:function(_,T,w){l.handleNetworkError(T,w,!0,void 0,_)}};f.load(r,L,k)},o.handleMasterPlaylist=function(r,n,a,s){var l=this.hls,c=r.data,f=Ps(r,a),p=Vn.parseMasterPlaylist(c,f);if(p.playlistParsingError)this.handleManifestParsingError(r,a,p.playlistParsingError,s,n);else{var v=p.contentSteering,g=p.levels,E=p.sessionData,S=p.sessionKeys,L=p.startTimeOffset,k=p.variableList;this.variableList=k;var _=Vn.parseMasterPlaylistMedia(c,f,p),T=_.AUDIO,w=T===void 0?[]:T,F=_.SUBTITLES,D=_["CLOSED-CAPTIONS"];w.length&&(w.some(function(b){return!b.url})||!g[0].audioCodec||g[0].attrs.AUDIO||(M.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),w.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new Me({}),bitrate:0,url:""}))),l.trigger(x.MANIFEST_LOADED,{levels:g,audioTracks:w,subtitles:F,captions:D,contentSteering:v,url:f,stats:n,networkDetails:s,sessionData:E,sessionKeys:S,startTimeOffset:L,variableList:k})}},o.handleTrackOrLevelPlaylist=function(r,n,a,s,l){var c=this.hls,f=a.id,p=a.level,v=a.type,g=Ps(r,a),E=H(f)?f:0,S=H(p)?p:E,L=Hu(a),k=Vn.parseLevelPlaylist(r.data,g,S,L,E,this.variableList);if(v===un){var _={attrs:new Me({}),bitrate:0,details:k,name:"",url:g};c.trigger(x.MANIFEST_LOADED,{levels:[_],audioTracks:[],url:g,stats:n,networkDetails:s,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}n.parsing.end=performance.now(),a.levelDetails=k,this.handlePlaylistLoaded(k,r,n,a,s,l)},o.handleManifestParsingError=function(r,n,a,s,l){this.hls.trigger(x.ERROR,{type:K.NETWORK_ERROR,details:N.MANIFEST_PARSING_ERROR,fatal:n.type===un,url:r.url,err:a,error:a,reason:a.message,response:r,context:n,networkDetails:s,stats:l})},o.handleNetworkError=function(r,n,a,s,l){a===void 0&&(a=!1);var c="A network "+(a?"timeout":"error"+(s?" (status "+s.code+")":""))+" occurred while loading "+r.type;r.type===Ur?c+=": "+r.level+" id: "+r.id:r.type!==cr&&r.type!==fr||(c+=" id: "+r.id+' group-id: "'+r.groupId+'"');var f=new Error(c);M.warn("[playlist-loader]: "+c);var p=N.UNKNOWN,v=!1,g=this.getInternalLoader(r);switch(r.type){case un:p=a?N.MANIFEST_LOAD_TIMEOUT:N.MANIFEST_LOAD_ERROR,v=!0;break;case Ur:p=a?N.LEVEL_LOAD_TIMEOUT:N.LEVEL_LOAD_ERROR,v=!1;break;case cr:p=a?N.AUDIO_TRACK_LOAD_TIMEOUT:N.AUDIO_TRACK_LOAD_ERROR,v=!1;break;case fr:p=a?N.SUBTITLE_TRACK_LOAD_TIMEOUT:N.SUBTITLE_LOAD_ERROR,v=!1}g&&this.resetInternalLoader(r.type);var E={type:K.NETWORK_ERROR,details:p,fatal:v,url:r.url,loader:g,context:r,error:f,networkDetails:n,stats:l};if(s){var S=(n==null?void 0:n.url)||r.url;E.response=y({url:S,data:void 0},s)}this.hls.trigger(x.ERROR,E)},o.handlePlaylistLoaded=function(r,n,a,s,l,c){var f=this.hls,p=s.type,v=s.level,g=s.id,E=s.groupId,S=s.deliveryDirectives,L=Ps(n,s),k=Hu(s),_=typeof s.level=="number"&&k===Ie?v:void 0;if(r.fragments.length){r.targetduration||(r.playlistParsingError=new Error("Missing Target Duration"));var T=r.playlistParsingError;if(T)f.trigger(x.ERROR,{type:K.NETWORK_ERROR,details:N.LEVEL_PARSING_ERROR,fatal:!1,url:L,error:T,reason:T.message,response:n,context:s,level:_,parent:k,networkDetails:l,stats:a});else switch(r.live&&c&&(c.getCacheAge&&(r.ageHeader=c.getCacheAge()||0),c.getCacheAge&&!isNaN(r.ageHeader)||(r.ageHeader=0)),p){case un:case Ur:f.trigger(x.LEVEL_LOADED,{details:r,level:_||0,id:g||0,stats:a,networkDetails:l,deliveryDirectives:S});break;case cr:f.trigger(x.AUDIO_TRACK_LOADED,{details:r,id:g||0,groupId:E||"",stats:a,networkDetails:l,deliveryDirectives:S});break;case fr:f.trigger(x.SUBTITLE_TRACK_LOADED,{details:r,id:g||0,groupId:E||"",stats:a,networkDetails:l,deliveryDirectives:S})}}else{var w=new Error("No Segments found in Playlist");f.trigger(x.ERROR,{type:K.NETWORK_ERROR,details:N.LEVEL_EMPTY_ERROR,fatal:!1,url:L,error:w,reason:w.message,response:n,context:s,level:_,parent:k,networkDetails:l,stats:a})}},d}();function Pp(d,o){var r;try{r=new Event("addtrack")}catch{(r=document.createEvent("Event")).initEvent("addtrack",!1,!1)}r.track=d,o.dispatchEvent(r)}function Ip(d,o,r,n){var a=d.mode;if(a==="disabled"&&(d.mode="hidden"),d.cues&&d.cues.length>0)for(var s=function(c,f,p){var v=[],g=function(k,_){if(_<k[0].startTime)return 0;var T=k.length-1;if(_>k[T].endTime)return-1;for(var w=0,F=T;w<=F;){var D=Math.floor((F+w)/2);if(_<k[D].startTime)F=D-1;else{if(!(_>k[D].startTime&&w<T))return D;w=D+1}}return k[w].startTime-_<_-k[F].startTime?w:F}(c,f);if(g>-1)for(var E=g,S=c.length;E<S;E++){var L=c[E];if(L.startTime>=f&&L.endTime<=p)v.push(L);else if(L.startTime>p)return v}return v}(d.cues,o,r),l=0;l<s.length;l++)n&&!n(s[l])||d.removeCue(s[l]);a==="disabled"&&(d.mode=a)}var Kn="org.id3",Fp="com.apple.quicktime.HLS",Wn="https://aomedia.org/emsg/ID3";function Is(){if(typeof self<"u")return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}var qi=function(){var d=Is();try{new d(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY}();function Fs(d,o){return d.getTime()/1e3-o}var Op=function(){function d(r){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=r,this._registerListeners()}var o=d.prototype;return o.destroy=function(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null},o._registerListeners=function(){var r=this.hls;r.on(x.MEDIA_ATTACHED,this.onMediaAttached,this),r.on(x.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(x.MANIFEST_LOADING,this.onManifestLoading,this),r.on(x.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),r.on(x.BUFFER_FLUSHING,this.onBufferFlushing,this),r.on(x.LEVEL_UPDATED,this.onLevelUpdated,this)},o._unregisterListeners=function(){var r=this.hls;r.off(x.MEDIA_ATTACHED,this.onMediaAttached,this),r.off(x.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(x.MANIFEST_LOADING,this.onManifestLoading,this),r.off(x.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),r.off(x.BUFFER_FLUSHING,this.onBufferFlushing,this),r.off(x.LEVEL_UPDATED,this.onLevelUpdated,this)},o.onMediaAttached=function(r,n){this.media=n.media},o.onMediaDetaching=function(){this.id3Track&&(function(r){var n=r.mode;if(n==="disabled"&&(r.mode="hidden"),r.cues)for(var a=r.cues.length;a--;)r.removeCue(r.cues[a]);n==="disabled"&&(r.mode=n)}(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})},o.onManifestLoading=function(){this.dateRangeCuesAppended={}},o.createTrack=function(r){var n=this.getID3Track(r.textTracks);return n.mode="hidden",n},o.getID3Track=function(r){if(this.media){for(var n=0;n<r.length;n++){var a=r[n];if(a.kind==="metadata"&&a.label==="id3")return Pp(a,this.media),a}return this.media.addTextTrack("metadata","id3")}},o.onFragParsingMetadata=function(r,n){if(this.media){var a=this.hls.config,s=a.enableEmsgMetadataCues,l=a.enableID3MetadataCues;if(s||l){var c=n.samples;this.id3Track||(this.id3Track=this.createTrack(this.media));for(var f=Is(),p=0;p<c.length;p++){var v=c[p].type;if((v!==Wn||s)&&l){var g=ku(c[p].data);if(g){var E=c[p].pts,S=E+c[p].duration;S>qi&&(S=qi),S-E<=0&&(S=E+.25);for(var L=0;L<g.length;L++){var k=g[L];if(!Lu(k)){this.updateId3CueEnds(E,v);var _=new f(E,S,"");_.value=k,v&&(_.type=v),this.id3Track.addCue(_)}}}}}}}},o.updateId3CueEnds=function(r,n){var a,s=(a=this.id3Track)==null?void 0:a.cues;if(s)for(var l=s.length;l--;){var c=s[l];c.type===n&&c.startTime<r&&c.endTime===qi&&(c.endTime=r)}},o.onBufferFlushing=function(r,n){var a=n.startOffset,s=n.endOffset,l=n.type,c=this.id3Track,f=this.hls;if(f){var p=f.config,v=p.enableEmsgMetadataCues,g=p.enableID3MetadataCues;c&&(v||g)&&Ip(c,a,s,l==="audio"?function(E){return E.type===Kn&&g}:l==="video"?function(E){return E.type===Wn&&v}:function(E){return E.type===Kn&&g||E.type===Wn&&v})}},o.onLevelUpdated=function(r,n){var a=this,s=n.details;if(this.media&&s.hasProgramDateTime&&this.hls.config.enableDateRangeMetadataCues){var l=this.dateRangeCuesAppended,c=this.id3Track,f=s.dateRanges,p=Object.keys(f);if(c)for(var v=Object.keys(l).filter(function(w){return!p.includes(w)}),g=function(){var w=v[E];Object.keys(l[w].cues).forEach(function(F){c.removeCue(l[w].cues[F])}),delete l[w]},E=v.length;E--;)g();var S=s.fragments[s.fragments.length-1];if(p.length!==0&&H(S==null?void 0:S.programDateTime)){this.id3Track||(this.id3Track=this.createTrack(this.media));for(var L=S.programDateTime/1e3-S.start,k=Is(),_=function(){var w=p[T],F=f[w],D=l[w],b=(D==null?void 0:D.cues)||{},U=(D==null?void 0:D.durationKnown)||!1,j=Fs(F.startDate,L),$=qi,q=F.endDate;if(q)$=Fs(q,L),U=!0;else if(F.endOnNext&&!U){var W=p.reduce(function(ae,he){var ge=f[he];return ge.class===F.class&&ge.id!==he&&ge.startDate>F.startDate&&ae.push(ge),ae},[]).sort(function(ae,he){return ae.startDate.getTime()-he.startDate.getTime()})[0];W&&($=Fs(W.startDate,L),U=!0)}for(var ee,Z,se=Object.keys(F.attr),de=0;de<se.length;de++){var ne=se[de];if((Z=ne)!=="ID"&&Z!=="CLASS"&&Z!=="START-DATE"&&Z!=="DURATION"&&Z!=="END-DATE"&&Z!=="END-ON-NEXT"){var le=b[ne];if(le)U&&!D.durationKnown&&(le.endTime=$);else{var oe=F.attr[ne];le=new k(j,$,""),te(ne)&&(ee=oe,oe=Uint8Array.from(ee.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer),le.value={key:ne,data:oe},le.type=Fp,le.id=w,a.id3Track.addCue(le),b[ne]=le}}}l[w]={cues:b,dateRange:F,durationKnown:U}},T=0;T<p.length;T++)_()}}},d}(),Mp=function(){function d(r){var n=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return n.timeupdate()},this.hls=r,this.config=r.config,this.registerListeners()}var o=d.prototype;return o.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},o.registerListeners=function(){this.hls.on(x.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(x.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(x.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(x.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(x.ERROR,this.onError,this)},o.unregisterListeners=function(){this.hls.off(x.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(x.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(x.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(x.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(x.ERROR,this.onError,this)},o.onMediaAttached=function(r,n){this.media=n.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},o.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},o.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},o.onLevelUpdated=function(r,n){var a=n.details;this.levelDetails=a,a.advanced&&this.timeupdate(),!a.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},o.onError=function(r,n){var a;n.details===N.BUFFER_STALLED_ERROR&&(this.stallCount++,(a=this.levelDetails)!=null&&a.live&&M.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},o.timeupdate=function(){var r=this.media,n=this.levelDetails;if(r&&n){this.currentTime=r.currentTime;var a=this.computeLatency();if(a!==null){this._latency=a;var s=this.config,l=s.lowLatencyMode,c=s.maxLiveSyncPlaybackRate;if(l&&c!==1){var f=this.targetLatency;if(f!==null){var p=a-f,v=p<Math.min(this.maxLatency,f+n.targetduration);if(n.live&&v&&p>.05&&this.forwardBufferLength>1){var g=Math.min(2,Math.max(1,c)),E=Math.round(2/(1+Math.exp(-.75*p-this.edgeStalled))*20)/20;r.playbackRate=Math.min(g,Math.max(1,E))}else r.playbackRate!==1&&r.playbackRate!==0&&(r.playbackRate=1)}}}}},o.estimateLiveEdge=function(){var r=this.levelDetails;return r===null?null:r.edge+r.age},o.computeLatency=function(){var r=this.estimateLiveEdge();return r===null?null:r-this.currentTime},A(d,[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var r=this.config,n=this.levelDetails;return r.liveMaxLatencyDuration!==void 0?r.liveMaxLatencyDuration:n?r.liveMaxLatencyDurationCount*n.targetduration:0}},{key:"targetLatency",get:function(){var r=this.levelDetails;if(r===null)return null;var n=r.holdBack,a=r.partHoldBack,s=r.targetduration,l=this.config,c=l.liveSyncDuration,f=l.liveSyncDurationCount,p=l.lowLatencyMode,v=this.hls.userConfig,g=p&&a||n;(v.liveSyncDuration||v.liveSyncDurationCount||g===0)&&(g=c!==void 0?c:f*s);var E=s;return g+Math.min(1*this.stallCount,E)}},{key:"liveSyncPosition",get:function(){var r=this.estimateLiveEdge(),n=this.targetLatency,a=this.levelDetails;if(r===null||n===null||a===null)return null;var s=a.edge,l=r-n-this.edgeStalled,c=s-a.totalduration,f=s-(this.config.lowLatencyMode&&a.partTarget||a.targetduration);return Math.min(Math.max(c,l),f)}},{key:"drift",get:function(){var r=this.levelDetails;return r===null?1:r.drift}},{key:"edgeStalled",get:function(){var r=this.levelDetails;if(r===null)return 0;var n=3*(this.config.lowLatencyMode&&r.partTarget||r.targetduration);return Math.max(r.age-n,0)}},{key:"forwardBufferLength",get:function(){var r=this.media,n=this.levelDetails;if(!r||!n)return 0;var a=r.buffered.length;return(a?r.buffered.end(a-1):n.edge)-this.currentTime}}]),d}(),Os=["NONE","TYPE-0","TYPE-1",null],Ms="",Np="YES",bp="v2",Vu=function(){function d(o,r,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=o,this.part=r,this.skip=n}return d.prototype.addDirectives=function(o){var r=new self.URL(o);return this.msn!==void 0&&r.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&r.searchParams.set("_HLS_part",this.part.toString()),this.skip&&r.searchParams.set("_HLS_skip",this.skip),r.href},d}(),Up=function(){function d(o){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[o.url],this._attrs=[o.attrs],this.bitrate=o.bitrate,o.details&&(this.details=o.details),this.id=o.id||0,this.name=o.name,this.width=o.width||0,this.height=o.height||0,this.audioCodec=o.audioCodec,this.videoCodec=o.videoCodec,this.unknownCodecs=o.unknownCodecs,this.codecSet=[o.videoCodec,o.audioCodec].filter(function(r){return r}).join(",").replace(/\.[^.,]+/g,"")}return d.prototype.addFallback=function(o){this.url.push(o.url),this._attrs.push(o.attrs)},A(d,[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"attrs",get:function(){return this._attrs[this._urlId]}},{key:"pathwayId",get:function(){return this.attrs["PATHWAY-ID"]||"."}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(o){var r=o%this.url.length;this._urlId!==r&&(this.fragmentError=0,this.loadError=0,this.details=void 0,this._urlId=r)}},{key:"audioGroupId",get:function(){var o;return(o=this.audioGroupIds)==null?void 0:o[this.urlId]}},{key:"textGroupId",get:function(){var o;return(o=this.textGroupIds)==null?void 0:o[this.urlId]}}]),d}();function Ns(d,o){var r=o.startPTS;if(H(r)){var n,a=0;o.sn>d.sn?(a=r-d.start,n=d):(a=d.start-r,n=o),n.duration!==a&&(n.duration=a)}else o.sn>d.sn?d.cc===o.cc&&d.minEndPTS?o.start=d.start+(d.minEndPTS-d.start):o.start=d.start+d.duration:o.start=Math.max(d.start-o.duration,0)}function Ku(d,o,r,n,a,s){n-r<=0&&(M.warn("Fragment should have a positive duration",o),n=r+o.duration,s=a+o.duration);var l=r,c=n,f=o.startPTS,p=o.endPTS;if(H(f)){var v=Math.abs(f-r);H(o.deltaPTS)?o.deltaPTS=Math.max(v,o.deltaPTS):o.deltaPTS=v,l=Math.max(r,f),r=Math.min(r,f),a=Math.min(a,o.startDTS),c=Math.min(n,p),n=Math.max(n,p),s=Math.max(s,o.endDTS)}var g=r-o.start;o.start!==0&&(o.start=r),o.duration=n-o.start,o.startPTS=r,o.maxStartPTS=l,o.startDTS=a,o.endPTS=n,o.minEndPTS=c,o.endDTS=s;var E,S=o.sn;if(!d||S<d.startSN||S>d.endSN)return 0;var L=S-d.startSN,k=d.fragments;for(k[L]=o,E=L;E>0;E--)Ns(k[E],k[E-1]);for(E=L;E<k.length-1;E++)Ns(k[E],k[E+1]);return d.fragmentHint&&Ns(k[k.length-1],d.fragmentHint),d.PTSKnown=d.alignedSliding=!0,g}function Bp(d,o){for(var r=null,n=d.fragments,a=n.length-1;a>=0;a--){var s=n[a].initSegment;if(s){r=s;break}}d.fragmentHint&&delete d.fragmentHint.endPTS;var l,c,f,p,v,g=0;if(function(T,w,F){for(var D=w.skippedSegments,b=Math.max(T.startSN,w.startSN)-w.startSN,U=(T.fragmentHint?1:0)+(D?w.endSN:Math.min(T.endSN,w.endSN))-w.startSN,j=w.startSN-T.startSN,$=w.fragmentHint?w.fragments.concat(w.fragmentHint):w.fragments,q=T.fragmentHint?T.fragments.concat(T.fragmentHint):T.fragments,W=b;W<=U;W++){var ee=q[j+W],Z=$[W];D&&!Z&&W<D&&(Z=w.fragments[W]=ee),ee&&Z&&F(ee,Z)}}(d,o,function(T,w){T.relurl&&(g=T.cc-w.cc),H(T.startPTS)&&H(T.endPTS)&&(w.start=w.startPTS=T.startPTS,w.startDTS=T.startDTS,w.maxStartPTS=T.maxStartPTS,w.endPTS=T.endPTS,w.endDTS=T.endDTS,w.minEndPTS=T.minEndPTS,w.duration=T.endPTS-T.startPTS,w.duration&&(l=w),o.PTSKnown=o.alignedSliding=!0),w.elementaryStreams=T.elementaryStreams,w.loader=T.loader,w.stats=T.stats,w.urlId=T.urlId,T.initSegment&&(w.initSegment=T.initSegment,r=T.initSegment)}),r&&(o.fragmentHint?o.fragments.concat(o.fragmentHint):o.fragments).forEach(function(T){var w;T.initSegment&&T.initSegment.relurl!==((w=r)==null?void 0:w.relurl)||(T.initSegment=r)}),o.skippedSegments)if(o.deltaUpdateFailed=o.fragments.some(function(T){return!T}),o.deltaUpdateFailed){M.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var E=o.skippedSegments;E--;)o.fragments.shift();o.startSN=o.fragments[0].sn,o.startCC=o.fragments[0].cc}else o.canSkipDateRanges&&(o.dateRanges=(c=d.dateRanges,f=o.dateRanges,p=o.recentlyRemovedDateranges,v=z({},c),p&&p.forEach(function(T){delete v[T]}),Object.keys(f).forEach(function(T){var w=new ce(f[T].attr,v[T]);w.isValid?v[T]=w:M.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'+JSON.stringify(f[T].attr)+'"')}),v));var S=o.fragments;if(g){M.warn("discontinuity sliding from playlist, take drift into account");for(var L=0;L<S.length;L++)S[L].cc+=g}o.skippedSegments&&(o.startCC=o.fragments[0].cc),function(T,w,F){if(T&&w)for(var D=0,b=0,U=T.length;b<=U;b++){var j=T[b],$=w[b+D];j&&$&&j.index===$.index&&j.fragment.sn===$.fragment.sn?F(j,$):D--}}(d.partList,o.partList,function(T,w){w.elementaryStreams=T.elementaryStreams,w.stats=T.stats}),l?Ku(o,l,l.startPTS,l.endPTS,l.startDTS,l.endDTS):Wu(d,o),S.length&&(o.totalduration=o.edge-S[0].start),o.driftStartTime=d.driftStartTime,o.driftStart=d.driftStart;var k=o.advancedDateTime;if(o.advanced&&k){var _=o.edge;o.driftStart||(o.driftStartTime=k,o.driftStart=_),o.driftEndTime=k,o.driftEnd=_}else o.driftEndTime=d.driftEndTime,o.driftEnd=d.driftEnd,o.advancedDateTime=d.advancedDateTime}function Wu(d,o){var r=o.startSN+o.skippedSegments-d.startSN,n=d.fragments;r<0||r>=n.length||function(a,s){if(s){for(var l=a.fragments,c=a.skippedSegments;c<l.length;c++)l[c].start+=s;a.fragmentHint&&(a.fragmentHint.start+=s)}}(o,n[r].start)}function Yu(d,o,r){var n;return d!=null&&d.details?$u((n=d.details)==null?void 0:n.partList,o,r):null}function $u(d,o,r){if(d)for(var n=d.length;n--;){var a=d[n];if(a.index===r&&a.fragment.sn===o)return a}return null}function Zi(d){switch(d.details){case N.FRAG_LOAD_TIMEOUT:case N.KEY_LOAD_TIMEOUT:case N.LEVEL_LOAD_TIMEOUT:case N.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function Qu(d,o){var r=Zi(o);return d.default[(r?"timeout":"error")+"Retry"]}function bs(d,o){var r=d.backoff==="linear"?1:Math.pow(2,o);return Math.min(r*d.retryDelayMs,d.maxRetryDelayMs)}function Xu(d){return y(y({},d),{errorRetry:null,timeoutRetry:null})}function Ji(d,o,r,n){return!!d&&o<d.maxNumRetry&&(function(a){return a===0&&navigator.onLine===!1||!!a&&(a<400||a>499)}(n)||!!r)}var qu=function(d,o){for(var r=0,n=d.length-1,a=null,s=null;r<=n;){var l=o(s=d[a=(r+n)/2|0]);if(l>0)r=a+1;else{if(!(l<0))return s;n=a-1}}return null};function Us(d,o,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var a=null;if(d?a=o[d.sn-o[0].sn+1]||null:r===0&&o[0].start===0&&(a=o[0]),a&&Zu(r,n,a)===0)return a;var s=qu(o,Zu.bind(null,r,n));return!s||s===d&&a?a:s}function Zu(d,o,r){if(d===void 0&&(d=0),o===void 0&&(o=0),r.start<=d&&r.start+r.duration>d)return 0;var n=Math.min(o,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-n<=d?1:r.start-n>d&&r.start?-1:0}function Gp(d,o,r){var n=1e3*Math.min(o,r.duration+(r.deltaPTS?r.deltaPTS:0));return(r.endProgramDateTime||0)-n>d}var Bs,jp=3e5,Gs=0,hr=2,ea=5,dn=0,js=1,Ju=2,zp=function(){function d(r){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=r,this.log=M.log.bind(M,"[info]:"),this.warn=M.warn.bind(M,"[warning]:"),this.error=M.error.bind(M,"[error]:"),this.registerListeners()}var o=d.prototype;return o.registerListeners=function(){var r=this.hls;r.on(x.ERROR,this.onError,this),r.on(x.MANIFEST_LOADING,this.onManifestLoading,this),r.on(x.LEVEL_UPDATED,this.onLevelUpdated,this)},o.unregisterListeners=function(){var r=this.hls;r&&(r.off(x.ERROR,this.onError,this),r.off(x.ERROR,this.onErrorOut,this),r.off(x.MANIFEST_LOADING,this.onManifestLoading,this),r.off(x.LEVEL_UPDATED,this.onLevelUpdated,this))},o.destroy=function(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}},o.startLoad=function(r){this.playlistError=0},o.stopLoad=function(){},o.getVariantLevelIndex=function(r){return(r==null?void 0:r.type)===Ie?r.level:this.hls.loadLevel},o.onManifestLoading=function(){this.playlistError=0,this.penalizedRenditions={}},o.onLevelUpdated=function(){this.playlistError=0},o.onError=function(r,n){var a,s;if(!n.fatal){var l=this.hls,c=n.context;switch(n.details){case N.FRAG_LOAD_ERROR:case N.FRAG_LOAD_TIMEOUT:case N.KEY_LOAD_ERROR:case N.KEY_LOAD_TIMEOUT:return void(n.errorAction=this.getFragRetryOrSwitchAction(n));case N.FRAG_PARSING_ERROR:if((a=n.frag)!=null&&a.gap)return void(n.errorAction={action:Gs,flags:dn});case N.FRAG_GAP:case N.FRAG_DECRYPT_ERROR:return n.errorAction=this.getFragRetryOrSwitchAction(n),void(n.errorAction.action=hr);case N.LEVEL_EMPTY_ERROR:case N.LEVEL_PARSING_ERROR:var f,p,v=n.parent===Ie?n.level:l.loadLevel;return void(n.details===N.LEVEL_EMPTY_ERROR&&(f=n.context)!=null&&(p=f.levelDetails)!=null&&p.live?n.errorAction=this.getPlaylistRetryOrSwitchAction(n,v):(n.levelRetry=!1,n.errorAction=this.getLevelSwitchAction(n,v)));case N.LEVEL_LOAD_ERROR:case N.LEVEL_LOAD_TIMEOUT:return void(typeof(c==null?void 0:c.level)=="number"&&(n.errorAction=this.getPlaylistRetryOrSwitchAction(n,c.level)));case N.AUDIO_TRACK_LOAD_ERROR:case N.AUDIO_TRACK_LOAD_TIMEOUT:case N.SUBTITLE_LOAD_ERROR:case N.SUBTITLE_TRACK_LOAD_TIMEOUT:if(c){var g=l.levels[l.loadLevel];if(g&&(c.type===cr&&c.groupId===g.audioGroupId||c.type===fr&&c.groupId===g.textGroupId))return n.errorAction=this.getPlaylistRetryOrSwitchAction(n,l.loadLevel),n.errorAction.action=hr,void(n.errorAction.flags=js)}return;case N.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:var E=l.levels[l.loadLevel],S=E==null?void 0:E.attrs["HDCP-LEVEL"];return void(S&&(n.errorAction={action:hr,flags:Ju,hdcpLevel:S}));case N.BUFFER_ADD_CODEC_ERROR:case N.REMUX_ALLOC_ERROR:return void(n.errorAction=this.getLevelSwitchAction(n,(s=n.level)!=null?s:l.loadLevel));case N.INTERNAL_EXCEPTION:case N.BUFFER_APPENDING_ERROR:case N.BUFFER_APPEND_ERROR:case N.BUFFER_FULL_ERROR:case N.LEVEL_SWITCH_ERROR:case N.BUFFER_STALLED_ERROR:case N.BUFFER_SEEK_OVER_HOLE:case N.BUFFER_NUDGE_ON_STALL:return void(n.errorAction={action:Gs,flags:dn})}if(n.type===K.KEY_SYSTEM_ERROR){var L=this.getVariantLevelIndex(n.frag);return n.levelRetry=!1,void(n.errorAction=this.getLevelSwitchAction(n,L))}}},o.getPlaylistRetryOrSwitchAction=function(r,n){var a,s=Qu(this.hls.config.playlistLoadPolicy,r),l=this.playlistError++,c=(a=r.response)==null?void 0:a.code;if(Ji(s,l,Zi(r),c))return{action:ea,flags:dn,retryConfig:s,retryCount:l};var f=this.getLevelSwitchAction(r,n);return s&&(f.retryConfig=s,f.retryCount=l),f},o.getFragRetryOrSwitchAction=function(r){var n=this.hls,a=this.getVariantLevelIndex(r.frag),s=n.levels[a],l=n.config,c=l.fragLoadPolicy,f=l.keyLoadPolicy,p=Qu(r.details.startsWith("key")?f:c,r),v=n.levels.reduce(function(L,k){return L+k.fragmentError},0);if(s){var g;r.details!==N.FRAG_GAP&&s.fragmentError++;var E=(g=r.response)==null?void 0:g.code;if(Ji(p,v,Zi(r),E))return{action:ea,flags:dn,retryConfig:p,retryCount:v}}var S=this.getLevelSwitchAction(r,a);return p&&(S.retryConfig=p,S.retryCount=v),S},o.getLevelSwitchAction=function(r,n){var a=this.hls;n==null&&(n=a.loadLevel);var s=this.hls.levels[n];if(s&&(s.loadError++,a.autoLevelEnabled)){for(var l,c,f=-1,p=a.levels,v=a.loadLevel,g=a.minAutoLevel,E=a.maxAutoLevel,S=(l=r.frag)==null?void 0:l.type,L=(c=r.context)!=null?c:{},k=L.type,_=L.groupId,T=p.length;T--;){var w=(T+v)%p.length;if(w!==v&&w>=g&&w<=E&&p[w].loadError===0){var F=p[w];if(r.details===N.FRAG_GAP&&r.frag){var D=p[w].details;if(D){var b=Us(r.frag,D.fragments,r.frag.start);if(b!=null&&b.gap)continue}}else if(k===cr&&_===F.audioGroupId||k===fr&&_===F.textGroupId||S===Xi&&s.audioGroupId===F.audioGroupId||S===zu&&s.textGroupId===F.textGroupId)continue;f=w;break}}if(f>-1&&a.loadLevel!==f)return r.levelRetry=!0,this.playlistError=0,{action:hr,flags:dn,nextAutoLevel:f}}return{action:hr,flags:js}},o.onErrorOut=function(r,n){var a;switch((a=n.errorAction)==null?void 0:a.action){case Gs:break;case hr:this.sendAlternateToPenaltyBox(n),n.errorAction.resolved||n.details===N.FRAG_GAP||(n.fatal=!0)}n.fatal&&this.hls.stopLoad()},o.sendAlternateToPenaltyBox=function(r){var n=this.hls,a=r.errorAction;if(a){var s=a.flags,l=a.hdcpLevel,c=a.nextAutoLevel;switch(s){case dn:this.switchLevel(r,c);break;case js:a.resolved||(a.resolved=this.redundantFailover(r));break;case Ju:l&&(n.maxHdcpLevel=Os[Os.indexOf(l)-1],a.resolved=!0),this.warn('Restricting playback to HDCP-LEVEL of "'+n.maxHdcpLevel+'" or lower')}a.resolved||this.switchLevel(r,c)}},o.switchLevel=function(r,n){n!==void 0&&r.errorAction&&(this.warn("switching to level "+n+" after "+r.details),this.hls.nextAutoLevel=n,r.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)},o.redundantFailover=function(r){var n=this,a=this.hls,s=this.penalizedRenditions,l=r.parent===Ie?r.level:a.loadLevel,c=a.levels[l],f=c.url.length,p=r.frag?r.frag.urlId:c.urlId;c.urlId!==p||r.frag&&!c.details||this.penalizeRendition(c,r);for(var v=function(){var S=(p+g)%f,L=s[S];if(!L||function(k,_,T){if(performance.now()-k.lastErrorPerfMs>jp)return!0;var w=k.details;if(_.details===N.FRAG_GAP&&w&&_.frag){var F=_.frag.start,D=Us(null,w.fragments,F);if(D&&!D.gap)return!0}if(T&&k.errors.length<T.errors.length){var b=k.errors[k.errors.length-1];if(w&&b.frag&&_.frag&&Math.abs(b.frag.start-_.frag.start)>3*w.targetduration)return!0}return!1}(L,r,s[p]))return n.warn("Switching to Redundant Stream "+(S+1)+"/"+f+': "'+c.url[S]+'" after '+r.details),n.playlistError=0,a.levels.forEach(function(k){k.urlId=S}),a.nextLoadLevel=l,{v:!0}},g=1;g<f;g++){var E=v();if(typeof E=="object")return E.v}return!1},o.penalizeRendition=function(r,n){var a=this.penalizedRenditions,s=a[r.urlId]||{lastErrorPerfMs:0,errors:[],details:void 0};s.lastErrorPerfMs=performance.now(),s.errors.push(n),s.details=r.details,a[r.urlId]=s},d}(),Hp=function(){function d(r,n){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=M.log.bind(M,n+":"),this.warn=M.warn.bind(M,n+":"),this.hls=r}var o=d.prototype;return o.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},o.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},o.startLoad=function(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()},o.stopLoad=function(){this.canLoad=!1,this.clearTimer()},o.switchParams=function(r,n){var a=n==null?void 0:n.renditionReports;if(a){for(var s=-1,l=0;l<a.length;l++){var c=a[l],f=void 0;try{f=new self.URL(c.URI,n.url).href}catch(S){M.warn("Could not construct new URL for Rendition Report: "+S),f=c.URI||""}if(f===r){s=l;break}f===r.substring(0,f.length)&&(s=l)}if(s!==-1){var p=a[s],v=parseInt(p["LAST-MSN"])||(n==null?void 0:n.lastPartSn),g=parseInt(p["LAST-PART"])||(n==null?void 0:n.lastPartIndex);if(this.hls.config.lowLatencyMode){var E=Math.min(n.age-n.partTarget,n.targetduration);g>=0&&E>n.partTarget&&(g+=1)}return new Vu(v,g>=0?g:void 0,Ms)}}},o.loadPlaylist=function(r){this.requestScheduled===-1&&(this.requestScheduled=self.performance.now())},o.shouldLoadPlaylist=function(r){return this.canLoad&&!!r&&!!r.url&&(!r.details||r.details.live)},o.shouldReloadPlaylist=function(r){return this.timer===-1&&this.requestScheduled===-1&&this.shouldLoadPlaylist(r)},o.playlistLoaded=function(r,n,a){var s=this,l=n.details,c=n.stats,f=self.performance.now(),p=c.loading.first?Math.max(0,f-c.loading.first):0;if(l.advancedDateTime=Date.now()-p,l.live||a!=null&&a.live){if(l.reloaded(a),a&&this.log("live playlist "+r+" "+(l.advanced?"REFRESHED "+l.lastPartSn+"-"+l.lastPartIndex:l.updated?"UPDATED":"MISSED")),a&&l.fragments.length>0&&Bp(a,l),!this.canLoad||!l.live)return;var v,g=void 0,E=void 0;if(l.canBlockReload&&l.endSN&&l.advanced){var S=this.hls.config.lowLatencyMode,L=l.lastPartSn,k=l.endSN,_=l.lastPartIndex,T=L===k;_!==-1?(g=T?k+1:L,E=T?S?0:_:_+1):g=k+1;var w=l.age,F=w+l.ageHeader,D=Math.min(F-l.partTarget,1.5*l.targetduration);if(D>0){if(a&&D>a.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+a.tuneInGoal+" to: "+D+" with playlist age: "+l.age),D=0;else{var b=Math.floor(D/l.targetduration);g+=b,E!==void 0&&(E+=Math.round(D%l.targetduration/l.partTarget)),this.log("CDN Tune-in age: "+l.ageHeader+"s last advanced "+w.toFixed(2)+"s goal: "+D+" skip sn "+b+" to part "+E)}l.tuneInGoal=D}if(v=this.getDeliveryDirectives(l,n.deliveryDirectives,g,E),S||!T)return void this.loadPlaylist(v)}else(l.canBlockReload||l.canSkipUntil)&&(v=this.getDeliveryDirectives(l,n.deliveryDirectives,g,E));var U=this.hls.mainForwardBufferInfo,j=U?U.end-U.len:0,$=function(W,ee){ee===void 0&&(ee=1/0);var Z=1e3*W.targetduration;if(W.updated){var se=W.fragments;if(se.length&&4*Z>ee){var de=1e3*se[se.length-1].duration;de<Z&&(Z=de)}}else Z/=2;return Math.round(Z)}(l,1e3*(l.edge-j));l.updated&&f>this.requestScheduled+$&&(this.requestScheduled=c.loading.start),g!==void 0&&l.canBlockReload?this.requestScheduled=c.loading.first+$-(1e3*l.partTarget||1e3):this.requestScheduled===-1||this.requestScheduled+$<f?this.requestScheduled=f:this.requestScheduled-f<=0&&(this.requestScheduled+=$);var q=this.requestScheduled-f;q=Math.max(0,q),this.log("reload live playlist "+r+" in "+Math.round(q)+" ms"),this.timer=self.setTimeout(function(){return s.loadPlaylist(v)},q)}else this.clearTimer()},o.getDeliveryDirectives=function(r,n,a,s){var l=function(c,f){var p=c.canSkipUntil,v=c.canSkipDateRanges,g=c.endSN;return p&&(f!==void 0?f-g:0)<p?v?bp:Np:Ms}(r,a);return n!=null&&n.skip&&r.deltaUpdateFailed&&(a=n.msn,s=n.part,l=Ms),new Vu(a,s,l)},o.checkRetry=function(r){var n=this,a=r.details,s=Zi(r),l=r.errorAction,c=l||{},f=c.action,p=c.retryCount,v=p===void 0?0:p,g=c.retryConfig,E=!!l&&!!g&&(f===ea||!l.resolved&&f===hr);if(E){var S;if(this.requestScheduled=-1,v>=g.maxNumRetry)return!1;if(s&&(S=r.context)!=null&&S.deliveryDirectives)this.warn("Retrying playlist loading "+(v+1)+"/"+g.maxNumRetry+' after "'+a+'" without delivery-directives'),this.loadPlaylist();else{var L=bs(g,v);this.timer=self.setTimeout(function(){return n.loadPlaylist()},L),this.warn("Retrying playlist loading "+(v+1)+"/"+g.maxNumRetry+' after "'+a+'" in '+L+"ms")}r.levelRetry=!0,l.resolved=!0}return E},d}(),Vp=function(d){function o(n,a){var s;return(s=d.call(this,n,"[level-controller]")||this)._levels=[],s._firstLevel=-1,s._startLevel=void 0,s.currentLevel=null,s.currentLevelIndex=-1,s.manualLevelIndex=-1,s.steering=void 0,s.onParsedComplete=void 0,s.steering=a,s._registerListeners(),s}G(o,d);var r=o.prototype;return r._registerListeners=function(){var n=this.hls;n.on(x.MANIFEST_LOADING,this.onManifestLoading,this),n.on(x.MANIFEST_LOADED,this.onManifestLoaded,this),n.on(x.LEVEL_LOADED,this.onLevelLoaded,this),n.on(x.LEVELS_UPDATED,this.onLevelsUpdated,this),n.on(x.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),n.on(x.FRAG_LOADED,this.onFragLoaded,this),n.on(x.ERROR,this.onError,this)},r._unregisterListeners=function(){var n=this.hls;n.off(x.MANIFEST_LOADING,this.onManifestLoading,this),n.off(x.MANIFEST_LOADED,this.onManifestLoaded,this),n.off(x.LEVEL_LOADED,this.onLevelLoaded,this),n.off(x.LEVELS_UPDATED,this.onLevelsUpdated,this),n.off(x.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),n.off(x.FRAG_LOADED,this.onFragLoaded,this),n.off(x.ERROR,this.onError,this)},r.destroy=function(){this._unregisterListeners(),this.steering=null,this.resetLevels(),d.prototype.destroy.call(this)},r.startLoad=function(){this._levels.forEach(function(n){n.loadError=0,n.fragmentError=0}),d.prototype.startLoad.call(this)},r.resetLevels=function(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[]},r.onManifestLoading=function(n,a){this.resetLevels()},r.onManifestLoaded=function(n,a){var s,l=[],c={};a.levels.forEach(function(f){var p,v=f.attrs;((p=f.audioCodec)==null?void 0:p.indexOf("mp4a.40.34"))!==-1&&(Bs||(Bs=/chrome|firefox/i.test(navigator.userAgent)),Bs&&(f.audioCodec=void 0));var g=v.AUDIO,E=v.CODECS,S=v["FRAME-RATE"];v["PATHWAY-ID"];var L=v.RESOLUTION,k=v.SUBTITLES,_=f.bitrate+"-"+L+"-"+S+"-"+E;(s=c[_])?s.addFallback(f):(s=new Up(f),c[_]=s,l.push(s)),ed(s,"audio",g),ed(s,"text",k)}),this.filterAndSortMediaOptions(l,a)},r.filterAndSortMediaOptions=function(n,a){var s=this,l=[],c=[],f=!1,p=!1,v=!1,g=n.filter(function(w){var F=w.audioCodec,D=w.videoCodec,b=w.width,U=w.height,j=w.unknownCodecs;return f||(f=!(!b||!U)),p||(p=!!D),v||(v=!!F),!(j!=null&&j.length)&&(!F||Ds(F,"audio"))&&(!D||Ds(D,"video"))});if((f||p)&&v&&(g=g.filter(function(w){var F=w.videoCodec,D=w.width,b=w.height;return!!F||!(!D||!b)})),g.length!==0){a.audioTracks&&td(l=a.audioTracks.filter(function(w){return!w.audioCodec||Ds(w.audioCodec,"audio")})),a.subtitles&&td(c=a.subtitles);var E=g.slice(0);g.sort(function(w,F){return w.attrs["HDCP-LEVEL"]!==F.attrs["HDCP-LEVEL"]?(w.attrs["HDCP-LEVEL"]||"")>(F.attrs["HDCP-LEVEL"]||"")?1:-1:w.bitrate!==F.bitrate?w.bitrate-F.bitrate:w.attrs["FRAME-RATE"]!==F.attrs["FRAME-RATE"]?w.attrs.decimalFloatingPoint("FRAME-RATE")-F.attrs.decimalFloatingPoint("FRAME-RATE"):w.attrs.SCORE!==F.attrs.SCORE?w.attrs.decimalFloatingPoint("SCORE")-F.attrs.decimalFloatingPoint("SCORE"):f&&w.height!==F.height?w.height-F.height:0});var S=E[0];if(this.steering&&(g=this.steering.filterParsedLevels(g)).length!==E.length){for(var L=0;L<E.length;L++)if(E[L].pathwayId===g[0].pathwayId){S=E[L];break}}this._levels=g;for(var k=0;k<g.length;k++)if(g[k]===S){this._firstLevel=k,this.log("manifest loaded, "+g.length+" level(s) found, first bitrate: "+S.bitrate);break}var _=v&&!p,T={levels:g,audioTracks:l,subtitleTracks:c,sessionData:a.sessionData,sessionKeys:a.sessionKeys,firstLevel:this._firstLevel,stats:a.stats,audio:v,video:p,altAudio:!_&&l.some(function(w){return!!w.url})};this.hls.trigger(x.MANIFEST_PARSED,T),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else Promise.resolve().then(function(){if(s.hls){var w=new Error("no level with compatible codecs found in manifest");s.hls.trigger(x.ERROR,{type:K.MEDIA_ERROR,details:N.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:a.url,error:w,reason:w.message})}})},r.onError=function(n,a){!a.fatal&&a.context&&a.context.type===Ur&&a.context.level===this.level&&this.checkRetry(a)},r.onFragLoaded=function(n,a){var s=a.frag;if(s!==void 0&&s.type===Ie){var l=this._levels[s.level];l!==void 0&&(l.loadError=0)}},r.onLevelLoaded=function(n,a){var s,l,c=a.level,f=a.details,p=this._levels[c];if(!p)return this.warn("Invalid level index "+c),void((l=a.deliveryDirectives)!=null&&l.skip&&(f.deltaUpdateFailed=!0));c===this.currentLevelIndex?(p.fragmentError===0&&(p.loadError=0),this.playlistLoaded(c,a,p.details)):(s=a.deliveryDirectives)!=null&&s.skip&&(f.deltaUpdateFailed=!0)},r.onAudioTrackSwitched=function(n,a){var s=this.currentLevel;if(s){var l=this.hls.audioTracks[a.id].groupId;if(s.audioGroupIds&&s.audioGroupId!==l){for(var c=-1,f=0;f<s.audioGroupIds.length;f++)if(s.audioGroupIds[f]===l){c=f;break}c!==-1&&c!==s.urlId&&(s.urlId=c,this.canLoad&&this.startLoad())}}},r.loadPlaylist=function(n){d.prototype.loadPlaylist.call(this);var a=this.currentLevelIndex,s=this.currentLevel;if(s&&this.shouldLoadPlaylist(s)){var l=s.urlId,c=s.uri;if(n)try{c=n.addDirectives(c)}catch(p){this.warn("Could not construct new URL with HLS Delivery Directives: "+p)}var f=s.attrs["PATHWAY-ID"];this.log("Loading level index "+a+((n==null?void 0:n.msn)!==void 0?" at sn "+n.msn+" part "+n.part:"")+" with"+(f?" Pathway "+f:"")+" URI "+(l+1)+"/"+s.url.length+" "+c),this.clearTimer(),this.hls.trigger(x.LEVEL_LOADING,{url:c,level:a,id:l,deliveryDirectives:n||null})}},r.removeLevel=function(n,a){var s=this,l=function(f,p){return p!==a},c=this._levels.filter(function(f,p){return p!==n||(f.url.length>1&&a!==void 0?(f.url=f.url.filter(l),f.audioGroupIds&&(f.audioGroupIds=f.audioGroupIds.filter(l)),f.textGroupIds&&(f.textGroupIds=f.textGroupIds.filter(l)),f.urlId=0,!0):(s.steering&&s.steering.removeLevel(f),!1))});this.hls.trigger(x.LEVELS_UPDATED,{levels:c})},r.onLevelsUpdated=function(n,a){var s=a.levels;s.forEach(function(l,c){var f=l.details;f!=null&&f.fragments&&f.fragments.forEach(function(p){p.level=c})}),this._levels=s},A(o,[{key:"levels",get:function(){return this._levels.length===0?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(n){var a=this._levels;if(a.length!==0){if(n<0||n>=a.length){var s=new Error("invalid level idx"),l=n<0;if(this.hls.trigger(x.ERROR,{type:K.OTHER_ERROR,details:N.LEVEL_SWITCH_ERROR,level:n,fatal:l,error:s,reason:s.message}),l)return;n=Math.min(n,a.length-1)}var c=this.currentLevelIndex,f=this.currentLevel,p=f?f.attrs["PATHWAY-ID"]:void 0,v=a[n],g=v.attrs["PATHWAY-ID"];if(this.currentLevelIndex=n,this.currentLevel=v,c!==n||!v.details||!f||p!==g){this.log("Switching to level "+n+(g?" with Pathway "+g:"")+" from level "+c+(p?" with Pathway "+p:""));var E=z({},v,{level:n,maxBitrate:v.maxBitrate,attrs:v.attrs,uri:v.uri,urlId:v.urlId});delete E._attrs,delete E._urlId,this.hls.trigger(x.LEVEL_SWITCHING,E);var S=v.details;if(!S||S.live){var L=this.switchParams(v.uri,f==null?void 0:f.details);this.loadPlaylist(L)}}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(n){this.manualLevelIndex=n,this._startLevel===void 0&&(this._startLevel=n),n!==-1&&(this.level=n)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(n){this._firstLevel=n}},{key:"startLevel",get:function(){if(this._startLevel===void 0){var n=this.hls.config.startLevel;return n!==void 0?n:this._firstLevel}return this._startLevel},set:function(n){this._startLevel=n}},{key:"nextLoadLevel",get:function(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(n){this.level=n,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=n)}}]),o}(Hp);function ed(d,o,r){r&&(o==="audio"?(d.audioGroupIds||(d.audioGroupIds=[]),d.audioGroupIds[d.url.length-1]=r):o==="text"&&(d.textGroupIds||(d.textGroupIds=[]),d.textGroupIds[d.url.length-1]=r))}function td(d){var o={};d.forEach(function(r){var n=r.groupId||"";r.id=o[n]=o[n]||0,o[n]++})}var rd="NOT_LOADED",nd="APPENDING",Yn="PARTIAL",$n="OK",Kp=function(){function d(r){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=r,this._registerListeners()}var o=d.prototype;return o._registerListeners=function(){var r=this.hls;r.on(x.BUFFER_APPENDED,this.onBufferAppended,this),r.on(x.FRAG_BUFFERED,this.onFragBuffered,this),r.on(x.FRAG_LOADED,this.onFragLoaded,this)},o._unregisterListeners=function(){var r=this.hls;r.off(x.BUFFER_APPENDED,this.onBufferAppended,this),r.off(x.FRAG_BUFFERED,this.onFragBuffered,this),r.off(x.FRAG_LOADED,this.onFragLoaded,this)},o.destroy=function(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null},o.getAppendedFrag=function(r,n){var a=this.activePartLists[n];if(a)for(var s=a.length;s--;){var l=a[s];if(!l)break;var c=l.end;if(l.start<=r&&c!==null&&r<=c)return l}return this.getBufferedFrag(r,n)},o.getBufferedFrag=function(r,n){for(var a=this.fragments,s=Object.keys(a),l=s.length;l--;){var c=a[s[l]];if((c==null?void 0:c.body.type)===n&&c.buffered){var f=c.body;if(f.start<=r&&r<=f.end)return f}}return null},o.detectEvictedFragments=function(r,n,a,s){var l=this;this.timeRanges&&(this.timeRanges[r]=n);var c=(s==null?void 0:s.fragment.sn)||-1;Object.keys(this.fragments).forEach(function(f){var p=l.fragments[f];if(p&&!(c>=p.body.sn))if(p.buffered||p.loaded){var v=p.range[r];v&&v.time.some(function(g){var E=!l.isTimeBuffered(g.startPTS,g.endPTS,n);return E&&l.removeFragment(p.body),E})}else p.body.type===a&&l.removeFragment(p.body)})},o.detectPartialFragments=function(r){var n=this,a=this.timeRanges,s=r.frag,l=r.part;if(a&&s.sn!=="initSegment"){var c=cn(s),f=this.fragments[c];if(!(!f||f.buffered&&s.gap)){var p=!s.relurl;Object.keys(a).forEach(function(v){var g=s.elementaryStreams[v];if(g){var E=a[v],S=p||g.partial===!0;f.range[v]=n.getBufferedTimes(s,l,S,E)}}),f.loaded=null,Object.keys(f.range).length?(f.buffered=!0,(f.body.endList=s.endList||f.body.endList)&&(this.endListFragments[f.body.type]=f),ta(f)||this.removeParts(s.sn-1,s.type)):this.removeFragment(f.body)}}},o.removeParts=function(r,n){var a=this.activePartLists[n];a&&(this.activePartLists[n]=a.filter(function(s){return s.fragment.sn>=r}))},o.fragBuffered=function(r,n){var a=cn(r),s=this.fragments[a];!s&&n&&(s=this.fragments[a]={body:r,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},r.gap&&(this.hasGaps=!0)),s&&(s.loaded=null,s.buffered=!0)},o.getBufferedTimes=function(r,n,a,s){for(var l={time:[],partial:a},c=r.start,f=r.end,p=r.minEndPTS||f,v=r.maxStartPTS||c,g=0;g<s.length;g++){var E=s.start(g)-this.bufferPadding,S=s.end(g)+this.bufferPadding;if(v>=E&&p<=S){l.time.push({startPTS:Math.max(c,s.start(g)),endPTS:Math.min(f,s.end(g))});break}if(c<S&&f>E)l.partial=!0,l.time.push({startPTS:Math.max(c,s.start(g)),endPTS:Math.min(f,s.end(g))});else if(f<=E)break}return l},o.getPartialFragment=function(r){var n,a,s,l=null,c=0,f=this.bufferPadding,p=this.fragments;return Object.keys(p).forEach(function(v){var g=p[v];g&&ta(g)&&(a=g.body.start-f,s=g.body.end+f,r>=a&&r<=s&&(n=Math.min(r-a,s-r),c<=n&&(l=g.body,c=n)))}),l},o.isEndListAppended=function(r){var n=this.endListFragments[r];return n!==void 0&&(n.buffered||ta(n))},o.getState=function(r){var n=cn(r),a=this.fragments[n];return a?a.buffered?ta(a)?Yn:$n:nd:rd},o.isTimeBuffered=function(r,n,a){for(var s,l,c=0;c<a.length;c++){if(s=a.start(c)-this.bufferPadding,l=a.end(c)+this.bufferPadding,r>=s&&n<=l)return!0;if(n<=s)return!1}return!1},o.onFragLoaded=function(r,n){var a=n.frag,s=n.part;if(a.sn!=="initSegment"&&!a.bitrateTest){var l=s?null:n,c=cn(a);this.fragments[c]={body:a,appendedPTS:null,loaded:l,buffered:!1,range:Object.create(null)}}},o.onBufferAppended=function(r,n){var a=this,s=n.frag,l=n.part,c=n.timeRanges;if(s.sn!=="initSegment"){var f=s.type;if(l){var p=this.activePartLists[f];p||(this.activePartLists[f]=p=[]),p.push(l)}this.timeRanges=c,Object.keys(c).forEach(function(v){var g=c[v];a.detectEvictedFragments(v,g,f,l)})}},o.onFragBuffered=function(r,n){this.detectPartialFragments(n)},o.hasFragment=function(r){var n=cn(r);return!!this.fragments[n]},o.hasParts=function(r){var n;return!((n=this.activePartLists[r])==null||!n.length)},o.removeFragmentsInRange=function(r,n,a,s,l){var c=this;s&&!this.hasGaps||Object.keys(this.fragments).forEach(function(f){var p=c.fragments[f];if(p){var v=p.body;v.type!==a||s&&!v.gap||v.start<n&&v.end>r&&(p.buffered||l)&&c.removeFragment(v)}})},o.removeFragment=function(r){var n=cn(r);r.stats.loaded=0,r.clearElementaryStreamInfo();var a=this.activePartLists[r.type];if(a){var s=r.sn;this.activePartLists[r.type]=a.filter(function(l){return l.fragment.sn!==s})}delete this.fragments[n],r.endList&&delete this.endListFragments[r.type]},o.removeAllFragments=function(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1},d}();function ta(d){var o,r,n;return d.buffered&&(d.body.gap||((o=d.range.video)==null?void 0:o.partial)||((r=d.range.audio)==null?void 0:r.partial)||((n=d.range.audiovideo)==null?void 0:n.partial))}function cn(d){return d.type+"_"+d.level+"_"+d.urlId+"_"+d.sn}var id=Math.pow(2,17),Wp=function(){function d(r){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=r}var o=d.prototype;return o.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},o.abort=function(){this.loader&&this.loader.abort()},o.load=function(r,n){var a=this,s=r.url;if(!s)return Promise.reject(new Qt({type:K.NETWORK_ERROR,details:N.FRAG_LOAD_ERROR,fatal:!1,frag:r,error:new Error("Fragment does not have a "+(s?"part list":"url")),networkDetails:null}));this.abort();var l=this.config,c=l.fLoader,f=l.loader;return new Promise(function(p,v){if(a.loader&&a.loader.destroy(),r.gap){if(r.tagList.some(function(k){return k[0]==="GAP"}))return void v(sd(r));r.gap=!1}var g=a.loader=r.loader=c?new c(l):new f(l),E=ad(r),S=Xu(l.fragLoadPolicy.default),L={loadPolicy:S,timeout:S.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:r.sn==="initSegment"?1/0:id};r.stats=g.stats,g.load(E,L,{onSuccess:function(k,_,T,w){a.resetLoader(r,g);var F=k.data;T.resetIV&&r.decryptdata&&(r.decryptdata.iv=new Uint8Array(F.slice(0,16)),F=F.slice(16)),p({frag:r,part:null,payload:F,networkDetails:w})},onError:function(k,_,T,w){a.resetLoader(r,g),v(new Qt({type:K.NETWORK_ERROR,details:N.FRAG_LOAD_ERROR,fatal:!1,frag:r,response:y({url:s,data:void 0},k),error:new Error("HTTP Error "+k.code+" "+k.text),networkDetails:T,stats:w}))},onAbort:function(k,_,T){a.resetLoader(r,g),v(new Qt({type:K.NETWORK_ERROR,details:N.INTERNAL_ABORTED,fatal:!1,frag:r,error:new Error("Aborted"),networkDetails:T,stats:k}))},onTimeout:function(k,_,T){a.resetLoader(r,g),v(new Qt({type:K.NETWORK_ERROR,details:N.FRAG_LOAD_TIMEOUT,fatal:!1,frag:r,error:new Error("Timeout after "+L.timeout+"ms"),networkDetails:T,stats:k}))},onProgress:function(k,_,T,w){n&&n({frag:r,part:null,payload:T,networkDetails:w})}})})},o.loadPart=function(r,n,a){var s=this;this.abort();var l=this.config,c=l.fLoader,f=l.loader;return new Promise(function(p,v){if(s.loader&&s.loader.destroy(),r.gap||n.gap)v(sd(r,n));else{var g=s.loader=r.loader=c?new c(l):new f(l),E=ad(r,n),S=Xu(l.fragLoadPolicy.default),L={loadPolicy:S,timeout:S.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:id};n.stats=g.stats,g.load(E,L,{onSuccess:function(k,_,T,w){s.resetLoader(r,g),s.updateStatsFromPart(r,n);var F={frag:r,part:n,payload:k.data,networkDetails:w};a(F),p(F)},onError:function(k,_,T,w){s.resetLoader(r,g),v(new Qt({type:K.NETWORK_ERROR,details:N.FRAG_LOAD_ERROR,fatal:!1,frag:r,part:n,response:y({url:E.url,data:void 0},k),error:new Error("HTTP Error "+k.code+" "+k.text),networkDetails:T,stats:w}))},onAbort:function(k,_,T){r.stats.aborted=n.stats.aborted,s.resetLoader(r,g),v(new Qt({type:K.NETWORK_ERROR,details:N.INTERNAL_ABORTED,fatal:!1,frag:r,part:n,error:new Error("Aborted"),networkDetails:T,stats:k}))},onTimeout:function(k,_,T){s.resetLoader(r,g),v(new Qt({type:K.NETWORK_ERROR,details:N.FRAG_LOAD_TIMEOUT,fatal:!1,frag:r,part:n,error:new Error("Timeout after "+L.timeout+"ms"),networkDetails:T,stats:k}))}})}})},o.updateStatsFromPart=function(r,n){var a=r.stats,s=n.stats,l=s.total;if(a.loaded+=s.loaded,l){var c=Math.round(r.duration/n.duration),f=Math.min(Math.round(a.loaded/l),c),p=(c-f)*Math.round(a.loaded/f);a.total=a.loaded+p}else a.total=Math.max(a.loaded,a.total);var v=a.loading,g=s.loading;v.start?v.first+=g.first-g.start:(v.start=g.start,v.first=g.first),v.end=g.end},o.resetLoader=function(r,n){r.loader=null,this.loader===n&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),n.destroy()},d}();function ad(d,o){o===void 0&&(o=null);var r=o||d,n={frag:d,part:o,responseType:"arraybuffer",url:r.url,headers:{},rangeStart:0,rangeEnd:0},a=r.byteRangeStartOffset,s=r.byteRangeEndOffset;if(H(a)&&H(s)){var l,c=a,f=s;if(d.sn==="initSegment"&&((l=d.decryptdata)==null?void 0:l.method)==="AES-128"){var p=s-a;p%16&&(f=s+(16-p%16)),a!==0&&(n.resetIV=!0,c=a-16)}n.rangeStart=c,n.rangeEnd=f}return n}function sd(d,o){var r=new Error("GAP "+(d.gap?"tag":"attribute")+" found"),n={type:K.MEDIA_ERROR,details:N.FRAG_GAP,fatal:!1,frag:d,error:r,networkDetails:null};return o&&(n.part=o),(o||d).stats.aborted=!0,new Qt(n)}var Qt=function(d){function o(r){var n;return(n=d.call(this,r.error.message)||this).data=void 0,n.data=r,n}return G(o,d),o}(me(Error)),Yp=function(){function d(r){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=r}var o=d.prototype;return o.abort=function(r){for(var n in this.keyUriToKeyInfo){var a=this.keyUriToKeyInfo[n].loader;if(a){if(r&&r!==a.context.frag.type)return;a.abort()}}},o.detach=function(){for(var r in this.keyUriToKeyInfo){var n=this.keyUriToKeyInfo[r];(n.mediaKeySessionContext||n.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[r]}},o.destroy=function(){for(var r in this.detach(),this.keyUriToKeyInfo){var n=this.keyUriToKeyInfo[r].loader;n&&n.destroy()}this.keyUriToKeyInfo={}},o.createKeyLoadError=function(r,n,a,s,l){return n===void 0&&(n=N.KEY_LOAD_ERROR),new Qt({type:K.NETWORK_ERROR,details:n,fatal:!1,frag:r,response:l,error:a,networkDetails:s})},o.loadClear=function(r,n){var a=this;if(this.emeController&&this.config.emeEnabled)for(var s=r.sn,l=r.cc,c=function(){var p=n[f];if(l<=p.cc&&(s==="initSegment"||p.sn==="initSegment"||s<p.sn))return a.emeController.selectKeySystemFormat(p).then(function(v){p.setKeyFormat(v)}),"break"},f=0;f<n.length&&c()!=="break";f++);},o.load=function(r){var n=this;return!r.decryptdata&&r.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(r).then(function(a){return n.loadInternal(r,a)}):this.loadInternal(r)},o.loadInternal=function(r,n){var a,s;n&&r.setKeyFormat(n);var l=r.decryptdata;if(!l){var c=new Error(n?"Expected frag.decryptdata to be defined after setting format "+n:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(r,N.KEY_LOAD_ERROR,c))}var f=l.uri;if(!f)return Promise.reject(this.createKeyLoadError(r,N.KEY_LOAD_ERROR,new Error('Invalid key URI: "'+f+'"')));var p,v=this.keyUriToKeyInfo[f];if((a=v)!=null&&a.decryptdata.key)return l.key=v.decryptdata.key,Promise.resolve({frag:r,keyInfo:v});if((s=v)!=null&&s.keyLoadPromise)switch((p=v.mediaKeySessionContext)==null?void 0:p.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return v.keyLoadPromise.then(function(g){return l.key=g.keyInfo.decryptdata.key,{frag:r,keyInfo:v}})}switch(v=this.keyUriToKeyInfo[f]={decryptdata:l,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},l.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return l.keyFormat==="identity"?this.loadKeyHTTP(v,r):this.loadKeyEME(v,r);case"AES-128":return this.loadKeyHTTP(v,r);default:return Promise.reject(this.createKeyLoadError(r,N.KEY_LOAD_ERROR,new Error('Key supplied with unsupported METHOD: "'+l.method+'"')))}},o.loadKeyEME=function(r,n){var a={frag:n,keyInfo:r};if(this.emeController&&this.config.emeEnabled){var s=this.emeController.loadKey(a);if(s)return(r.keyLoadPromise=s.then(function(l){return r.mediaKeySessionContext=l,a})).catch(function(l){throw r.keyLoadPromise=null,l})}return Promise.resolve(a)},o.loadKeyHTTP=function(r,n){var a=this,s=this.config,l=new s.loader(s);return n.keyLoader=r.loader=l,r.keyLoadPromise=new Promise(function(c,f){var p={keyInfo:r,frag:n,responseType:"arraybuffer",url:r.decryptdata.uri},v=s.keyLoadPolicy.default,g={loadPolicy:v,timeout:v.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},E={onSuccess:function(S,L,k,_){var T=k.frag,w=k.keyInfo,F=k.url;if(!T.decryptdata||w!==a.keyUriToKeyInfo[F])return f(a.createKeyLoadError(T,N.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),_));w.decryptdata.key=T.decryptdata.key=new Uint8Array(S.data),T.keyLoader=null,w.loader=null,c({frag:T,keyInfo:w})},onError:function(S,L,k,_){a.resetLoader(L),f(a.createKeyLoadError(n,N.KEY_LOAD_ERROR,new Error("HTTP Error "+S.code+" loading key "+S.text),k,y({url:p.url,data:void 0},S)))},onTimeout:function(S,L,k){a.resetLoader(L),f(a.createKeyLoadError(n,N.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),k))},onAbort:function(S,L,k){a.resetLoader(L),f(a.createKeyLoadError(n,N.INTERNAL_ABORTED,new Error("key loading aborted"),k))}};l.load(p,g,E)})},o.resetLoader=function(r){var n=r.frag,a=r.keyInfo,s=r.url,l=a.loader;n.keyLoader===l&&(n.keyLoader=null,a.loader=null),delete this.keyUriToKeyInfo[s],l&&l.destroy()},d}(),$p=function(){function d(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var o=d.prototype;return o.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},o.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},o.onHandlerDestroyed=function(){},o.hasInterval=function(){return!!this._tickInterval},o.hasNextTick=function(){return!!this._tickTimer},o.setInterval=function(r){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,r),!0)},o.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},o.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},o.tick=function(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},o.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},o.doTick=function(){},d}(),Qp={length:0,start:function(){return 0},end:function(){return 0}},je=function(){function d(){}return d.isBuffered=function(o,r){try{if(o){for(var n=d.getBuffered(o),a=0;a<n.length;a++)if(r>=n.start(a)&&r<=n.end(a))return!0}}catch{}return!1},d.bufferInfo=function(o,r,n){try{if(o){var a,s=d.getBuffered(o),l=[];for(a=0;a<s.length;a++)l.push({start:s.start(a),end:s.end(a)});return this.bufferedInfo(l,r,n)}}catch{}return{len:0,start:r,end:r,nextStart:void 0}},d.bufferedInfo=function(o,r,n){r=Math.max(0,r),o.sort(function(k,_){var T=k.start-_.start;return T||_.end-k.end});var a=[];if(n)for(var s=0;s<o.length;s++){var l=a.length;if(l){var c=a[l-1].end;o[s].start-c<n?o[s].end>c&&(a[l-1].end=o[s].end):a.push(o[s])}else a.push(o[s])}else a=o;for(var f,p=0,v=r,g=r,E=0;E<a.length;E++){var S=a[E].start,L=a[E].end;if(r+n>=S&&r<L)v=S,p=(g=L)-r;else if(r+n<S){f=S;break}}return{len:p,start:v||0,end:g||0,nextStart:f}},d.getBuffered=function(o){try{return o.buffered}catch(r){return M.log("failed to get media.buffered",r),Qp}},d}(),od=function(d,o,r,n,a,s){n===void 0&&(n=0),a===void 0&&(a=-1),s===void 0&&(s=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=d,this.sn=o,this.id=r,this.size=n,this.part=a,this.partial=s};function ld(d,o){if(d){var r=d.start+o;d.start=d.startPTS=r,d.endPTS=r+d.duration}}function ud(d,o){for(var r=o.fragments,n=0,a=r.length;n<a;n++)ld(r[n],d);o.fragmentHint&&ld(o.fragmentHint,d),o.alignedSliding=!0}function Xp(d,o,r){o&&(function(n,a,s){if(function(c,f,p){return!(!f.details||!(p.endCC>p.startCC||c&&c.cc<p.startCC))}(n,s,a)){var l=function(c,f,p){var v=c.fragments,g=f.fragments;if(g.length&&v.length){var E=function(S,L){for(var k=null,_=0,T=S.length;_<T;_++){var w=S[_];if(w&&w.cc===L){k=w;break}}return k}(v,g[0].cc);if(E&&(!E||E.startPTS))return E;M.log("No frag in previous level to align on")}else M.log("No fragments to align")}(s.details,a);l&&H(l.start)&&(M.log("Adjusting PTS using last level due to CC increase within current level "+a.url),ud(l.start,a))}}(d,r,o),!r.alignedSliding&&o.details&&function(n,a){if(a.fragments.length&&n.hasProgramDateTime&&a.hasProgramDateTime){var s=a.fragments[0].programDateTime,l=n.fragments[0].programDateTime,c=(l-s)/1e3+a.fragments[0].start;c&&H(c)&&(M.log("Adjusting PTS using programDateTime delta "+(l-s)+"ms, sliding:"+c.toFixed(3)+" "+n.url+" "),ud(c,n))}}(r,o.details),r.alignedSliding||!o.details||r.skippedSegments||Wu(o.details,r))}var qp=function(){function d(o,r){this.subtle=void 0,this.aesIV=void 0,this.subtle=o,this.aesIV=r}return d.prototype.decrypt=function(o,r){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},r,o)},d}(),Zp=function(){function d(o,r){this.subtle=void 0,this.key=void 0,this.subtle=o,this.key=r}return d.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},d}(),Jp=function(){function d(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var o=d.prototype;return o.uint8ArrayToUint32Array_=function(r){for(var n=new DataView(r),a=new Uint32Array(4),s=0;s<4;s++)a[s]=n.getUint32(4*s);return a},o.initTable=function(){var r=this.sBox,n=this.invSBox,a=this.subMix,s=a[0],l=a[1],c=a[2],f=a[3],p=this.invSubMix,v=p[0],g=p[1],E=p[2],S=p[3],L=new Uint32Array(256),k=0,_=0,T=0;for(T=0;T<256;T++)L[T]=T<128?T<<1:T<<1^283;for(T=0;T<256;T++){var w=_^_<<1^_<<2^_<<3^_<<4;w=w>>>8^255&w^99,r[k]=w,n[w]=k;var F=L[k],D=L[F],b=L[D],U=257*L[w]^16843008*w;s[k]=U<<24|U>>>8,l[k]=U<<16|U>>>16,c[k]=U<<8|U>>>24,f[k]=U,U=16843009*b^65537*D^257*F^16843008*k,v[w]=U<<24|U>>>8,g[w]=U<<16|U>>>16,E[w]=U<<8|U>>>24,S[w]=U,k?(k=F^L[L[L[b^F]]],_^=L[L[_]]):k=_=1}},o.expandKey=function(r){for(var n=this.uint8ArrayToUint32Array_(r),a=!0,s=0;s<n.length&&a;)a=n[s]===this.key[s],s++;if(!a){this.key=n;var l=this.keySize=n.length;if(l!==4&&l!==6&&l!==8)throw new Error("Invalid aes key size="+l);var c,f,p,v,g=this.ksRows=4*(l+6+1),E=this.keySchedule=new Uint32Array(g),S=this.invKeySchedule=new Uint32Array(g),L=this.sBox,k=this.rcon,_=this.invSubMix,T=_[0],w=_[1],F=_[2],D=_[3];for(c=0;c<g;c++)c<l?p=E[c]=n[c]:(v=p,c%l==0?(v=L[(v=v<<8|v>>>24)>>>24]<<24|L[v>>>16&255]<<16|L[v>>>8&255]<<8|L[255&v],v^=k[c/l|0]<<24):l>6&&c%l==4&&(v=L[v>>>24]<<24|L[v>>>16&255]<<16|L[v>>>8&255]<<8|L[255&v]),E[c]=p=(E[c-l]^v)>>>0);for(f=0;f<g;f++)c=g-f,v=3&f?E[c]:E[c-4],S[f]=f<4||c<=4?v:T[L[v>>>24]]^w[L[v>>>16&255]]^F[L[v>>>8&255]]^D[L[255&v]],S[f]=S[f]>>>0}},o.networkToHostOrderSwap=function(r){return r<<24|(65280&r)<<8|(16711680&r)>>8|r>>>24},o.decrypt=function(r,n,a){for(var s,l,c,f,p,v,g,E,S,L,k,_,T,w,F=this.keySize+6,D=this.invKeySchedule,b=this.invSBox,U=this.invSubMix,j=U[0],$=U[1],q=U[2],W=U[3],ee=this.uint8ArrayToUint32Array_(a),Z=ee[0],se=ee[1],de=ee[2],ne=ee[3],le=new Int32Array(r),oe=new Int32Array(le.length),ae=this.networkToHostOrderSwap;n<le.length;){for(S=ae(le[n]),L=ae(le[n+1]),k=ae(le[n+2]),_=ae(le[n+3]),p=S^D[0],v=_^D[1],g=k^D[2],E=L^D[3],T=4,w=1;w<F;w++)s=j[p>>>24]^$[v>>16&255]^q[g>>8&255]^W[255&E]^D[T],l=j[v>>>24]^$[g>>16&255]^q[E>>8&255]^W[255&p]^D[T+1],c=j[g>>>24]^$[E>>16&255]^q[p>>8&255]^W[255&v]^D[T+2],f=j[E>>>24]^$[p>>16&255]^q[v>>8&255]^W[255&g]^D[T+3],p=s,v=l,g=c,E=f,T+=4;s=b[p>>>24]<<24^b[v>>16&255]<<16^b[g>>8&255]<<8^b[255&E]^D[T],l=b[v>>>24]<<24^b[g>>16&255]<<16^b[E>>8&255]<<8^b[255&p]^D[T+1],c=b[g>>>24]<<24^b[E>>16&255]<<16^b[p>>8&255]<<8^b[255&v]^D[T+2],f=b[E>>>24]<<24^b[p>>16&255]<<16^b[v>>8&255]<<8^b[255&g]^D[T+3],oe[n]=ae(s^Z),oe[n+1]=ae(f^se),oe[n+2]=ae(c^de),oe[n+3]=ae(l^ne),Z=S,se=L,de=k,ne=_,n+=4}return oe.buffer},d}(),zs=function(){function d(r,n){var a=(n===void 0?{}:n).removePKCS7Padding,s=a===void 0||a;if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=r.enableSoftwareAES,this.removePKCS7Padding=s,s)try{var l=self.crypto;l&&(this.subtle=l.subtle||l.webkitSubtle)}catch{}this.subtle===null&&(this.useSoftware=!0)}var o=d.prototype;return o.destroy=function(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null},o.isSync=function(){return this.useSoftware},o.flush=function(){var r=this.currentResult,n=this.remainderData;if(!r||n)return this.reset(),null;var a,s,l,c=new Uint8Array(r);return this.reset(),this.removePKCS7Padding?(s=(a=c).byteLength,(l=s&&new DataView(a.buffer).getUint8(s-1))?br(a,0,s-l):a):c},o.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},o.decrypt=function(r,n,a){var s=this;return this.useSoftware?new Promise(function(l,c){s.softwareDecrypt(new Uint8Array(r),n,a);var f=s.flush();f?l(f.buffer):c(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(r),n,a)},o.softwareDecrypt=function(r,n,a){var s=this.currentIV,l=this.currentResult,c=this.remainderData;this.logOnce("JS AES decrypt"),c&&(r=ln(c,r),this.remainderData=null);var f=this.getValidChunk(r);if(!f.length)return null;s&&(a=s);var p=this.softwareDecrypter;p||(p=this.softwareDecrypter=new Jp),p.expandKey(n);var v=l;return this.currentResult=p.decrypt(f.buffer,0,a),this.currentIV=br(f,-16).buffer,v||null},o.webCryptoDecrypt=function(r,n,a){var s=this,l=this.subtle;return this.key===n&&this.fastAesKey||(this.key=n,this.fastAesKey=new Zp(l,n)),this.fastAesKey.expandKey().then(function(c){return l?(s.logOnce("WebCrypto AES decrypt"),new qp(l,new Uint8Array(a)).decrypt(r.buffer,c)):Promise.reject(new Error("web crypto not initialized"))}).catch(function(c){return M.warn("[decrypter]: WebCrypto Error, disable WebCrypto API, "+c.name+": "+c.message),s.onWebCryptoError(r,n,a)})},o.onWebCryptoError=function(r,n,a){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(r,n,a);var s=this.flush();if(s)return s.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")},o.getValidChunk=function(r){var n=r,a=r.length-r.length%16;return a!==r.length&&(n=br(r,0,a),this.remainderData=br(r,a)),n},o.logOnce=function(r){this.logEnabled&&(M.log("[decrypter]: "+r),this.logEnabled=!1)},d}(),ev=function(d){for(var o="",r=d.length,n=0;n<r;n++)o+="["+d.start(n).toFixed(3)+"-"+d.end(n).toFixed(3)+"]";return o},Xt="STOPPED",Fe="IDLE",Hs="KEY_LOADING",Qn="FRAG_LOADING",Xn="FRAG_LOADING_WAITING_RETRY",Br="PARSING",ra="PARSED",Vs="ENDED",qn="ERROR",Gr="WAITING_LEVEL",tv=function(d){function o(n,a,s,l,c){var f;return(f=d.call(this)||this).hls=void 0,f.fragPrevious=null,f.fragCurrent=null,f.fragmentTracker=void 0,f.transmuxer=null,f._state=Xt,f.playlistType=void 0,f.media=null,f.mediaBuffer=null,f.config=void 0,f.bitrateTest=!1,f.lastCurrentTime=0,f.nextLoadPosition=0,f.startPosition=0,f.startTimeOffset=null,f.loadedmetadata=!1,f.retryDate=0,f.levels=null,f.fragmentLoader=void 0,f.keyLoader=void 0,f.levelLastLoaded=null,f.startFragRequested=!1,f.decrypter=void 0,f.initPTS=[],f.onvseeking=null,f.onvended=null,f.logPrefix="",f.log=void 0,f.warn=void 0,f.playlistType=c,f.logPrefix=l,f.log=M.log.bind(M,l+":"),f.warn=M.warn.bind(M,l+":"),f.hls=n,f.fragmentLoader=new Wp(n.config),f.keyLoader=s,f.fragmentTracker=a,f.config=n.config,f.decrypter=new zs(n.config),n.on(x.MANIFEST_LOADED,f.onManifestLoaded,function(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}(f)),f}G(o,d);var r=o.prototype;return r.doTick=function(){this.onTickEnd()},r.onTickEnd=function(){},r.startLoad=function(n){},r.stopLoad=function(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);var n=this.fragCurrent;n!=null&&n.loader&&(n.abortRequests(),this.fragmentTracker.removeFragment(n)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=Xt},r._streamEnded=function(n,a){if(a.live||n.nextStart||!n.end||!this.media)return!1;var s=a.partList;if(s!=null&&s.length){var l=s[s.length-1];return je.isBuffered(this.media,l.start+l.duration/2)}var c=a.fragments[a.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(c)},r.getLevelDetails=function(){var n;if(this.levels&&this.levelLastLoaded!==null)return(n=this.levels[this.levelLastLoaded])==null?void 0:n.details},r.onMediaAttached=function(n,a){var s=this.media=this.mediaBuffer=a.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),s.addEventListener("seeking",this.onvseeking),s.addEventListener("ended",this.onvended);var l=this.config;this.levels&&l.autoStartLoad&&this.state===Xt&&this.startLoad(l.startPosition)},r.onMediaDetaching=function(){var n=this.media;n!=null&&n.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),n&&this.onvseeking&&this.onvended&&(n.removeEventListener("seeking",this.onvseeking),n.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},r.onMediaSeeking=function(){var n=this.config,a=this.fragCurrent,s=this.media,l=this.mediaBuffer,c=this.state,f=s?s.currentTime:0,p=je.bufferInfo(l||s,f,n.maxBufferHole);if(this.log("media seeking to "+(H(f)?f.toFixed(3):f)+", state: "+c),this.state===Vs)this.resetLoadingState();else if(a){var v=n.maxFragLookUpTolerance,g=a.start-v,E=a.start+a.duration+v;if(!p.len||E<p.start||g>p.end){var S=f>E;(f<g||S)&&(S&&a.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),a.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}s&&(this.fragmentTracker.removeFragmentsInRange(f,1/0,this.playlistType,!0),this.lastCurrentTime=f),this.loadedmetadata||p.len||(this.nextLoadPosition=this.startPosition=f),this.tickImmediate()},r.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},r.onManifestLoaded=function(n,a){this.startTimeOffset=a.startTimeOffset,this.initPTS=[]},r.onHandlerDestroying=function(){this.stopLoad(),d.prototype.onHandlerDestroying.call(this)},r.onHandlerDestroyed=function(){this.state=Xt,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,d.prototype.onHandlerDestroyed.call(this)},r.loadFragment=function(n,a,s){this._loadFragForPlayback(n,a,s)},r._loadFragForPlayback=function(n,a,s){var l=this;this._doFragLoad(n,a,s,function(c){if(l.fragContextChanged(n))return l.warn("Fragment "+n.sn+(c.part?" p: "+c.part.index:"")+" of level "+n.level+" was dropped during download."),void l.fragmentTracker.removeFragment(n);n.stats.chunkCount++,l._handleFragmentLoadProgress(c)}).then(function(c){if(c){var f=l.state;l.fragContextChanged(n)?(f===Qn||!l.fragCurrent&&f===Br)&&(l.fragmentTracker.removeFragment(n),l.state=Fe):("payload"in c&&(l.log("Loaded fragment "+n.sn+" of level "+n.level),l.hls.trigger(x.FRAG_LOADED,c)),l._handleFragmentLoadComplete(c))}}).catch(function(c){l.state!==Xt&&l.state!==qn&&(l.warn(c),l.resetFragmentLoading(n))})},r.clearTrackerIfNeeded=function(n){var a,s=this.fragmentTracker;if(s.getState(n)===nd){var l=n.type,c=this.getFwdBufferInfo(this.mediaBuffer,l),f=Math.max(n.duration,c?c.len:this.config.maxBufferLength);this.reduceMaxBufferLength(f)&&s.removeFragment(n)}else((a=this.mediaBuffer)==null?void 0:a.buffered.length)===0?s.removeAllFragments():s.hasParts(n.type)&&(s.detectPartialFragments({frag:n,part:null,stats:n.stats,id:n.type}),s.getState(n)===Yn&&s.removeFragment(n))},r.checkLiveUpdate=function(n){if(n.updated&&!n.live){var a=n.fragments[n.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:a,part:null,stats:a.stats,id:a.type})}n.fragments[0]||(n.deltaUpdateFailed=!0)},r.flushMainBuffer=function(n,a,s){if(s===void 0&&(s=null),n-a){var l={startOffset:n,endOffset:a,type:s};this.hls.trigger(x.BUFFER_FLUSHING,l)}},r._loadInitSegment=function(n,a){var s=this;this._doFragLoad(n,a).then(function(l){if(!l||s.fragContextChanged(n)||!s.levels)throw new Error("init load aborted");return l}).then(function(l){var c=s.hls,f=l.payload,p=n.decryptdata;if(f&&f.byteLength>0&&p&&p.key&&p.iv&&p.method==="AES-128"){var v=self.performance.now();return s.decrypter.decrypt(new Uint8Array(f),p.key.buffer,p.iv.buffer).catch(function(g){throw c.trigger(x.ERROR,{type:K.MEDIA_ERROR,details:N.FRAG_DECRYPT_ERROR,fatal:!1,error:g,reason:g.message,frag:n}),g}).then(function(g){var E=self.performance.now();return c.trigger(x.FRAG_DECRYPTED,{frag:n,payload:g,stats:{tstart:v,tdecrypt:E}}),l.payload=g,l})}return l}).then(function(l){var c=s.fragCurrent,f=s.hls;if(!s.levels)throw new Error("init load aborted, missing levels");var p=n.stats;s.state=Fe,a.fragmentError=0,n.data=new Uint8Array(l.payload),p.parsing.start=p.buffering.start=self.performance.now(),p.parsing.end=p.buffering.end=self.performance.now(),l.frag===c&&f.trigger(x.FRAG_BUFFERED,{stats:p,frag:c,part:null,id:n.type}),s.tick()}).catch(function(l){s.state!==Xt&&s.state!==qn&&(s.warn(l),s.resetFragmentLoading(n))})},r.fragContextChanged=function(n){var a=this.fragCurrent;return!n||!a||n.level!==a.level||n.sn!==a.sn||n.urlId!==a.urlId},r.fragBufferedComplete=function(n,a){var s,l,c,f,p=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+n.type+" sn: "+n.sn+(a?" part: "+a.index:"")+" of "+(this.playlistType===Ie?"level":"track")+" "+n.level+" (frag:["+((s=n.startPTS)!=null?s:NaN).toFixed(3)+"-"+((l=n.endPTS)!=null?l:NaN).toFixed(3)+"] > buffer:"+(p?ev(je.getBuffered(p)):"(detached)")+")"),this.state=Fe,p&&(!this.loadedmetadata&&n.type==Ie&&p.buffered.length&&((c=this.fragCurrent)==null?void 0:c.sn)===((f=this.fragPrevious)==null?void 0:f.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())},r.seekToStartPos=function(){},r._handleFragmentLoadComplete=function(n){var a=this.transmuxer;if(a){var s=n.frag,l=n.part,c=n.partsLoaded,f=!c||c.length===0||c.some(function(v){return!v}),p=new od(s.level,s.sn,s.stats.chunkCount+1,0,l?l.index:-1,!f);a.flush(p)}},r._handleFragmentLoadProgress=function(n){},r._doFragLoad=function(n,a,s,l){var c,f=this;s===void 0&&(s=null);var p=a==null?void 0:a.details;if(!this.levels||!p)throw new Error("frag load aborted, missing level"+(p?"":" detail")+"s");var v=null;if(!n.encrypted||(c=n.decryptdata)!=null&&c.key?!n.encrypted&&p.encryptedFragments.length&&this.keyLoader.loadClear(n,p.encryptedFragments):(this.log("Loading key for "+n.sn+" of ["+p.startSN+"-"+p.endSN+"], "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+n.level),this.state=Hs,this.fragCurrent=n,v=this.keyLoader.load(n).then(function(T){if(!f.fragContextChanged(T.frag))return f.hls.trigger(x.KEY_LOADED,T),f.state===Hs&&(f.state=Fe),T}),this.hls.trigger(x.KEY_LOADING,{frag:n}),this.fragCurrent===null&&(v=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),s=Math.max(n.start,s||0),this.config.lowLatencyMode&&n.sn!=="initSegment"){var g=p.partList;if(g&&l){s>n.end&&p.fragmentHint&&(n=p.fragmentHint);var E=this.getNextPart(g,n,s);if(E>-1){var S,L=g[E];return this.log("Loading part sn: "+n.sn+" p: "+L.index+" cc: "+n.cc+" of playlist ["+p.startSN+"-"+p.endSN+"] parts [0-"+E+"-"+(g.length-1)+"] "+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+n.level+", target: "+parseFloat(s.toFixed(3))),this.nextLoadPosition=L.start+L.duration,this.state=Qn,S=v?v.then(function(T){return!T||f.fragContextChanged(T.frag)?null:f.doFragPartsLoad(n,L,a,l)}).catch(function(T){return f.handleFragLoadError(T)}):this.doFragPartsLoad(n,L,a,l).catch(function(T){return f.handleFragLoadError(T)}),this.hls.trigger(x.FRAG_LOADING,{frag:n,part:L,targetBufferTime:s}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):S}if(!n.url||this.loadedEndOfParts(g,s))return Promise.resolve(null)}}this.log("Loading fragment "+n.sn+" cc: "+n.cc+" "+(p?"of ["+p.startSN+"-"+p.endSN+"] ":"")+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+n.level+", target: "+parseFloat(s.toFixed(3))),H(n.sn)&&!this.bitrateTest&&(this.nextLoadPosition=n.start+n.duration),this.state=Qn;var k,_=this.config.progressive;return k=_&&v?v.then(function(T){return!T||f.fragContextChanged(T==null?void 0:T.frag)?null:f.fragmentLoader.load(n,l)}).catch(function(T){return f.handleFragLoadError(T)}):Promise.all([this.fragmentLoader.load(n,_?l:void 0),v]).then(function(T){var w=T[0];return!_&&w&&l&&l(w),w}).catch(function(T){return f.handleFragLoadError(T)}),this.hls.trigger(x.FRAG_LOADING,{frag:n,targetBufferTime:s}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):k},r.doFragPartsLoad=function(n,a,s,l){var c=this;return new Promise(function(f,p){var v,g=[],E=(v=s.details)==null?void 0:v.partList;(function S(L){c.fragmentLoader.loadPart(n,L,l).then(function(k){g[L.index]=k;var _=k.part;c.hls.trigger(x.FRAG_LOADED,k);var T=Yu(s,n.sn,L.index+1)||$u(E,n.sn,L.index+1);if(!T)return f({frag:n,part:_,partsLoaded:g});S(T)}).catch(p)})(a)})},r.handleFragLoadError=function(n){if("data"in n){var a=n.data;n.data&&a.details===N.INTERNAL_ABORTED?this.handleFragLoadAborted(a.frag,a.part):this.hls.trigger(x.ERROR,a)}else this.hls.trigger(x.ERROR,{type:K.OTHER_ERROR,details:N.INTERNAL_EXCEPTION,err:n,error:n,fatal:!0});return null},r._handleTransmuxerFlush=function(n){var a=this.getCurrentContext(n);if(a&&this.state===Br){var s=a.frag,l=a.part,c=a.level,f=self.performance.now();s.stats.parsing.end=f,l&&(l.stats.parsing.end=f),this.updateLevelTiming(s,l,c,n.partial)}else this.fragCurrent||this.state===Xt||this.state===qn||(this.state=Fe)},r.getCurrentContext=function(n){var a=this.levels,s=this.fragCurrent,l=n.level,c=n.sn,f=n.part;if(a==null||!a[l])return this.warn("Levels object was unset while buffering fragment "+c+" of level "+l+". The current chunk will not be buffered."),null;var p=a[l],v=f>-1?Yu(p,c,f):null,g=v?v.fragment:function(E,S,L){if(E==null||!E.details)return null;var k=E.details,_=k.fragments[S-k.startSN];return _||((_=k.fragmentHint)&&_.sn===S?_:S<k.startSN&&L&&L.sn===S?L:null)}(p,c,s);return g?(s&&s!==g&&(g.stats=s.stats),{frag:g,part:v,level:p}):null},r.bufferFragmentData=function(n,a,s,l,c){var f;if(n&&this.state===Br){var p=n.data1,v=n.data2,g=p;if(p&&v&&(g=ln(p,v)),(f=g)!=null&&f.length){var E={type:n.type,frag:a,part:s,chunkMeta:l,parent:a.type,data:g};if(this.hls.trigger(x.BUFFER_APPENDING,E),n.dropped&&n.independent&&!s){if(c)return;this.flushBufferGap(a)}}}},r.flushBufferGap=function(n){var a=this.media;if(a)if(je.isBuffered(a,a.currentTime)){var s=a.currentTime,l=je.bufferInfo(a,s,0),c=n.duration,f=Math.min(2*this.config.maxFragLookUpTolerance,.25*c),p=Math.max(Math.min(n.start-f,l.end-f),s+f);n.start-p>f&&this.flushMainBuffer(p,n.start)}else this.flushMainBuffer(0,n.start)},r.getFwdBufferInfo=function(n,a){var s=this.getLoadPosition();return H(s)?this.getFwdBufferInfoAtPos(n,s,a):null},r.getFwdBufferInfoAtPos=function(n,a,s){var l=this.config.maxBufferHole,c=je.bufferInfo(n,a,l);if(c.len===0&&c.nextStart!==void 0){var f=this.fragmentTracker.getBufferedFrag(a,s);if(f&&c.nextStart<f.end)return je.bufferInfo(n,a,Math.max(c.nextStart,l))}return c},r.getMaxBufferLength=function(n){var a,s=this.config;return a=n?Math.max(8*s.maxBufferSize/n,s.maxBufferLength):s.maxBufferLength,Math.min(a,s.maxMaxBufferLength)},r.reduceMaxBufferLength=function(n){var a=this.config,s=n||a.maxBufferLength;return a.maxMaxBufferLength>=s&&(a.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+a.maxMaxBufferLength+"s"),!0)},r.getAppendedFrag=function(n,a){var s=this.fragmentTracker.getAppendedFrag(n,Ie);return s&&"fragment"in s?s.fragment:s},r.getNextFragment=function(n,a){var s=a.fragments,l=s.length;if(!l)return null;var c,f=this.config,p=s[0].start;if(a.live){var v=f.initialLiveManifestSize;if(l<v)return this.warn("Not enough fragments to start playback (have: "+l+", need: "+v+")"),null;a.PTSKnown||this.startFragRequested||this.startPosition!==-1||(c=this.getInitialLiveFragment(a,s),this.startPosition=c?this.hls.liveSyncPosition||c.start:n)}else n<=p&&(c=s[0]);if(!c){var g=f.lowLatencyMode?a.partEnd:a.fragmentEnd;c=this.getFragmentAtPosition(n,g,a)}return this.mapToInitFragWhenRequired(c)},r.isLoopLoading=function(n,a){var s=this.fragmentTracker.getState(n);return(s===$n||s===Yn&&!!n.gap)&&this.nextLoadPosition>a},r.getNextFragmentLoopLoading=function(n,a,s,l,c){var f=n.gap,p=this.getNextFragment(this.nextLoadPosition,a);if(p===null)return p;if(n=p,f&&n&&!n.gap&&s.nextStart){var v=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,s.nextStart,l);if(v!==null&&s.len+v.len>=c)return this.log('buffer full after gaps in "'+l+'" playlist starting at sn: '+n.sn),null}return n},r.mapToInitFragWhenRequired=function(n){return n==null||!n.initSegment||n!=null&&n.initSegment.data||this.bitrateTest?n:n.initSegment},r.getNextPart=function(n,a,s){for(var l=-1,c=!1,f=!0,p=0,v=n.length;p<v;p++){var g=n[p];if(f=f&&!g.independent,l>-1&&s<g.start)break;var E=g.loaded;E?l=-1:(c||g.independent||f)&&g.fragment===a&&(l=p),c=E}return l},r.loadedEndOfParts=function(n,a){var s=n[n.length-1];return s&&a>s.start&&s.loaded},r.getInitialLiveFragment=function(n,a){var s=this.fragPrevious,l=null;if(s){if(n.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+s.programDateTime),l=function(v,g,E){if(g===null||!Array.isArray(v)||!v.length||!H(g)||g<(v[0].programDateTime||0)||g>=(v[v.length-1].endProgramDateTime||0))return null;E=E||0;for(var S=0;S<v.length;++S){var L=v[S];if(Gp(g,E,L))return L}return null}(a,s.endProgramDateTime,this.config.maxFragLookUpTolerance)),!l){var c=s.sn+1;if(c>=n.startSN&&c<=n.endSN){var f=a[c-n.startSN];s.cc===f.cc&&(l=f,this.log("Live playlist, switching playlist, load frag with next SN: "+l.sn))}l||(l=function(v,g){return qu(v,function(E){return E.cc<g?1:E.cc>g?-1:0})}(a,s.cc),l&&this.log("Live playlist, switching playlist, load frag with same CC: "+l.sn))}}else{var p=this.hls.liveSyncPosition;p!==null&&(l=this.getFragmentAtPosition(p,this.bitrateTest?n.fragmentEnd:n.edge,n))}return l},r.getFragmentAtPosition=function(n,a,s){var l,c=this.config,f=this.fragPrevious,p=s.fragments,v=s.endSN,g=s.fragmentHint,E=c.maxFragLookUpTolerance,S=s.partList,L=!!(c.lowLatencyMode&&S!=null&&S.length&&g);if(L&&g&&!this.bitrateTest&&(p=p.concat(g),v=g.sn),l=n<a?Us(f,p,n,n>a-E?0:E):p[p.length-1]){var k=l.sn-s.startSN,_=this.fragmentTracker.getState(l);if((_===$n||_===Yn&&l.gap)&&(f=l),f&&l.sn===f.sn&&(!L||S[0].fragment.sn>l.sn)&&f&&l.level===f.level){var T=p[k+1];l=l.sn<v&&this.fragmentTracker.getState(T)!==$n?T:null}}return l},r.synchronizeToLiveEdge=function(n){var a=this.config,s=this.media;if(s){var l=this.hls.liveSyncPosition,c=s.currentTime,f=n.fragments[0].start,p=n.edge,v=c>=f-a.maxFragLookUpTolerance&&c<=p;if(l!==null&&s.duration>l&&(c<l||!v)){var g=a.liveMaxLatencyDuration!==void 0?a.liveMaxLatencyDuration:a.liveMaxLatencyDurationCount*n.targetduration;(!v&&s.readyState<4||c<p-g)&&(this.loadedmetadata||(this.nextLoadPosition=l),s.readyState&&(this.warn("Playback: "+c.toFixed(3)+" is located too far from the end of live sliding playlist: "+p+", reset currentTime to : "+l.toFixed(3)),s.currentTime=l))}}},r.alignPlaylists=function(n,a){var s=this.levels,l=this.levelLastLoaded,c=this.fragPrevious,f=l!==null?s[l]:null,p=n.fragments.length;if(!p)return this.warn("No fragments in live playlist"),0;var v=n.fragments[0].start,g=!a,E=n.alignedSliding&&H(v);if(g||!E&&!v){Xp(c,f,n);var S=n.fragments[0].start;return this.log("Live playlist sliding: "+S.toFixed(2)+" start-sn: "+(a?a.startSN:"na")+"->"+n.startSN+" prev-sn: "+(c?c.sn:"na")+" fragments: "+p),S}return v},r.waitForCdnTuneIn=function(n){return n.live&&n.canBlockReload&&n.partTarget&&n.tuneInGoal>Math.max(n.partHoldBack,3*n.partTarget)},r.setStartPosition=function(n,a){var s=this.startPosition;if(s<a&&(s=-1),s===-1||this.lastCurrentTime===-1){var l=this.startTimeOffset!==null,c=l?this.startTimeOffset:n.startTimeOffset;c!==null&&H(c)?(s=a+c,c<0&&(s+=n.totalduration),s=Math.min(Math.max(a,s),a+n.totalduration),this.log("Start time offset "+c+" found in "+(l?"multivariant":"media")+" playlist, adjust startPosition to "+s),this.startPosition=s):n.live?s=this.hls.liveSyncPosition||a:this.startPosition=s=0,this.lastCurrentTime=s}this.nextLoadPosition=s},r.getLoadPosition=function(){var n=this.media,a=0;return this.loadedmetadata&&n?a=n.currentTime:this.nextLoadPosition&&(a=this.nextLoadPosition),a},r.handleFragLoadAborted=function(n,a){this.transmuxer&&n.sn!=="initSegment"&&n.stats.aborted&&(this.warn("Fragment "+n.sn+(a?" part "+a.index:"")+" of level "+n.level+" was aborted"),this.resetFragmentLoading(n))},r.resetFragmentLoading=function(n){this.fragCurrent&&(this.fragContextChanged(n)||this.state===Xn)||(this.state=Fe)},r.onFragmentOrKeyLoadError=function(n,a){if(a.chunkMeta&&!a.frag){var s=this.getCurrentContext(a.chunkMeta);s&&(a.frag=s.frag)}var l=a.frag;if(l&&l.type===n&&this.levels)if(this.fragContextChanged(l)){var c;this.warn("Frag load error must match current frag to retry "+l.url+" > "+((c=this.fragCurrent)==null?void 0:c.url))}else{var f=a.details===N.FRAG_GAP;f&&this.fragmentTracker.fragBuffered(l,!0);var p=a.errorAction,v=p||{},g=v.action,E=v.retryCount,S=E===void 0?0:E,L=v.retryConfig;if(p&&g===ea&&L){var k;this.resetStartWhenNotLoaded((k=this.levelLastLoaded)!=null?k:l.level);var _=bs(L,S);this.warn("Fragment "+l.sn+" of "+n+" "+l.level+" errored with "+a.details+", retrying loading "+(S+1)+"/"+L.maxNumRetry+" in "+_+"ms"),p.resolved=!0,this.retryDate=self.performance.now()+_,this.state=Xn}else L&&p?(this.resetFragmentErrors(n),S<L.maxNumRetry?f||(p.resolved=!0):M.warn(a.details+" reached or exceeded max retry ("+S+")")):(p==null?void 0:p.action)===hr?this.state=Gr:this.state=qn;this.tickImmediate()}},r.reduceLengthAndFlushBuffer=function(n){if(this.state===Br||this.state===ra){var a=n.parent,s=this.getFwdBufferInfo(this.mediaBuffer,a),l=s&&s.len>.5;l&&this.reduceMaxBufferLength(s.len);var c=!l;return c&&this.warn("Buffer full error while media.currentTime is not buffered, flush "+a+" buffer"),n.frag&&(this.fragmentTracker.removeFragment(n.frag),this.nextLoadPosition=n.frag.start),this.resetLoadingState(),c}return!1},r.resetFragmentErrors=function(n){n===Xi&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==Xt&&(this.state=Fe)},r.afterBufferFlushed=function(n,a,s){if(n){var l=je.getBuffered(n);this.fragmentTracker.detectEvictedFragments(a,l,s),this.state===Vs&&this.resetLoadingState()}},r.resetLoadingState=function(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=Fe},r.resetStartWhenNotLoaded=function(n){if(!this.loadedmetadata){this.startFragRequested=!1;var a=this.levels?this.levels[n].details:null;a!=null&&a.live?(this.startPosition=-1,this.setStartPosition(a,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}},r.resetWhenMissingContext=function(n){var a;this.warn("The loading context changed while buffering fragment "+n.sn+" of level "+n.level+". This chunk will not be buffered."),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded((a=this.levelLastLoaded)!=null?a:n.level),this.resetLoadingState()},r.removeUnbufferedFrags=function(n){n===void 0&&(n=0),this.fragmentTracker.removeFragmentsInRange(n,1/0,this.playlistType,!1,!0)},r.updateLevelTiming=function(n,a,s,l){var c,f=this,p=s.details;if(p){if(Object.keys(n.elementaryStreams).reduce(function(g,E){var S=n.elementaryStreams[E];if(S){var L=S.endPTS-S.startPTS;if(L<=0)return f.warn("Could not parse fragment "+n.sn+" "+E+" duration reliably ("+L+")"),g||!1;var k=l?0:Ku(p,n,S.startPTS,S.endPTS,S.startDTS,S.endDTS);return f.hls.trigger(x.LEVEL_PTS_UPDATED,{details:p,level:s,drift:k,type:E,frag:n,start:S.startPTS,end:S.endPTS}),!0}return g},!1))s.fragmentError=0;else if(((c=this.transmuxer)==null?void 0:c.error)===null){var v=new Error("Found no media in fragment "+n.sn+" of level "+n.level+" resetting transmuxer to fallback to playlist timing");if(s.fragmentError===0&&(s.fragmentError++,n.gap=!0,this.fragmentTracker.removeFragment(n),this.fragmentTracker.fragBuffered(n,!0)),this.warn(v.message),this.hls.trigger(x.ERROR,{type:K.MEDIA_ERROR,details:N.FRAG_PARSING_ERROR,fatal:!1,error:v,frag:n,reason:"Found no media in msn "+n.sn+' of level "'+s.url+'"'}),!this.hls)return;this.resetTransmuxer()}this.state=ra,this.hls.trigger(x.FRAG_PARSED,{frag:n,part:a})}else this.warn("level.details undefined")},r.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},r.recoverWorkerError=function(n){var a,s,l;n.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded((a=(s=this.levelLastLoaded)!=null?s:(l=this.fragCurrent)==null?void 0:l.level)!=null?a:0),this.resetLoadingState())},A(o,[{key:"state",get:function(){return this._state},set:function(n){var a=this._state;a!==n&&(this._state=n,this.log(a+"->"+n))}}]),o}($p);function dd(){return self.SourceBuffer||self.WebKitSourceBuffer}function zt(d,o){return d===void 0&&(d=""),o===void 0&&(o=9e4),{type:d,id:-1,pid:-1,inputTimeScale:o,sequenceNumber:-1,samples:[],dropped:0}}var cd=function(){function d(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}var o=d.prototype;return o.resetInitSegment=function(r,n,a,s){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},o.resetTimeStamp=function(r){this.initPTS=r,this.resetContiguity()},o.resetContiguity=function(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0},o.canParse=function(r,n){return!1},o.appendFrame=function(r,n,a){},o.demux=function(r,n){this.cachedData&&(r=ln(this.cachedData,r),this.cachedData=null);var a,s=Wi(r,0),l=s?s.length:0,c=this._audioTrack,f=this._id3Track,p=s?function(S){for(var L=ku(S),k=0;k<L.length;k++){var _=L[k];if(Lu(_))return yp(_)}}(s):void 0,v=r.length;for((this.basePTS===null||this.frameIndex===0&&H(p))&&(this.basePTS=rv(p,n,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),s&&s.length>0&&f.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:s,type:Kn,duration:Number.POSITIVE_INFINITY});l<v;){if(this.canParse(r,l)){var g=this.appendFrame(c,r,l);g?(this.frameIndex++,this.lastPTS=g.sample.pts,a=l+=g.length):l=v}else fp(r,l)?(s=Wi(r,l),f.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:s,type:Kn,duration:Number.POSITIVE_INFINITY}),a=l+=s.length):l++;if(l===v&&a!==v){var E=br(r,a);this.cachedData?this.cachedData=ln(this.cachedData,E):this.cachedData=E}}return{audioTrack:c,videoTrack:zt(),id3Track:f,textTrack:zt()}},o.demuxSampleAes=function(r,n,a){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},o.flush=function(r){var n=this.cachedData;return n&&(this.cachedData=null,this.demux(n,0)),{audioTrack:this._audioTrack,videoTrack:zt(),id3Track:this._id3Track,textTrack:zt()}},o.destroy=function(){},d}(),rv=function(d,o,r){return H(d)?90*d:9e4*o+(r?9e4*r.baseTime/r.timescale:0)};function fd(d,o){return d[o]===255&&(246&d[o+1])==240}function hd(d,o){return 1&d[o+1]?7:9}function Ks(d,o){return(3&d[o+3])<<11|d[o+4]<<3|(224&d[o+5])>>>5}function na(d,o){return o+1<d.length&&fd(d,o)}function nv(d,o){if(na(d,o)){var r=hd(d,o);if(o+r>=d.length)return!1;var n=Ks(d,o);if(n<=r)return!1;var a=o+n;return a===d.length||na(d,a)}return!1}function pd(d,o,r,n,a){if(!d.samplerate){var s=function(l,c,f,p){var v,g,E,S,L=navigator.userAgent.toLowerCase(),k=p,_=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];v=1+((192&c[f+2])>>>6);var T=(60&c[f+2])>>>2;if(!(T>_.length-1))return E=(1&c[f+2])<<2,E|=(192&c[f+3])>>>6,M.log("manifest codec:"+p+", ADTS type:"+v+", samplingIndex:"+T),/firefox/i.test(L)?T>=6?(v=5,S=new Array(4),g=T-3):(v=2,S=new Array(2),g=T):L.indexOf("android")!==-1?(v=2,S=new Array(2),g=T):(v=5,S=new Array(4),p&&(p.indexOf("mp4a.40.29")!==-1||p.indexOf("mp4a.40.5")!==-1)||!p&&T>=6?g=T-3:((p&&p.indexOf("mp4a.40.2")!==-1&&(T>=6&&E===1||/vivaldi/i.test(L))||!p&&E===1)&&(v=2,S=new Array(2)),g=T)),S[0]=v<<3,S[0]|=(14&T)>>1,S[1]|=(1&T)<<7,S[1]|=E<<3,v===5&&(S[1]|=(14&g)>>1,S[2]=(1&g)<<7,S[2]|=8,S[3]=0),{config:S,samplerate:_[T],channelCount:E,codec:"mp4a.40."+v,manifestCodec:k};l.trigger(x.ERROR,{type:K.MEDIA_ERROR,details:N.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+T})}(o,r,n,a);if(!s)return;d.config=s.config,d.samplerate=s.samplerate,d.channelCount=s.channelCount,d.codec=s.codec,d.manifestCodec=s.manifestCodec,M.log("parsed codec:"+d.codec+", rate:"+s.samplerate+", channels:"+s.channelCount)}}function vd(d){return 9216e4/d}function md(d,o,r,n,a){var s,l=n+a*vd(d.samplerate),c=function(L,k){var _=hd(L,k);if(k+_<=L.length){var T=Ks(L,k)-_;if(T>0)return{headerLength:_,frameLength:T}}}(o,r);if(c){var f=c.frameLength,p=c.headerLength,v=p+f,g=Math.max(0,r+v-o.length);g?(s=new Uint8Array(v-p)).set(o.subarray(r+p,o.length),0):s=o.subarray(r+p,r+v);var E={unit:s,pts:l};return g||d.samples.push(E),{sample:E,length:v,missing:g}}var S=o.length-r;return(s=new Uint8Array(S)).set(o.subarray(r,o.length),0),{sample:{unit:s,pts:l},length:S,missing:-1}}var iv=function(d){function o(n,a){var s;return(s=d.call(this)||this).observer=void 0,s.config=void 0,s.observer=n,s.config=a,s}G(o,d);var r=o.prototype;return r.resetInitSegment=function(n,a,s,l){d.prototype.resetInitSegment.call(this,n,a,s,l),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:a,duration:l,inputTimeScale:9e4,dropped:0}},o.probe=function(n){if(!n)return!1;for(var a=(Wi(n,0)||[]).length,s=n.length;a<s;a++)if(nv(n,a))return M.log("ADTS sync word found !"),!0;return!1},r.canParse=function(n,a){return function(s,l){return function(c,f){return f+5<c.length}(s,l)&&fd(s,l)&&Ks(s,l)<=s.length-l}(n,a)},r.appendFrame=function(n,a,s){pd(n,this.observer,a,s,n.manifestCodec);var l=md(n,a,s,this.basePTS,this.frameIndex);if(l&&l.missing===0)return l},o}(cd),av=/\/emsg[-/]ID3/i,sv=function(){function d(r,n){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=n}var o=d.prototype;return o.resetTimeStamp=function(){},o.resetInitSegment=function(r,n,a,s){var l=this.videoTrack=zt("video",1),c=this.audioTrack=zt("audio",1),f=this.txtTrack=zt("text",1);if(this.id3Track=zt("id3",1),this.timeOffset=0,r!=null&&r.byteLength){var p=Au(r);if(p.video){var v=p.video,g=v.id,E=v.timescale,S=v.codec;l.id=g,l.timescale=f.timescale=E,l.codec=S}if(p.audio){var L=p.audio,k=L.id,_=L.timescale,T=L.codec;c.id=k,c.timescale=_,c.codec=T}f.id=Ru.text,l.sampleDuration=0,l.duration=c.duration=s}},o.resetContiguity=function(){this.remainderData=null},d.probe=function(r){return Te(r=r.length>16384?r.subarray(0,16384):r,["moof"]).length>0},o.demux=function(r,n){this.timeOffset=n;var a=r,s=this.videoTrack,l=this.txtTrack;if(this.config.progressive){this.remainderData&&(a=ln(this.remainderData,r));var c=function(p){var v={valid:null,remainder:null},g=Te(p,["moof"]);if(!g)return v;if(g.length<2)return v.remainder=p,v;var E=g[g.length-1];return v.valid=br(p,0,E.byteOffset-8),v.remainder=br(p,E.byteOffset-8),v}(a);this.remainderData=c.remainder,s.samples=c.valid||new Uint8Array}else s.samples=a;var f=this.extractID3Track(s,n);return l.samples=Cu(n,s),{videoTrack:s,audioTrack:this.audioTrack,id3Track:f,textTrack:this.txtTrack}},o.flush=function(){var r=this.timeOffset,n=this.videoTrack,a=this.txtTrack;n.samples=this.remainderData||new Uint8Array,this.remainderData=null;var s=this.extractID3Track(n,this.timeOffset);return a.samples=Cu(r,n),{videoTrack:n,audioTrack:zt(),id3Track:s,textTrack:zt()}},o.extractID3Track=function(r,n){var a=this.id3Track;if(r.samples.length){var s=Te(r.samples,["emsg"]);s&&s.forEach(function(l){var c=function(g){var E=g[0],S="",L="",k=0,_=0,T=0,w=0,F=0,D=0;if(E===0){for(;Xe(g.subarray(D,D+1))!=="\0";)S+=Xe(g.subarray(D,D+1)),D+=1;for(S+=Xe(g.subarray(D,D+1)),D+=1;Xe(g.subarray(D,D+1))!=="\0";)L+=Xe(g.subarray(D,D+1)),D+=1;L+=Xe(g.subarray(D,D+1)),D+=1,k=ue(g,12),_=ue(g,16),w=ue(g,20),F=ue(g,24),D=28}else if(E===1){k=ue(g,D+=4);var b=ue(g,D+=4),U=ue(g,D+=4);for(D+=4,T=Math.pow(2,32)*b+U,Number.isSafeInteger(T)||(T=Number.MAX_SAFE_INTEGER,M.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),w=ue(g,D),F=ue(g,D+=4),D+=4;Xe(g.subarray(D,D+1))!=="\0";)S+=Xe(g.subarray(D,D+1)),D+=1;for(S+=Xe(g.subarray(D,D+1)),D+=1;Xe(g.subarray(D,D+1))!=="\0";)L+=Xe(g.subarray(D,D+1)),D+=1;L+=Xe(g.subarray(D,D+1)),D+=1}return{schemeIdUri:S,value:L,timeScale:k,presentationTime:T,presentationTimeDelta:_,eventDuration:w,id:F,payload:g.subarray(D,g.byteLength)}}(l);if(av.test(c.schemeIdUri)){var f=H(c.presentationTime)?c.presentationTime/c.timeScale:n+c.presentationTimeDelta/c.timeScale,p=c.eventDuration===4294967295?Number.POSITIVE_INFINITY:c.eventDuration/c.timeScale;p<=.001&&(p=Number.POSITIVE_INFINITY);var v=c.payload;a.samples.push({data:v,len:v.byteLength,dts:f,pts:f,type:Wn,duration:p})}})}return a},o.demuxSampleAes=function(r,n,a){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},o.destroy=function(){},d}(),ia=null,ov=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],lv=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],uv=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],dv=[0,1,1,4];function gd(d,o,r,n,a){if(!(r+24>o.length)){var s=yd(o,r);if(s&&r+s.frameLength<=o.length){var l=n+a*(9e4*s.samplesPerFrame/s.sampleRate),c={unit:o.subarray(r,r+s.frameLength),pts:l,dts:l};return d.config=[],d.channelCount=s.channelCount,d.samplerate=s.sampleRate,d.samples.push(c),{sample:c,length:s.frameLength,missing:0}}}}function yd(d,o){var r=d[o+1]>>3&3,n=d[o+1]>>1&3,a=d[o+2]>>4&15,s=d[o+2]>>2&3;if(r!==1&&a!==0&&a!==15&&s!==3){var l=d[o+2]>>1&1,c=d[o+3]>>6,f=1e3*ov[14*(r===3?3-n:n===3?3:4)+a-1],p=lv[3*(r===3?0:r===2?1:2)+s],v=c===3?1:2,g=uv[r][n],E=dv[n],S=8*g*E,L=Math.floor(g*f/p+l)*E;if(ia===null){var k=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);ia=k?parseInt(k[1]):0}return ia&&ia<=87&&n===2&&f>=224e3&&c===0&&(d[o+3]=128|d[o+3]),{sampleRate:p,channelCount:v,frameLength:L,samplesPerFrame:S}}}function Ws(d,o){return d[o]===255&&(224&d[o+1])==224&&(6&d[o+1])!=0}function Ed(d,o){return o+1<d.length&&Ws(d,o)}function cv(d,o){if(o+1<d.length&&Ws(d,o)){var r=yd(d,o),n=4;r!=null&&r.frameLength&&(n=r.frameLength);var a=o+n;return a===d.length||Ed(d,a)}return!1}var Sd=function(){function d(r){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=r,this.bytesAvailable=r.byteLength,this.word=0,this.bitsAvailable=0}var o=d.prototype;return o.loadWord=function(){var r=this.data,n=this.bytesAvailable,a=r.byteLength-n,s=new Uint8Array(4),l=Math.min(4,n);if(l===0)throw new Error("no bytes available");s.set(r.subarray(a,a+l)),this.word=new DataView(s.buffer).getUint32(0),this.bitsAvailable=8*l,this.bytesAvailable-=l},o.skipBits=function(r){var n;r=Math.min(r,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>r?(this.word<<=r,this.bitsAvailable-=r):(r-=this.bitsAvailable,r-=(n=r>>3)<<3,this.bytesAvailable-=n,this.loadWord(),this.word<<=r,this.bitsAvailable-=r)},o.readBits=function(r){var n=Math.min(this.bitsAvailable,r),a=this.word>>>32-n;if(r>32&&M.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=n,this.bitsAvailable>0)this.word<<=n;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return(n=r-n)>0&&this.bitsAvailable?a<<n|this.readBits(n):a},o.skipLZ=function(){var r;for(r=0;r<this.bitsAvailable;++r)if(this.word&2147483648>>>r)return this.word<<=r,this.bitsAvailable-=r,r;return this.loadWord(),r+this.skipLZ()},o.skipUEG=function(){this.skipBits(1+this.skipLZ())},o.skipEG=function(){this.skipBits(1+this.skipLZ())},o.readUEG=function(){var r=this.skipLZ();return this.readBits(r+1)-1},o.readEG=function(){var r=this.readUEG();return 1&r?1+r>>>1:-1*(r>>>1)},o.readBoolean=function(){return this.readBits(1)===1},o.readUByte=function(){return this.readBits(8)},o.readUShort=function(){return this.readBits(16)},o.readUInt=function(){return this.readBits(32)},o.skipScalingList=function(r){for(var n=8,a=8,s=0;s<r;s++)a!==0&&(a=(n+this.readEG()+256)%256),n=a===0?n:a},o.readSPS=function(){var r,n,a,s=0,l=0,c=0,f=0,p=this.readUByte.bind(this),v=this.readBits.bind(this),g=this.readUEG.bind(this),E=this.readBoolean.bind(this),S=this.skipBits.bind(this),L=this.skipEG.bind(this),k=this.skipUEG.bind(this),_=this.skipScalingList.bind(this);p();var T=p();if(v(5),S(3),p(),k(),T===100||T===110||T===122||T===244||T===44||T===83||T===86||T===118||T===128){var w=g();if(w===3&&S(1),k(),k(),S(1),E())for(n=w!==3?8:12,a=0;a<n;a++)E()&&_(a<6?16:64)}k();var F=g();if(F===0)g();else if(F===1)for(S(1),L(),L(),r=g(),a=0;a<r;a++)L();k(),S(1);var D=g(),b=g(),U=v(1);U===0&&S(1),S(1),E()&&(s=g(),l=g(),c=g(),f=g());var j=[1,1];if(E()&&E())switch(p()){case 1:j=[1,1];break;case 2:j=[12,11];break;case 3:j=[10,11];break;case 4:j=[16,11];break;case 5:j=[40,33];break;case 6:j=[24,11];break;case 7:j=[20,11];break;case 8:j=[32,11];break;case 9:j=[80,33];break;case 10:j=[18,11];break;case 11:j=[15,11];break;case 12:j=[64,33];break;case 13:j=[160,99];break;case 14:j=[4,3];break;case 15:j=[3,2];break;case 16:j=[2,1];break;case 255:j=[p()<<8|p(),p()<<8|p()]}return{width:Math.ceil(16*(D+1)-2*s-2*l),height:(2-U)*(b+1)*16-(U?2:4)*(c+f),pixelRatio:j}},o.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},d}(),fv=function(){function d(r,n,a){this.keyData=void 0,this.decrypter=void 0,this.keyData=a,this.decrypter=new zs(n,{removePKCS7Padding:!1})}var o=d.prototype;return o.decryptBuffer=function(r){return this.decrypter.decrypt(r,this.keyData.key.buffer,this.keyData.iv.buffer)},o.decryptAacSample=function(r,n,a){var s=this,l=r[n].unit;if(!(l.length<=16)){var c=l.subarray(16,l.length-l.length%16),f=c.buffer.slice(c.byteOffset,c.byteOffset+c.length);this.decryptBuffer(f).then(function(p){var v=new Uint8Array(p);l.set(v,16),s.decrypter.isSync()||s.decryptAacSamples(r,n+1,a)})}},o.decryptAacSamples=function(r,n,a){for(;;n++){if(n>=r.length)return void a();if(!(r[n].unit.length<32||(this.decryptAacSample(r,n,a),this.decrypter.isSync())))return}},o.getAvcEncryptedData=function(r){for(var n=16*Math.floor((r.length-48)/160)+16,a=new Int8Array(n),s=0,l=32;l<r.length-16;l+=160,s+=16)a.set(r.subarray(l,l+16),s);return a},o.getAvcDecryptedUnit=function(r,n){for(var a=new Uint8Array(n),s=0,l=32;l<r.length-16;l+=160,s+=16)r.set(a.subarray(s,s+16),l);return r},o.decryptAvcSample=function(r,n,a,s,l){var c=this,f=Pu(l.data),p=this.getAvcEncryptedData(f);this.decryptBuffer(p.buffer).then(function(v){l.data=c.getAvcDecryptedUnit(f,v),c.decrypter.isSync()||c.decryptAvcSamples(r,n,a+1,s)})},o.decryptAvcSamples=function(r,n,a,s){if(r instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;n++,a=0){if(n>=r.length)return void s();for(var l=r[n].units;!(a>=l.length);a++){var c=l[a];if(!(c.data.length<=48||c.type!==1&&c.type!==5||(this.decryptAvcSample(r,n,a,s,c),this.decrypter.isSync())))return}}},d}(),lt=188,hv=function(){function d(r,n,a){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=r,this.config=n,this.typeSupported=a}d.probe=function(r){var n=d.syncOffset(r);return n>0&&M.warn("MPEG2-TS detected but first sync word found @ offset "+n),n!==-1},d.syncOffset=function(r){for(var n=r.length,a=Math.min(940,r.length-lt)+1,s=0;s<a;){for(var l=!1,c=-1,f=0,p=s;p<n;p+=lt){if(r[p]!==71){if(f)return-1;break}if(f++,c===-1&&(c=p)!==0&&(a=Math.min(c+18612,r.length-lt)+1),l||(l=Ys(r,p)===0),l&&f>1&&(c===0&&f>2||p+lt>a))return c}s++}return-1},d.createTrack=function(r,n){return{container:r==="video"||r==="audio"?"video/mp2t":void 0,type:r,id:Ru[r],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:r==="audio"?n:void 0}};var o=d.prototype;return o.resetInitSegment=function(r,n,a,s){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=d.createTrack("video"),this._audioTrack=d.createTrack("audio",s),this._id3Track=d.createTrack("id3"),this._txtTrack=d.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=n,this.videoCodec=a,this._duration=s},o.resetTimeStamp=function(){},o.resetContiguity=function(){var r=this._audioTrack,n=this._avcTrack,a=this._id3Track;r&&(r.pesData=null),n&&(n.pesData=null),a&&(a.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null},o.demux=function(r,n,a,s){var l;a===void 0&&(a=!1),s===void 0&&(s=!1),a||(this.sampleAes=null);var c=this._avcTrack,f=this._audioTrack,p=this._id3Track,v=this._txtTrack,g=c.pid,E=c.pesData,S=f.pid,L=p.pid,k=f.pesData,_=p.pesData,T=null,w=this.pmtParsed,F=this._pmtId,D=r.length;if(this.remainderData&&(D=(r=ln(this.remainderData,r)).length,this.remainderData=null),D<lt&&!s)return this.remainderData=r,{audioTrack:f,videoTrack:c,id3Track:p,textTrack:v};var b=Math.max(0,d.syncOffset(r));(D-=(D-b)%lt)<r.byteLength&&!s&&(this.remainderData=new Uint8Array(r.buffer,D,r.buffer.byteLength-D));for(var U=0,j=b;j<D;j+=lt)if(r[j]===71){var $=!!(64&r[j+1]),q=Ys(r,j),W=void 0;if((48&r[j+3])>>4>1){if((W=j+5+r[j+4])===j+lt)continue}else W=j+4;switch(q){case g:$&&(E&&(l=fn(E))&&this.parseAVCPES(c,v,l,!1),E={data:[],size:0}),E&&(E.data.push(r.subarray(W,j+lt)),E.size+=j+lt-W);break;case S:if($){if(k&&(l=fn(k)))switch(f.segmentCodec){case"aac":this.parseAACPES(f,l);break;case"mp3":this.parseMPEGPES(f,l)}k={data:[],size:0}}k&&(k.data.push(r.subarray(W,j+lt)),k.size+=j+lt-W);break;case L:$&&(_&&(l=fn(_))&&this.parseID3PES(p,l),_={data:[],size:0}),_&&(_.data.push(r.subarray(W,j+lt)),_.size+=j+lt-W);break;case 0:$&&(W+=r[W]+1),F=this._pmtId=pv(r,W);break;case F:$&&(W+=r[W]+1);var ee=vv(r,W,this.typeSupported,a);(g=ee.avc)>0&&(c.pid=g),(S=ee.audio)>0&&(f.pid=S,f.segmentCodec=ee.segmentCodec),(L=ee.id3)>0&&(p.pid=L),T===null||w||(M.warn("MPEG-TS PMT found at "+j+" after unknown PID '"+T+"'. Backtracking to sync byte @"+b+" to parse all TS packets."),T=null,j=b-188),w=this.pmtParsed=!0;break;case 17:case 8191:break;default:T=q}}else U++;if(U>0){var Z=new Error("Found "+U+" TS packet/s that do not start with 0x47");this.observer.emit(x.ERROR,x.ERROR,{type:K.MEDIA_ERROR,details:N.FRAG_PARSING_ERROR,fatal:!1,error:Z,reason:Z.message})}c.pesData=E,f.pesData=k,p.pesData=_;var se={audioTrack:f,videoTrack:c,id3Track:p,textTrack:v};return s&&this.extractRemainingSamples(se),se},o.flush=function(){var r,n=this.remainderData;return this.remainderData=null,r=n?this.demux(n,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(r),this.sampleAes?this.decrypt(r,this.sampleAes):r},o.extractRemainingSamples=function(r){var n,a=r.audioTrack,s=r.videoTrack,l=r.id3Track,c=r.textTrack,f=s.pesData,p=a.pesData,v=l.pesData;if(f&&(n=fn(f))?(this.parseAVCPES(s,c,n,!0),s.pesData=null):s.pesData=f,p&&(n=fn(p))){switch(a.segmentCodec){case"aac":this.parseAACPES(a,n);break;case"mp3":this.parseMPEGPES(a,n)}a.pesData=null}else p!=null&&p.size&&M.log("last AAC PES packet truncated,might overlap between fragments"),a.pesData=p;v&&(n=fn(v))?(this.parseID3PES(l,n),l.pesData=null):l.pesData=v},o.demuxSampleAes=function(r,n,a){var s=this.demux(r,a,!0,!this.config.progressive),l=this.sampleAes=new fv(this.observer,this.config,n);return this.decrypt(s,l)},o.decrypt=function(r,n){return new Promise(function(a){var s=r.audioTrack,l=r.videoTrack;s.samples&&s.segmentCodec==="aac"?n.decryptAacSamples(s.samples,0,function(){l.samples?n.decryptAvcSamples(l.samples,0,0,function(){a(r)}):a(r)}):l.samples&&n.decryptAvcSamples(l.samples,0,0,function(){a(r)})})},o.destroy=function(){this._duration=0},o.parseAVCPES=function(r,n,a,s){var l,c=this,f=this.parseAVCNALu(r,a.data),p=this.avcSample,v=!1;a.data=null,p&&f.length&&!r.audFound&&(Zn(p,r),p=this.avcSample=aa(!1,a.pts,a.dts,"")),f.forEach(function(g){var E;switch(g.type){case 1:var S=!1;l=!0;var L,k=g.data;if(v&&k.length>4){var _=new Sd(k).readSliceType();_!==2&&_!==4&&_!==7&&_!==9||(S=!0)}S&&(L=p)!=null&&L.frame&&!p.key&&(Zn(p,r),p=c.avcSample=null),p||(p=c.avcSample=aa(!0,a.pts,a.dts,"")),p.frame=!0,p.key=S;break;case 5:l=!0,(E=p)!=null&&E.frame&&!p.key&&(Zn(p,r),p=c.avcSample=null),p||(p=c.avcSample=aa(!0,a.pts,a.dts,"")),p.key=!0,p.frame=!0;break;case 6:l=!0,Du(g.data,1,a.pts,n.samples);break;case 7:if(l=!0,v=!0,!r.sps){var T=g.data,w=new Sd(T).readSPS();r.width=w.width,r.height=w.height,r.pixelRatio=w.pixelRatio,r.sps=[T],r.duration=c._duration;for(var F=T.subarray(1,4),D="avc1.",b=0;b<3;b++){var U=F[b].toString(16);U.length<2&&(U="0"+U),D+=U}r.codec=D}break;case 8:l=!0,r.pps||(r.pps=[g.data]);break;case 9:l=!1,r.audFound=!0,p&&Zn(p,r),p=c.avcSample=aa(!1,a.pts,a.dts,"");break;case 12:l=!0;break;default:l=!1,p&&(p.debug+="unknown NAL "+g.type+" ")}p&&l&&p.units.push(g)}),s&&p&&(Zn(p,r),this.avcSample=null)},o.getLastNalUnit=function(r){var n,a,s=this.avcSample;if(s&&s.units.length!==0||(s=r[r.length-1]),(n=s)!=null&&n.units){var l=s.units;a=l[l.length-1]}return a},o.parseAVCNALu=function(r,n){var a,s,l=n.byteLength,c=r.naluState||0,f=c,p=[],v=0,g=-1,E=0;for(c===-1&&(g=0,E=31&n[0],c=0,v=1);v<l;)if(a=n[v++],c)if(c!==1)if(a)if(a===1){if(g>=0){var S={data:n.subarray(g,v-c-1),type:E};p.push(S)}else{var L=this.getLastNalUnit(r.samples);if(L&&(f&&v<=4-f&&L.state&&(L.data=L.data.subarray(0,L.data.byteLength-f)),(s=v-c-1)>0)){var k=new Uint8Array(L.data.byteLength+s);k.set(L.data,0),k.set(n.subarray(0,s),L.data.byteLength),L.data=k,L.state=0}}v<l?(g=v,E=31&n[v],c=0):c=-1}else c=0;else c=3;else c=a?0:2;else c=a?0:1;if(g>=0&&c>=0){var _={data:n.subarray(g,l),type:E,state:c};p.push(_)}if(p.length===0){var T=this.getLastNalUnit(r.samples);if(T){var w=new Uint8Array(T.data.byteLength+n.byteLength);w.set(T.data,0),w.set(n,T.data.byteLength),T.data=w}}return r.naluState=c,p},o.parseAACPES=function(r,n){var a,s,l,c=0,f=this.aacOverFlow,p=n.data;if(f){this.aacOverFlow=null;var v=f.missing,g=f.sample.unit.byteLength;if(v===-1){var E=new Uint8Array(g+p.byteLength);E.set(f.sample.unit,0),E.set(p,g),p=E}else{var S=g-v;f.sample.unit.set(p.subarray(0,v),S),r.samples.push(f.sample),c=f.missing}}for(a=c,s=p.length;a<s-1&&!na(p,a);a++);if(a!==c){var L,k=a<s-1;L=k?"AAC PES did not start with ADTS header,offset:"+a:"No ADTS header found in AAC PES";var _=new Error(L);if(M.warn("parsing error: "+L),this.observer.emit(x.ERROR,x.ERROR,{type:K.MEDIA_ERROR,details:N.FRAG_PARSING_ERROR,fatal:!1,levelRetry:k,error:_,reason:L}),!k)return}if(pd(r,this.observer,p,a,this.audioCodec),n.pts!==void 0)l=n.pts;else{if(!f)return void M.warn("[tsdemuxer]: AAC PES unknown PTS");var T=vd(r.samplerate);l=f.sample.pts+T}for(var w,F=0;a<s;){if(a+=(w=md(r,p,a,l,F)).length,w.missing){this.aacOverFlow=w;break}for(F++;a<s-1&&!na(p,a);a++);}},o.parseMPEGPES=function(r,n){var a=n.data,s=a.length,l=0,c=0,f=n.pts;if(f!==void 0)for(;c<s;)if(Ed(a,c)){var p=gd(r,a,c,f,l);if(!p)break;c+=p.length,l++}else c++;else M.warn("[tsdemuxer]: MPEG PES unknown PTS")},o.parseID3PES=function(r,n){if(n.pts!==void 0){var a=z({},n,{type:this._avcTrack?Wn:Kn,duration:Number.POSITIVE_INFINITY});r.samples.push(a)}else M.warn("[tsdemuxer]: ID3 PES unknown PTS")},d}();function aa(d,o,r,n){return{key:d,frame:!1,pts:o,dts:r,units:[],debug:n,length:0}}function Ys(d,o){return((31&d[o+1])<<8)+d[o+2]}function pv(d,o){return(31&d[o+10])<<8|d[o+11]}function vv(d,o,r,n){var a={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},s=o+3+((15&d[o+1])<<8|d[o+2])-4;for(o+=12+((15&d[o+10])<<8|d[o+11]);o<s;){var l=Ys(d,o);switch(d[o]){case 207:if(!n){M.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:a.audio===-1&&(a.audio=l);break;case 21:a.id3===-1&&(a.id3=l);break;case 219:if(!n){M.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:a.avc===-1&&(a.avc=l);break;case 3:case 4:r.mpeg!==!0&&r.mp3!==!0?M.log("MPEG audio found, not supported in this browser"):a.audio===-1&&(a.audio=l,a.segmentCodec="mp3");break;case 36:M.warn("Unsupported HEVC stream type found")}o+=5+((15&d[o+3])<<8|d[o+4])}return a}function fn(d){var o,r,n,a,s,l=0,c=d.data;if(!d||d.size===0)return null;for(;c[0].length<19&&c.length>1;){var f=new Uint8Array(c[0].length+c[1].length);f.set(c[0]),f.set(c[1],c[0].length),c[0]=f,c.splice(1,1)}if(((o=c[0])[0]<<16)+(o[1]<<8)+o[2]===1){if((r=(o[4]<<8)+o[5])&&r>d.size-6)return null;var p=o[7];192&p&&(a=536870912*(14&o[9])+4194304*(255&o[10])+16384*(254&o[11])+128*(255&o[12])+(254&o[13])/2,64&p?a-(s=536870912*(14&o[14])+4194304*(255&o[15])+16384*(254&o[16])+128*(255&o[17])+(254&o[18])/2)>54e5&&(M.warn(Math.round((a-s)/9e4)+"s delta between PTS and DTS, align them"),a=s):s=a);var v=(n=o[8])+9;if(d.size<=v)return null;d.size-=v;for(var g=new Uint8Array(d.size),E=0,S=c.length;E<S;E++){var L=(o=c[E]).byteLength;if(v){if(v>L){v-=L;continue}o=o.subarray(v),L-=v,v=0}g.set(o,l),l+=L}return r&&(r-=n+3),{data:g,pts:a,dts:s,len:r}}return null}function Zn(d,o){if(d.units.length&&d.frame){if(d.pts===void 0){var r=o.samples,n=r.length;if(!n)return void o.dropped++;var a=r[n-1];d.pts=a.pts,d.dts=a.dts}o.samples.push(d)}d.debug.length&&M.log(d.pts+"/"+d.dts+":"+d.debug)}var mv=function(d){function o(){return d.apply(this,arguments)||this}G(o,d);var r=o.prototype;return r.resetInitSegment=function(n,a,s,l){d.prototype.resetInitSegment.call(this,n,a,s,l),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:a,duration:l,inputTimeScale:9e4,dropped:0}},o.probe=function(n){if(!n)return!1;for(var a=(Wi(n,0)||[]).length,s=n.length;a<s;a++)if(cv(n,a))return M.log("MPEG Audio sync word found !"),!0;return!1},r.canParse=function(n,a){return function(s,l){return Ws(s,l)&&4<=s.length-l}(n,a)},r.appendFrame=function(n,a,s){if(this.basePTS!==null)return gd(n,a,s,this.basePTS,this.frameIndex)},o}(cd),Td=function(){function d(){}return d.getSilentFrame=function(o,r){if(o==="mp4a.40.2"){if(r===1)return new Uint8Array([0,200,0,128,35,128]);if(r===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(r===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(r===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(r===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(r===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(r===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(r===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(r===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},d}(),pr=Math.pow(2,32)-1,We=function(){function d(){}return d.init=function(){var o;for(o in d.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},d.types)d.types.hasOwnProperty(o)&&(d.types[o]=[o.charCodeAt(0),o.charCodeAt(1),o.charCodeAt(2),o.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);d.HDLR_TYPES={video:r,audio:n};var a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),s=new Uint8Array([0,0,0,0,0,0,0,0]);d.STTS=d.STSC=d.STCO=s,d.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),d.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),d.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),d.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var l=new Uint8Array([105,115,111,109]),c=new Uint8Array([97,118,99,49]),f=new Uint8Array([0,0,0,1]);d.FTYP=d.box(d.types.ftyp,l,f,l,c),d.DINF=d.box(d.types.dinf,d.box(d.types.dref,a))},d.box=function(o){for(var r=8,n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];for(var l=a.length,c=l;l--;)r+=a[l].byteLength;var f=new Uint8Array(r);for(f[0]=r>>24&255,f[1]=r>>16&255,f[2]=r>>8&255,f[3]=255&r,f.set(o,4),l=0,r=8;l<c;l++)f.set(a[l],r),r+=a[l].byteLength;return f},d.hdlr=function(o){return d.box(d.types.hdlr,d.HDLR_TYPES[o])},d.mdat=function(o){return d.box(d.types.mdat,o)},d.mdhd=function(o,r){r*=o;var n=Math.floor(r/(pr+1)),a=Math.floor(r%(pr+1));return d.box(d.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,o>>24&255,o>>16&255,o>>8&255,255&o,n>>24,n>>16&255,n>>8&255,255&n,a>>24,a>>16&255,a>>8&255,255&a,85,196,0,0]))},d.mdia=function(o){return d.box(d.types.mdia,d.mdhd(o.timescale,o.duration),d.hdlr(o.type),d.minf(o))},d.mfhd=function(o){return d.box(d.types.mfhd,new Uint8Array([0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o]))},d.minf=function(o){return o.type==="audio"?d.box(d.types.minf,d.box(d.types.smhd,d.SMHD),d.DINF,d.stbl(o)):d.box(d.types.minf,d.box(d.types.vmhd,d.VMHD),d.DINF,d.stbl(o))},d.moof=function(o,r,n){return d.box(d.types.moof,d.mfhd(o),d.traf(n,r))},d.moov=function(o){for(var r=o.length,n=[];r--;)n[r]=d.trak(o[r]);return d.box.apply(null,[d.types.moov,d.mvhd(o[0].timescale,o[0].duration)].concat(n).concat(d.mvex(o)))},d.mvex=function(o){for(var r=o.length,n=[];r--;)n[r]=d.trex(o[r]);return d.box.apply(null,[d.types.mvex].concat(n))},d.mvhd=function(o,r){r*=o;var n=Math.floor(r/(pr+1)),a=Math.floor(r%(pr+1)),s=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,o>>24&255,o>>16&255,o>>8&255,255&o,n>>24,n>>16&255,n>>8&255,255&n,a>>24,a>>16&255,a>>8&255,255&a,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return d.box(d.types.mvhd,s)},d.sdtp=function(o){var r,n,a=o.samples||[],s=new Uint8Array(4+a.length);for(r=0;r<a.length;r++)n=a[r].flags,s[r+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return d.box(d.types.sdtp,s)},d.stbl=function(o){return d.box(d.types.stbl,d.stsd(o),d.box(d.types.stts,d.STTS),d.box(d.types.stsc,d.STSC),d.box(d.types.stsz,d.STSZ),d.box(d.types.stco,d.STCO))},d.avc1=function(o){var r,n,a,s=[],l=[];for(r=0;r<o.sps.length;r++)a=(n=o.sps[r]).byteLength,s.push(a>>>8&255),s.push(255&a),s=s.concat(Array.prototype.slice.call(n));for(r=0;r<o.pps.length;r++)a=(n=o.pps[r]).byteLength,l.push(a>>>8&255),l.push(255&a),l=l.concat(Array.prototype.slice.call(n));var c=d.box(d.types.avcC,new Uint8Array([1,s[3],s[4],s[5],255,224|o.sps.length].concat(s).concat([o.pps.length]).concat(l))),f=o.width,p=o.height,v=o.pixelRatio[0],g=o.pixelRatio[1];return d.box(d.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,f>>8&255,255&f,p>>8&255,255&p,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),c,d.box(d.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),d.box(d.types.pasp,new Uint8Array([v>>24,v>>16&255,v>>8&255,255&v,g>>24,g>>16&255,g>>8&255,255&g])))},d.esds=function(o){var r=o.config.length;return new Uint8Array([0,0,0,0,3,23+r,0,1,0,4,15+r,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([r]).concat(o.config).concat([6,1,2]))},d.mp4a=function(o){var r=o.samplerate;return d.box(d.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,o.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),d.box(d.types.esds,d.esds(o)))},d.mp3=function(o){var r=o.samplerate;return d.box(d.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,o.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]))},d.stsd=function(o){return o.type==="audio"?o.segmentCodec==="mp3"&&o.codec==="mp3"?d.box(d.types.stsd,d.STSD,d.mp3(o)):d.box(d.types.stsd,d.STSD,d.mp4a(o)):d.box(d.types.stsd,d.STSD,d.avc1(o))},d.tkhd=function(o){var r=o.id,n=o.duration*o.timescale,a=o.width,s=o.height,l=Math.floor(n/(pr+1)),c=Math.floor(n%(pr+1));return d.box(d.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,l>>24,l>>16&255,l>>8&255,255&l,c>>24,c>>16&255,c>>8&255,255&c,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,a>>8&255,255&a,0,0,s>>8&255,255&s,0,0]))},d.traf=function(o,r){var n=d.sdtp(o),a=o.id,s=Math.floor(r/(pr+1)),l=Math.floor(r%(pr+1));return d.box(d.types.traf,d.box(d.types.tfhd,new Uint8Array([0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a])),d.box(d.types.tfdt,new Uint8Array([1,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,l>>24,l>>16&255,l>>8&255,255&l])),d.trun(o,n.length+16+20+8+16+8+8),n)},d.trak=function(o){return o.duration=o.duration||4294967295,d.box(d.types.trak,d.tkhd(o),d.mdia(o))},d.trex=function(o){var r=o.id;return d.box(d.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},d.trun=function(o,r){var n,a,s,l,c,f,p=o.samples||[],v=p.length,g=12+16*v,E=new Uint8Array(g);for(r+=8+g,E.set([o.type==="video"?1:0,0,15,1,v>>>24&255,v>>>16&255,v>>>8&255,255&v,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),n=0;n<v;n++)s=(a=p[n]).duration,l=a.size,c=a.flags,f=a.cts,E.set([s>>>24&255,s>>>16&255,s>>>8&255,255&s,l>>>24&255,l>>>16&255,l>>>8&255,255&l,c.isLeading<<2|c.dependsOn,c.isDependedOn<<6|c.hasRedundancy<<4|c.paddingValue<<1|c.isNonSync,61440&c.degradPrio,15&c.degradPrio,f>>>24&255,f>>>16&255,f>>>8&255,255&f],12+16*n);return d.box(d.types.trun,E)},d.initSegment=function(o){d.types||d.init();var r=d.moov(o),n=new Uint8Array(d.FTYP.byteLength+r.byteLength);return n.set(d.FTYP),n.set(r,d.FTYP.byteLength),n},d}();function Jn(d,o){return o===void 0&&(o=!1),function(r,n,a,s){a===void 0&&(a=1),s===void 0&&(s=!1);var l=r*n*a;return s?Math.round(l):l}(d,1e3,1/9e4,o)}We.types=void 0,We.HDLR_TYPES=void 0,We.STTS=void 0,We.STSC=void 0,We.STCO=void 0,We.STSZ=void 0,We.VMHD=void 0,We.SMHD=void 0,We.STSD=void 0,We.FTYP=void 0,We.DINF=void 0;var sa=null,$s=null,Qs=function(){function d(r,n,a,s){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=r,this.config=n,this.typeSupported=a,this.ISGenerated=!1,sa===null){var l=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);sa=l?parseInt(l[1]):0}if($s===null){var c=navigator.userAgent.match(/Safari\/(\d+)/i);$s=c?parseInt(c[1]):0}}var o=d.prototype;return o.destroy=function(){},o.resetTimeStamp=function(r){M.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=r},o.resetNextTimestamp=function(){M.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},o.resetInitSegment=function(){M.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},o.getVideoStartPts=function(r){var n=!1,a=r.reduce(function(s,l){var c=l.pts-s;return c<-4294967296?(n=!0,Dt(s,l.pts)):c>0?s:l.pts},r[0].pts);return n&&M.debug("PTS rollover detected"),a},o.remux=function(r,n,a,s,l,c,f,p){var v,g,E,S,L,k,_=l,T=l,w=r.pid>-1,F=n.pid>-1,D=n.samples.length,b=r.samples.length>0,U=f&&D>0||D>1;if((!w||b)&&(!F||U)||this.ISGenerated||f){this.ISGenerated||(E=this.generateIS(r,n,l,c));var j,$=this.isVideoContiguous,q=-1;if(U&&(q=function(de){for(var ne=0;ne<de.length;ne++)if(de[ne].key)return ne;return-1}(n.samples),!$&&this.config.forceKeyFrameOnDiscontinuity))if(k=!0,q>0){M.warn("[mp4-remuxer]: Dropped "+q+" out of "+D+" video samples due to a missing keyframe");var W=this.getVideoStartPts(n.samples);n.samples=n.samples.slice(q),n.dropped+=q,j=T+=(n.samples[0].pts-W)/n.inputTimeScale}else q===-1&&(M.warn("[mp4-remuxer]: No keyframe found out of "+D+" video samples"),k=!1);if(this.ISGenerated){if(b&&U){var ee=this.getVideoStartPts(n.samples),Z=(Dt(r.samples[0].pts,ee)-ee)/n.inputTimeScale;_+=Math.max(0,Z),T+=Math.max(0,-Z)}if(b){if(r.samplerate||(M.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),E=this.generateIS(r,n,l,c)),g=this.remuxAudio(r,_,this.isAudioContiguous,c,F||U||p===Xi?T:void 0),U){var se=g?g.endPTS-g.startPTS:0;n.inputTimeScale||(M.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),E=this.generateIS(r,n,l,c)),v=this.remuxVideo(n,T,$,se)}}else U&&(v=this.remuxVideo(n,T,$,0));v&&(v.firstKeyFrame=q,v.independent=q!==-1,v.firstKeyFramePTS=j)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(a.samples.length&&(L=Ld(a,l,this._initPTS,this._initDTS)),s.samples.length&&(S=kd(s,l,this._initPTS))),{audio:g,video:v,initSegment:E,independent:k,text:S,id3:L}},o.generateIS=function(r,n,a,s){var l,c,f,p=r.samples,v=n.samples,g=this.typeSupported,E={},S=this._initPTS,L=!S||s,k="audio/mp4";if(L&&(l=c=1/0),r.config&&p.length&&(r.timescale=r.samplerate,r.segmentCodec==="mp3"&&(g.mpeg?(k="audio/mpeg",r.codec=""):g.mp3&&(r.codec="mp3")),E.audio={id:"audio",container:k,codec:r.codec,initSegment:r.segmentCodec==="mp3"&&g.mpeg?new Uint8Array(0):We.initSegment([r]),metadata:{channelCount:r.channelCount}},L&&(f=r.inputTimeScale,S&&f===S.timescale?L=!1:l=c=p[0].pts-Math.round(f*a))),n.sps&&n.pps&&v.length&&(n.timescale=n.inputTimeScale,E.video={id:"main",container:"video/mp4",codec:n.codec,initSegment:We.initSegment([n]),metadata:{width:n.width,height:n.height}},L))if(f=n.inputTimeScale,S&&f===S.timescale)L=!1;else{var _=this.getVideoStartPts(v),T=Math.round(f*a);c=Math.min(c,Dt(v[0].dts,_)-T),l=Math.min(l,_-T)}if(Object.keys(E).length)return this.ISGenerated=!0,L?(this._initPTS={baseTime:l,timescale:f},this._initDTS={baseTime:c,timescale:f}):l=f=void 0,{tracks:E,initPTS:l,timescale:f}},o.remuxVideo=function(r,n,a,s){var l,c,f=r.inputTimeScale,p=r.samples,v=[],g=p.length,E=this._initPTS,S=this.nextAvcDts,L=8,k=this.videoSampleDuration,_=Number.POSITIVE_INFINITY,T=Number.NEGATIVE_INFINITY,w=!1;a&&S!==null||(S=n*f-(p[0].pts-Dt(p[0].dts,p[0].pts)));for(var F=E.baseTime*f/E.timescale,D=0;D<g;D++){var b=p[D];b.pts=Dt(b.pts-F,S),b.dts=Dt(b.dts-F,S),b.dts<p[D>0?D-1:D].dts&&(w=!0)}w&&p.sort(function(da,Ud){var zv=da.dts-Ud.dts,Hv=da.pts-Ud.pts;return zv||Hv}),l=p[0].dts;var U=(c=p[p.length-1].dts)-l,j=U?Math.round(U/(g-1)):k||r.inputTimeScale/30;if(a){var $=l-S,q=$>j,W=$<-1;if((q||W)&&(q?M.warn("AVC: "+Jn($,!0)+" ms ("+$+"dts) hole between fragments detected, filling it"):M.warn("AVC: "+Jn(-$,!0)+" ms ("+$+"dts) overlapping between fragments detected"),!W||S>=p[0].pts)){l=S;var ee=p[0].pts-$;p[0].dts=l,p[0].pts=ee,M.log("Video: First PTS/DTS adjusted: "+Jn(ee,!0)+"/"+Jn(l,!0)+", delta: "+Jn($,!0)+" ms")}}l=Math.max(0,l);for(var Z=0,se=0,de=0;de<g;de++){for(var ne=p[de],le=ne.units,oe=le.length,ae=0,he=0;he<oe;he++)ae+=le[he].data.length;se+=ae,Z+=oe,ne.length=ae,ne.dts=Math.max(ne.dts,l),_=Math.min(ne.pts,_),T=Math.max(ne.pts,T)}c=p[g-1].dts;var ge,ve=se+4*Z+8;try{ge=new Uint8Array(ve)}catch(da){return void this.observer.emit(x.ERROR,x.ERROR,{type:K.MUX_ERROR,details:N.REMUX_ALLOC_ERROR,fatal:!1,error:da,bytes:ve,reason:"fail allocating video mdat "+ve})}var be=new DataView(ge.buffer);be.setUint32(0,ve),ge.set(We.types.mdat,4);for(var rt=!1,nt=Number.POSITIVE_INFINITY,Pt=Number.POSITIVE_INFINITY,Lt=Number.NEGATIVE_INFINITY,kt=Number.NEGATIVE_INFINITY,ze=0;ze<g;ze++){for(var qe=p[ze],It=qe.units,zr=0,ut=0,oa=It.length;ut<oa;ut++){var ei=It[ut],la=ei.data,pn=ei.data.byteLength;be.setUint32(L,pn),L+=4,ge.set(la,L),L+=pn,zr+=4+pn}var Hr=void 0;if(ze<g-1)k=p[ze+1].dts-qe.dts,Hr=p[ze+1].pts-qe.pts;else{var Vr=this.config,ua=ze>0?qe.dts-p[ze-1].dts:j;if(Hr=ze>0?qe.pts-p[ze-1].pts:j,Vr.stretchShortVideoTrack&&this.nextAudioPts!==null){var bv=Math.floor(Vr.maxBufferHole*f),no=(s?_+s*f:this.nextAudioPts)-qe.pts;no>bv?((k=no-ua)<0?k=ua:rt=!0,M.log("[mp4-remuxer]: It is approximately "+no/90+" ms to the next segment; using duration "+k/90+" ms for the last video frame.")):k=ua}else k=ua}var Uv=Math.round(qe.pts-qe.dts);nt=Math.min(nt,k),Lt=Math.max(Lt,k),Pt=Math.min(Pt,Hr),kt=Math.max(kt,Hr),v.push(new wd(qe.key,k,zr,Uv))}if(v.length){if(sa){if(sa<70){var Md=v[0].flags;Md.dependsOn=2,Md.isNonSync=0}}else if($s&&kt-Pt<Lt-nt&&j/Lt<.025&&v[0].cts===0){M.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");for(var io=l,Ft=0,Nd=v.length;Ft<Nd;Ft++){var bd=io+v[Ft].duration,Bv=io+v[Ft].cts;if(Ft<Nd-1){var Gv=bd+v[Ft+1].cts;v[Ft].duration=Gv-Bv}else v[Ft].duration=Ft?v[Ft-1].duration:j;v[Ft].cts=0,io=bd}}}k=rt||!k?j:k,this.nextAvcDts=S=c+k,this.videoSampleDuration=k,this.isVideoContiguous=!0;var jv={data1:We.moof(r.sequenceNumber++,l,z({},r,{samples:v})),data2:ge,startPTS:_/f,endPTS:(T+k)/f,startDTS:l/f,endDTS:S/f,type:"video",hasAudio:!1,hasVideo:!0,nb:v.length,dropped:r.dropped};return r.samples=[],r.dropped=0,jv},o.remuxAudio=function(r,n,a,s,l){var c=r.inputTimeScale,f=c/(r.samplerate?r.samplerate:c),p=r.segmentCodec==="aac"?1024:1152,v=p*f,g=this._initPTS,E=r.segmentCodec==="mp3"&&this.typeSupported.mpeg,S=[],L=l!==void 0,k=r.samples,_=E?0:8,T=this.nextAudioPts||-1,w=n*c,F=g.baseTime*c/g.timescale;if(this.isAudioContiguous=a=a||k.length&&T>0&&(s&&Math.abs(w-T)<9e3||Math.abs(Dt(k[0].pts-F,w)-T)<20*v),k.forEach(function(ut){ut.pts=Dt(ut.pts-F,w)}),!a||T<0){if(k=k.filter(function(ut){return ut.pts>=0}),!k.length)return;T=l===0?0:s&&!L?Math.max(0,w):k[0].pts}if(r.segmentCodec==="aac")for(var D=this.config.maxAudioFramesDrift,b=0,U=T;b<k.length;b++){var j=k[b],$=j.pts,q=$-U,W=Math.abs(1e3*q/c);if(q<=-D*v&&L)b===0&&(M.warn("Audio frame @ "+($/c).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*q/c)+" ms."),this.nextAudioPts=T=U=$);else if(q>=D*v&&W<1e4&&L){var ee=Math.round(q/v);(U=$-ee*v)<0&&(ee--,U+=v),b===0&&(this.nextAudioPts=T=U),M.warn("[mp4-remuxer]: Injecting "+ee+" audio frame @ "+(U/c).toFixed(3)+"s due to "+Math.round(1e3*q/c)+" ms gap.");for(var Z=0;Z<ee;Z++){var se=Math.max(U,0),de=Td.getSilentFrame(r.manifestCodec||r.codec,r.channelCount);de||(M.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),de=j.unit.subarray()),k.splice(b,0,{unit:de,pts:se}),U+=v,b++}}j.pts=U,U+=v}for(var ne,le=null,oe=null,ae=0,he=k.length;he--;)ae+=k[he].unit.byteLength;for(var ge=0,ve=k.length;ge<ve;ge++){var be=k[ge],rt=be.unit,nt=be.pts;if(oe!==null)S[ge-1].duration=Math.round((nt-oe)/f);else{if(a&&r.segmentCodec==="aac"&&(nt=T),le=nt,!(ae>0))return;ae+=_;try{ne=new Uint8Array(ae)}catch(ut){return void this.observer.emit(x.ERROR,x.ERROR,{type:K.MUX_ERROR,details:N.REMUX_ALLOC_ERROR,fatal:!1,error:ut,bytes:ae,reason:"fail allocating audio mdat "+ae})}E||(new DataView(ne.buffer).setUint32(0,ae),ne.set(We.types.mdat,4))}ne.set(rt,_);var Pt=rt.byteLength;_+=Pt,S.push(new wd(!0,p,Pt,0)),oe=nt}var Lt=S.length;if(Lt){var kt=S[S.length-1];this.nextAudioPts=T=oe+f*kt.duration;var ze=E?new Uint8Array(0):We.moof(r.sequenceNumber++,le/f,z({},r,{samples:S}));r.samples=[];var qe=le/c,It=T/c,zr={data1:ze,data2:ne,startPTS:qe,endPTS:It,startDTS:qe,endDTS:It,type:"audio",hasAudio:!0,hasVideo:!1,nb:Lt};return this.isAudioContiguous=!0,zr}},o.remuxEmptyAudio=function(r,n,a,s){var l=r.inputTimeScale,c=l/(r.samplerate?r.samplerate:l),f=this.nextAudioPts,p=this._initDTS,v=9e4*p.baseTime/p.timescale,g=(f!==null?f:s.startDTS*l)+v,E=s.endDTS*l+v,S=1024*c,L=Math.ceil((E-g)/S),k=Td.getSilentFrame(r.manifestCodec||r.codec,r.channelCount);if(M.warn("[mp4-remuxer]: remux empty Audio"),k){for(var _=[],T=0;T<L;T++){var w=g+T*S;_.push({unit:k,pts:w,dts:w})}return r.samples=_,this.remuxAudio(r,n,a,!1)}M.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},d}();function Dt(d,o){var r;if(o===null)return d;for(r=o<d?-8589934592:8589934592;Math.abs(d-o)>4294967296;)d+=r;return d}function Ld(d,o,r,n){var a=d.samples.length;if(a){for(var s=d.inputTimeScale,l=0;l<a;l++){var c=d.samples[l];c.pts=Dt(c.pts-r.baseTime*s/r.timescale,o*s)/s,c.dts=Dt(c.dts-n.baseTime*s/n.timescale,o*s)/s}var f=d.samples;return d.samples=[],{samples:f}}}function kd(d,o,r){var n=d.samples.length;if(n){for(var a=d.inputTimeScale,s=0;s<n;s++){var l=d.samples[s];l.pts=Dt(l.pts-r.baseTime*a/r.timescale,o*a)/a}d.samples.sort(function(f,p){return f.pts-p.pts});var c=d.samples;return d.samples=[],{samples:c}}}var qt,wd=function(d,o,r,n){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=o,this.size=r,this.cts=n,this.flags=new gv(d)},gv=function(d){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=d?2:1,this.isNonSync=d?0:1},yv=function(){function d(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}var o=d.prototype;return o.destroy=function(){},o.resetTimeStamp=function(r){this.initPTS=r,this.lastEndTime=null},o.resetNextTimestamp=function(){this.lastEndTime=null},o.resetInitSegment=function(r,n,a,s){this.audioCodec=n,this.videoCodec=a,this.generateInitSegment(Lp(r,s)),this.emitInitSegment=!0},o.generateInitSegment=function(r){var n=this.audioCodec,a=this.videoCodec;if(r==null||!r.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var s=this.initData=Au(r);n||(n=Rd(s.audio,Se)),a||(a=Rd(s.video,Le));var l={};s.audio&&s.video?l.audiovideo={container:"video/mp4",codec:n+","+a,initSegment:r,id:"main"}:s.audio?l.audio={container:"audio/mp4",codec:n,initSegment:r,id:"audio"}:s.video?l.video={container:"video/mp4",codec:a,initSegment:r,id:"main"}:M.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=l},o.remux=function(r,n,a,s,l,c){var f,p,v=this.initPTS,g=this.lastEndTime,E={audio:void 0,video:void 0,text:s,id3:a,initSegment:void 0};H(g)||(g=this.lastEndTime=l||0);var S=n.samples;if(S==null||!S.length)return E;var L={initPTS:void 0,timescale:1},k=this.initData;if((f=k)!=null&&f.length||(this.generateInitSegment(S),k=this.initData),(p=k)==null||!p.length)return M.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),E;this.emitInitSegment&&(L.tracks=this.initTracks,this.emitInitSegment=!1);var _=function(q,W){for(var ee=0,Z=0,se=0,de=Te(q,["moof","traf"]),ne=0;ne<de.length;ne++){var le=de[ne],oe=Te(le,["tfhd"])[0],ae=W[ue(oe,4)];if(ae){var he=ae.default,ge=ue(oe,0)|(he==null?void 0:he.flags),ve=he==null?void 0:he.duration;8&ge&&(ve=ue(oe,2&ge?12:8));for(var be=ae.timescale||9e4,rt=Te(le,["trun"]),nt=0;nt<rt.length;nt++)!(ee=kp(rt[nt]))&&ve&&(ee=ve*ue(rt[nt],4)),ae.type===Le?Z+=ee/be:ae.type===Se&&(se+=ee/be)}}if(Z===0&&se===0){for(var Pt=0,Lt=Te(q,["sidx"]),kt=0;kt<Lt.length;kt++){var ze=Tp(Lt[kt]);ze!=null&&ze.references&&(Pt+=ze.references.reduce(function(qe,It){return qe+It.info.duration||0},0))}return Pt}return Z||se}(S,k),T=function(q,W){return Te(W,["moof","traf"]).reduce(function(ee,Z){var se=Te(Z,["tfdt"])[0],de=se[0],ne=Te(Z,["tfhd"]).reduce(function(le,oe){var ae=ue(oe,4),he=q[ae];if(he){var ge=ue(se,4);if(de===1){if(ge===$i)return M.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),le;ge*=$i+1,ge+=ue(se,8)}var ve=ge/(he.timescale||9e4);if(isFinite(ve)&&(le===null||ve<le))return ve}return le},null);return ne!==null&&isFinite(ne)&&(ee===null||ne<ee)?ne:ee},null)}(k,S),w=T===null?l:T;(function(q,W,ee,Z){if(q===null)return!0;var se=Math.max(Z,1),de=W-q.baseTime/q.timescale;return Math.abs(de-ee)>se}(v,w,l,_)||L.timescale!==v.timescale&&c)&&(L.initPTS=w-l,v&&v.timescale===1&&M.warn("Adjusting initPTS by "+(L.initPTS-v.baseTime)),this.initPTS=v={baseTime:L.initPTS,timescale:1});var F=r?w-v.baseTime/v.timescale:g,D=F+_;(function(q,W,ee){Te(W,["moof","traf"]).forEach(function(Z){Te(Z,["tfhd"]).forEach(function(se){var de=ue(se,4),ne=q[de];if(ne){var le=ne.timescale||9e4;Te(Z,["tfdt"]).forEach(function(oe){var ae=oe[0],he=ue(oe,4);if(ae===0)he-=ee*le,Cs(oe,4,he=Math.max(he,0));else{he*=Math.pow(2,32),he+=ue(oe,8),he-=ee*le,he=Math.max(he,0);var ge=Math.floor(he/($i+1)),ve=Math.floor(he%($i+1));Cs(oe,4,ge),Cs(oe,8,ve)}})}})})})(k,S,v.baseTime/v.timescale),_>0?this.lastEndTime=D:(M.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var b=!!k.audio,U=!!k.video,j="";b&&(j+="audio"),U&&(j+="video");var $={data1:S,startPTS:F,startDTS:F,endPTS:D,endDTS:D,type:j,hasAudio:b,hasVideo:U,nb:1,dropped:0};return E.audio=$.type==="audio"?$:void 0,E.video=$.type!=="audio"?$:void 0,E.initSegment=L,E.id3=Ld(a,l,v,v),s.samples.length&&(E.text=kd(s,l,v)),E},d}();function Rd(d,o){var r=d==null?void 0:d.codec;return r&&r.length>4?r:r==="hvc1"||r==="hev1"?"hvc1.1.6.L120.90":r==="av01"?"av01.0.04M.08":r==="avc1"||o===Le?"avc1.42e01e":"mp4a.40.5"}try{qt=self.performance.now.bind(self.performance)}catch{M.debug("Unable to use Performance API on this environment"),qt=typeof self<"u"&&self.Date.now}var Xs=[{demux:sv,remux:yv},{demux:hv,remux:Qs},{demux:iv,remux:Qs},{demux:mv,remux:Qs}],qs=function(){function d(r,n,a,s,l){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=r,this.typeSupported=n,this.config=a,this.vendor=s,this.id=l}var o=d.prototype;return o.configure=function(r){this.transmuxConfig=r,this.decrypter&&this.decrypter.reset()},o.push=function(r,n,a,s){var l=this,c=a.transmuxing;c.executeStart=qt();var f=new Uint8Array(r),p=this.currentTransmuxState,v=this.transmuxConfig;s&&(this.currentTransmuxState=s);var g=s||p,E=g.contiguous,S=g.discontinuity,L=g.trackSwitch,k=g.accurateTimeOffset,_=g.timeOffset,T=g.initSegmentChange,w=v.audioCodec,F=v.videoCodec,D=v.defaultInitPts,b=v.duration,U=v.initSegmentData,j=function(de,ne){var le=null;return de.byteLength>0&&ne!=null&&ne.key!=null&&ne.iv!==null&&ne.method!=null&&(le=ne),le}(f,n);if(j&&j.method==="AES-128"){var $=this.getDecrypter();if(!$.isSync())return this.decryptionPromise=$.webCryptoDecrypt(f,j.key.buffer,j.iv.buffer).then(function(de){var ne=l.push(de,null,a);return l.decryptionPromise=null,ne}),this.decryptionPromise;var q=$.softwareDecrypt(f,j.key.buffer,j.iv.buffer);if(a.part>-1&&(q=$.flush()),!q)return c.executeEnd=qt(),Zs(a);f=new Uint8Array(q)}var W=this.needsProbing(S,L);if(W){var ee=this.configureTransmuxer(f);if(ee)return M.warn("[transmuxer] "+ee.message),this.observer.emit(x.ERROR,x.ERROR,{type:K.MEDIA_ERROR,details:N.FRAG_PARSING_ERROR,fatal:!1,error:ee,reason:ee.message}),c.executeEnd=qt(),Zs(a)}(S||L||T||W)&&this.resetInitSegment(U,w,F,b,n),(S||T||W)&&this.resetInitialTimestamp(D),E||this.resetContiguity();var Z=this.transmux(f,j,_,k,a),se=this.currentTransmuxState;return se.contiguous=!0,se.discontinuity=!1,se.trackSwitch=!1,c.executeEnd=qt(),Z},o.flush=function(r){var n=this,a=r.transmuxing;a.executeStart=qt();var s=this.decrypter,l=this.currentTransmuxState,c=this.decryptionPromise;if(c)return c.then(function(){return n.flush(r)});var f=[],p=l.timeOffset;if(s){var v=s.flush();v&&f.push(this.push(v,null,r))}var g=this.demuxer,E=this.remuxer;if(!g||!E)return a.executeEnd=qt(),[Zs(r)];var S=g.flush(p);return jr(S)?S.then(function(L){return n.flushRemux(f,L,r),f}):(this.flushRemux(f,S,r),f)},o.flushRemux=function(r,n,a){var s=n.audioTrack,l=n.videoTrack,c=n.id3Track,f=n.textTrack,p=this.currentTransmuxState,v=p.accurateTimeOffset,g=p.timeOffset;M.log("[transmuxer.ts]: Flushed fragment "+a.sn+(a.part>-1?" p: "+a.part:"")+" of level "+a.level);var E=this.remuxer.remux(s,l,c,f,g,v,!0,this.id);r.push({remuxResult:E,chunkMeta:a}),a.transmuxing.executeEnd=qt()},o.resetInitialTimestamp=function(r){var n=this.demuxer,a=this.remuxer;n&&a&&(n.resetTimeStamp(r),a.resetTimeStamp(r))},o.resetContiguity=function(){var r=this.demuxer,n=this.remuxer;r&&n&&(r.resetContiguity(),n.resetNextTimestamp())},o.resetInitSegment=function(r,n,a,s,l){var c=this.demuxer,f=this.remuxer;c&&f&&(c.resetInitSegment(r,n,a,s),f.resetInitSegment(r,n,a,l))},o.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},o.transmux=function(r,n,a,s,l){return n&&n.method==="SAMPLE-AES"?this.transmuxSampleAes(r,n,a,s,l):this.transmuxUnencrypted(r,a,s,l)},o.transmuxUnencrypted=function(r,n,a,s){var l=this.demuxer.demux(r,n,!1,!this.config.progressive),c=l.audioTrack,f=l.videoTrack,p=l.id3Track,v=l.textTrack;return{remuxResult:this.remuxer.remux(c,f,p,v,n,a,!1,this.id),chunkMeta:s}},o.transmuxSampleAes=function(r,n,a,s,l){var c=this;return this.demuxer.demuxSampleAes(r,n,a).then(function(f){return{remuxResult:c.remuxer.remux(f.audioTrack,f.videoTrack,f.id3Track,f.textTrack,a,s,!1,c.id),chunkMeta:l}})},o.configureTransmuxer=function(r){for(var n,a=this.config,s=this.observer,l=this.typeSupported,c=this.vendor,f=0,p=Xs.length;f<p;f++)if(Xs[f].demux.probe(r)){n=Xs[f];break}if(!n)return new Error("Failed to find demuxer by probing fragment data");var v=this.demuxer,g=this.remuxer,E=n.remux,S=n.demux;g&&g instanceof E||(this.remuxer=new E(s,a,l,c)),v&&v instanceof S||(this.demuxer=new S(s,a,l),this.probe=S.probe)},o.needsProbing=function(r,n){return!this.demuxer||!this.remuxer||r||n},o.getDecrypter=function(){var r=this.decrypter;return r||(r=this.decrypter=new zs(this.config)),r},d}(),Zs=function(d){return{remuxResult:{},chunkMeta:d}};function jr(d){return"then"in d&&d.then instanceof Function}var Ev=function(d,o,r,n,a){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=d,this.videoCodec=o,this.initSegmentData=r,this.duration=n,this.defaultInitPts=a||null},Sv=function(d,o,r,n,a,s){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=d,this.contiguous=o,this.accurateTimeOffset=r,this.trackSwitch=n,this.timeOffset=a,this.initSegmentChange=s},xd={exports:{}};(function(d){var o=Object.prototype.hasOwnProperty,r="~";function n(){}function a(f,p,v){this.fn=f,this.context=p,this.once=v||!1}function s(f,p,v,g,E){if(typeof v!="function")throw new TypeError("The listener must be a function");var S=new a(v,g||f,E),L=r?r+p:p;return f._events[L]?f._events[L].fn?f._events[L]=[f._events[L],S]:f._events[L].push(S):(f._events[L]=S,f._eventsCount++),f}function l(f,p){--f._eventsCount==0?f._events=new n:delete f._events[p]}function c(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1)),c.prototype.eventNames=function(){var f,p,v=[];if(this._eventsCount===0)return v;for(p in f=this._events)o.call(f,p)&&v.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(f)):v},c.prototype.listeners=function(f){var p=r?r+f:f,v=this._events[p];if(!v)return[];if(v.fn)return[v.fn];for(var g=0,E=v.length,S=new Array(E);g<E;g++)S[g]=v[g].fn;return S},c.prototype.listenerCount=function(f){var p=r?r+f:f,v=this._events[p];return v?v.fn?1:v.length:0},c.prototype.emit=function(f,p,v,g,E,S){var L=r?r+f:f;if(!this._events[L])return!1;var k,_,T=this._events[L],w=arguments.length;if(T.fn){switch(T.once&&this.removeListener(f,T.fn,void 0,!0),w){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,p),!0;case 3:return T.fn.call(T.context,p,v),!0;case 4:return T.fn.call(T.context,p,v,g),!0;case 5:return T.fn.call(T.context,p,v,g,E),!0;case 6:return T.fn.call(T.context,p,v,g,E,S),!0}for(_=1,k=new Array(w-1);_<w;_++)k[_-1]=arguments[_];T.fn.apply(T.context,k)}else{var F,D=T.length;for(_=0;_<D;_++)switch(T[_].once&&this.removeListener(f,T[_].fn,void 0,!0),w){case 1:T[_].fn.call(T[_].context);break;case 2:T[_].fn.call(T[_].context,p);break;case 3:T[_].fn.call(T[_].context,p,v);break;case 4:T[_].fn.call(T[_].context,p,v,g);break;default:if(!k)for(F=1,k=new Array(w-1);F<w;F++)k[F-1]=arguments[F];T[_].fn.apply(T[_].context,k)}}return!0},c.prototype.on=function(f,p,v){return s(this,f,p,v,!1)},c.prototype.once=function(f,p,v){return s(this,f,p,v,!0)},c.prototype.removeListener=function(f,p,v,g){var E=r?r+f:f;if(!this._events[E])return this;if(!p)return l(this,E),this;var S=this._events[E];if(S.fn)S.fn!==p||g&&!S.once||v&&S.context!==v||l(this,E);else{for(var L=0,k=[],_=S.length;L<_;L++)(S[L].fn!==p||g&&!S[L].once||v&&S[L].context!==v)&&k.push(S[L]);k.length?this._events[E]=k.length===1?k[0]:k:l(this,E)}return this},c.prototype.removeAllListeners=function(f){var p;return f?(p=r?r+f:f,this._events[p]&&l(this,p)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,d.exports=c})(xd);var Js=C(xd.exports);function eo(d,o){if(!((r=o.remuxResult).audio||r.video||r.text||r.id3||r.initSegment))return!1;var r,n=[],a=o.remuxResult,s=a.audio,l=a.video;return s&&_d(n,s),l&&_d(n,l),d.postMessage({event:"transmuxComplete",data:o},n),!0}function _d(d,o){o.data1&&d.push(o.data1.buffer),o.data2&&d.push(o.data2.buffer)}function Ad(d,o,r){o.reduce(function(n,a){return eo(d,a)||n},!1)||d.postMessage({event:"transmuxComplete",data:o[0]}),d.postMessage({event:"flush",data:r})}u!==void 0&&u&&function(d){var o=new Js,r=function(a,s){d.postMessage({event:a,data:s})};o.on(x.FRAG_DECRYPTED,r),o.on(x.ERROR,r);var n=function(){var a=function(l){var c=function(f){r("workerLog",{logType:l,message:f})};M[l]=c};for(var s in M)a(s)};d.addEventListener("message",function(a){var s=a.data;switch(s.cmd){case"init":var l=JSON.parse(s.config);d.transmuxer=new qs(o,s.typeSupported,l,s.vendor,s.id),lr(l.debug,s.id),n(),r("init",null);break;case"configure":d.transmuxer.configure(s.config);break;case"demux":var c=d.transmuxer.push(s.data,s.decryptdata,s.chunkMeta,s.state);jr(c)?(d.transmuxer.async=!0,c.then(function(v){eo(d,v)}).catch(function(v){r(x.ERROR,{type:K.MEDIA_ERROR,details:N.FRAG_PARSING_ERROR,chunkMeta:s.chunkMeta,fatal:!1,error:v,err:v,reason:"transmuxer-worker push error"})})):(d.transmuxer.async=!1,eo(d,c));break;case"flush":var f=s.chunkMeta,p=d.transmuxer.flush(f);jr(p)||d.transmuxer.async?(jr(p)||(p=Promise.resolve(p)),p.then(function(v){Ad(d,v,f)}).catch(function(v){r(x.ERROR,{type:K.MEDIA_ERROR,details:N.FRAG_PARSING_ERROR,chunkMeta:s.chunkMeta,fatal:!1,error:v,err:v,reason:"transmuxer-worker flush error"})})):Ad(d,p,f)}})}(self);var to=Qi()||{isTypeSupported:function(){return!1}},Tv=function(){function d(r,n,a,s){var l=this;this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;var c=r.config;this.hls=r,this.id=n,this.useWorker=!!c.enableWorker,this.onTransmuxComplete=a,this.onFlush=s;var f=function(_,T){(T=T||{}).frag=l.frag,T.id=l.id,_===x.ERROR&&(l.error=T.error),l.hls.trigger(_,T)};this.observer=new Js,this.observer.on(x.FRAG_DECRYPTED,f),this.observer.on(x.ERROR,f);var p,v,g,E,S={mp4:to.isTypeSupported("video/mp4"),mpeg:to.isTypeSupported("audio/mpeg"),mp3:to.isTypeSupported('audio/mp4; codecs="mp3"')},L=navigator.vendor;if(!this.useWorker||typeof Worker>"u"||(c.workerPath,0))this.transmuxer=new qs(this.observer,S,c,L,n);else try{c.workerPath?(M.log("loading Web Worker "+c.workerPath+' for "'+n+'"'),this.workerContext=(g=c.workerPath,E=new self.URL(g,self.location.href).href,{worker:new self.Worker(E),scriptURL:E})):(M.log('injecting Web Worker for "'+n+'"'),this.workerContext=(p=new self.Blob(["var exports={};var module={exports:exports};function define(f){f()};define.amd=true;("+i.toString()+")(true);"],{type:"text/javascript"}),v=self.URL.createObjectURL(p),{worker:new self.Worker(v),objectURL:v})),this.onwmsg=function(_){return l.onWorkerMessage(_)};var k=this.workerContext.worker;k.addEventListener("message",this.onwmsg),k.onerror=function(_){var T=new Error(_.message+"  ("+_.filename+":"+_.lineno+")");c.enableWorker=!1,M.warn('Error in "'+n+'" Web Worker, fallback to inline'),l.hls.trigger(x.ERROR,{type:K.OTHER_ERROR,details:N.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:T})},k.postMessage({cmd:"init",typeSupported:S,vendor:L,id:n,config:JSON.stringify(c)})}catch(_){M.warn('Error setting up "'+n+'" Web Worker, fallback to inline',_),this.resetWorker(),this.error=null,this.transmuxer=new qs(this.observer,S,c,L,n)}}var o=d.prototype;return o.resetWorker=function(){if(this.workerContext){var r=this.workerContext,n=r.worker,a=r.objectURL;a&&self.URL.revokeObjectURL(a),n.removeEventListener("message",this.onwmsg),n.onerror=null,n.terminate(),this.workerContext=null}},o.destroy=function(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{var r=this.transmuxer;r&&(r.destroy(),this.transmuxer=null)}var n=this.observer;n&&n.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null},o.push=function(r,n,a,s,l,c,f,p,v,g){var E,S,L=this;v.transmuxing.start=self.performance.now();var k=this.transmuxer,_=c?c.start:l.start,T=l.decryptdata,w=this.frag,F=!(w&&l.cc===w.cc),D=!(w&&v.level===w.level),b=w?v.sn-w.sn:-1,U=this.part?v.part-this.part.index:-1,j=b===0&&v.id>1&&v.id===(w==null?void 0:w.stats.chunkCount),$=!D&&(b===1||b===0&&(U===1||j&&U<=0)),q=self.performance.now();(D||b||l.stats.parsing.start===0)&&(l.stats.parsing.start=q),!c||!U&&$||(c.stats.parsing.start=q);var W=!(w&&((E=l.initSegment)==null?void 0:E.url)===((S=w.initSegment)==null?void 0:S.url)),ee=new Sv(F,$,p,D,_,W);if(!$||F||W){M.log("[transmuxer-interface, "+l.type+"]: Starting new transmux session for sn: "+v.sn+" p: "+v.part+" level: "+v.level+" id: "+v.id+`
        discontinuity: `+F+`
        trackSwitch: `+D+`
        contiguous: `+$+`
        accurateTimeOffset: `+p+`
        timeOffset: `+_+`
        initSegmentChange: `+W);var Z=new Ev(a,s,n,f,g);this.configureTransmuxer(Z)}if(this.frag=l,this.part=c,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:r,decryptdata:T,chunkMeta:v,state:ee},r instanceof ArrayBuffer?[r]:[]);else if(k){var se=k.push(r,T,v,ee);jr(se)?(k.async=!0,se.then(function(de){L.handleTransmuxComplete(de)}).catch(function(de){L.transmuxerError(de,v,"transmuxer-interface push error")})):(k.async=!1,this.handleTransmuxComplete(se))}},o.flush=function(r){var n=this;r.transmuxing.start=self.performance.now();var a=this.transmuxer;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:r});else if(a){var s=a.flush(r);jr(s)||a.async?(jr(s)||(s=Promise.resolve(s)),s.then(function(l){n.handleFlushResult(l,r)}).catch(function(l){n.transmuxerError(l,r,"transmuxer-interface flush error")})):this.handleFlushResult(s,r)}},o.transmuxerError=function(r,n,a){this.hls&&(this.error=r,this.hls.trigger(x.ERROR,{type:K.MEDIA_ERROR,details:N.FRAG_PARSING_ERROR,chunkMeta:n,fatal:!1,error:r,err:r,reason:a}))},o.handleFlushResult=function(r,n){var a=this;r.forEach(function(s){a.handleTransmuxComplete(s)}),this.onFlush(n)},o.onWorkerMessage=function(r){var n=r.data,a=this.hls;switch(n.event){case"init":var s,l=(s=this.workerContext)==null?void 0:s.objectURL;l&&self.URL.revokeObjectURL(l);break;case"transmuxComplete":this.handleTransmuxComplete(n.data);break;case"flush":this.onFlush(n.data);break;case"workerLog":M[n.data.logType]&&M[n.data.logType](n.data.message);break;default:n.data=n.data||{},n.data.frag=this.frag,n.data.id=this.id,a.trigger(n.event,n.data)}},o.configureTransmuxer=function(r){var n=this.transmuxer;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:r}):n&&n.configure(r)},o.handleTransmuxComplete=function(r){r.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(r)},d}(),Lv=function(){function d(r,n,a,s){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=r,this.media=n,this.fragmentTracker=a,this.hls=s}var o=d.prototype;return o.destroy=function(){this.media=null,this.hls=this.fragmentTracker=null},o.poll=function(r,n){var a=this.config,s=this.media,l=this.stalled;if(s!==null){var c=s.currentTime,f=s.seeking,p=this.seeking&&!f,v=!this.seeking&&f;if(this.seeking=f,c===r){if(v||p)this.stalled=null;else if(!(s.paused&&!f||s.ended||s.playbackRate===0)&&je.getBuffered(s).length){var g=je.bufferInfo(s,c,0),E=g.len>0,S=g.nextStart||0;if(E||S){if(f){var L=g.len>2,k=!S||n&&n.start<=c||S-c>2&&!this.fragmentTracker.getPartialFragment(c);if(L||k)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var _,T=Math.max(S,g.start||0)-c,w=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,F=!(w==null||(_=w.details)==null)&&_.live?2*w.details.targetduration:2,D=this.fragmentTracker.getPartialFragment(c);if(T>0&&(T<=F||D))return void this._trySkipBufferHole(D)}var b=self.performance.now();if(l!==null){var U=b-l;if(f||!(U>=250)||(this._reportStall(g),this.media)){var j=je.bufferInfo(s,c,a.maxBufferHole);this._tryFixBufferStall(j,U)}}else this.stalled=b}}}else if(this.moved=!0,l!==null){if(this.stallReported){var $=self.performance.now()-l;M.warn("playback not stuck anymore @"+c+", after "+Math.round($)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}}},o._tryFixBufferStall=function(r,n){var a=this.config,s=this.fragmentTracker,l=this.media;if(l!==null){var c=l.currentTime,f=s.getPartialFragment(c);if(f&&(this._trySkipBufferHole(f)||!this.media))return;(r.len>a.maxBufferHole||r.nextStart&&r.nextStart-c<a.maxBufferHole)&&n>1e3*a.highBufferWatchdogPeriod&&(M.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}},o._reportStall=function(r){var n=this.hls,a=this.media;if(!this.stallReported&&a){this.stallReported=!0;var s=new Error("Playback stalling at @"+a.currentTime+" due to low buffer ("+JSON.stringify(r)+")");M.warn(s.message),n.trigger(x.ERROR,{type:K.MEDIA_ERROR,details:N.BUFFER_STALLED_ERROR,fatal:!1,error:s,buffer:r.len})}},o._trySkipBufferHole=function(r){var n=this.config,a=this.hls,s=this.media;if(s===null)return 0;var l=s.currentTime,c=je.bufferInfo(s,l,0),f=l<c.start?c.start:c.nextStart;if(f){var p=c.len<=n.maxBufferHole,v=c.len>0&&c.len<1&&s.readyState<3,g=f-l;if(g>0&&(p||v)){if(g>n.maxBufferHole){var E=this.fragmentTracker,S=!1;if(l===0){var L=E.getAppendedFrag(0,Ie);L&&f<L.end&&(S=!0)}if(!S){var k=r||E.getAppendedFrag(l,Ie);if(k){for(var _=!1,T=k.end;T<f;){var w=E.getPartialFragment(T);if(!w){_=!0;break}T+=w.duration}if(_)return 0}}}var F=Math.max(f+.05,l+.1);if(M.warn("skipping hole, adjusting currentTime from "+l+" to "+F),this.moved=!0,this.stalled=null,s.currentTime=F,r&&!r.gap){var D=new Error("fragment loaded with buffer holes, seeking from "+l+" to "+F);a.trigger(x.ERROR,{type:K.MEDIA_ERROR,details:N.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:D,reason:D.message,frag:r})}return F}}return 0},o._tryNudgeBuffer=function(){var r=this.config,n=this.hls,a=this.media,s=this.nudgeRetry;if(a!==null){var l=a.currentTime;if(this.nudgeRetry++,s<r.nudgeMaxRetry){var c=l+(s+1)*r.nudgeOffset,f=new Error("Nudging 'currentTime' from "+l+" to "+c);M.warn(f.message),a.currentTime=c,n.trigger(x.ERROR,{type:K.MEDIA_ERROR,details:N.BUFFER_NUDGE_ON_STALL,error:f,fatal:!1})}else{var p=new Error("Playhead still not moving while enough data buffered @"+l+" after "+r.nudgeMaxRetry+" nudges");M.error(p.message),n.trigger(x.ERROR,{type:K.MEDIA_ERROR,details:N.BUFFER_STALLED_ERROR,error:p,fatal:!0})}}},d}(),kv=function(d){function o(n,a,s){var l;return(l=d.call(this,n,a,s,"[stream-controller]",Ie)||this).audioCodecSwap=!1,l.gapController=null,l.level=-1,l._forceStartLoad=!1,l.altAudio=!1,l.audioOnly=!1,l.fragPlaying=null,l.onvplaying=null,l.onvseeked=null,l.fragLastKbps=0,l.couldBacktrack=!1,l.backtrackFragment=null,l.audioCodecSwitch=!1,l.videoBuffer=null,l._registerListeners(),l}G(o,d);var r=o.prototype;return r._registerListeners=function(){var n=this.hls;n.on(x.MEDIA_ATTACHED,this.onMediaAttached,this),n.on(x.MEDIA_DETACHING,this.onMediaDetaching,this),n.on(x.MANIFEST_LOADING,this.onManifestLoading,this),n.on(x.MANIFEST_PARSED,this.onManifestParsed,this),n.on(x.LEVEL_LOADING,this.onLevelLoading,this),n.on(x.LEVEL_LOADED,this.onLevelLoaded,this),n.on(x.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),n.on(x.ERROR,this.onError,this),n.on(x.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),n.on(x.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),n.on(x.BUFFER_CREATED,this.onBufferCreated,this),n.on(x.BUFFER_FLUSHED,this.onBufferFlushed,this),n.on(x.LEVELS_UPDATED,this.onLevelsUpdated,this),n.on(x.FRAG_BUFFERED,this.onFragBuffered,this)},r._unregisterListeners=function(){var n=this.hls;n.off(x.MEDIA_ATTACHED,this.onMediaAttached,this),n.off(x.MEDIA_DETACHING,this.onMediaDetaching,this),n.off(x.MANIFEST_LOADING,this.onManifestLoading,this),n.off(x.MANIFEST_PARSED,this.onManifestParsed,this),n.off(x.LEVEL_LOADED,this.onLevelLoaded,this),n.off(x.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),n.off(x.ERROR,this.onError,this),n.off(x.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),n.off(x.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),n.off(x.BUFFER_CREATED,this.onBufferCreated,this),n.off(x.BUFFER_FLUSHED,this.onBufferFlushed,this),n.off(x.LEVELS_UPDATED,this.onLevelsUpdated,this),n.off(x.FRAG_BUFFERED,this.onFragBuffered,this)},r.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},r.startLoad=function(n){if(this.levels){var a=this.lastCurrentTime,s=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){var l=s.startLevel;l===-1&&(s.config.testBandwidth&&this.levels.length>1?(l=0,this.bitrateTest=!0):l=s.nextAutoLevel),this.level=s.nextLoadLevel=l,this.loadedmetadata=!1}a>0&&n===-1&&(this.log("Override startPosition with lastCurrentTime @"+a.toFixed(3)),n=a),this.state=Fe,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=n,this.tick()}else this._forceStartLoad=!0,this.state=Xt},r.stopLoad=function(){this._forceStartLoad=!1,d.prototype.stopLoad.call(this)},r.doTick=function(){switch(this.state){case Gr:var n,a=this.levels,s=this.level,l=a==null||(n=a[s])==null?void 0:n.details;if(l&&(!l.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(l))break;this.state=Fe;break}if(this.hls.nextLoadLevel!==this.level){this.state=Fe;break}break;case Xn:var c,f=self.performance.now(),p=this.retryDate;(!p||f>=p||(c=this.media)!=null&&c.seeking)&&(this.resetStartWhenNotLoaded(this.level),this.state=Fe)}this.state===Fe&&this.doTickIdle(),this.onTickEnd()},r.onTickEnd=function(){d.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},r.doTickIdle=function(){var n=this.hls,a=this.levelLastLoaded,s=this.levels,l=this.media,c=n.config,f=n.nextLoadLevel;if(a!==null&&(l||!this.startFragRequested&&c.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&s!=null&&s[f]){var p=s[f],v=this.getMainFwdBufferInfo();if(v!==null){var g=this.getLevelDetails();if(g&&this._streamEnded(v,g)){var E={};return this.altAudio&&(E.type="video"),this.hls.trigger(x.BUFFER_EOS,E),void(this.state=Vs)}n.loadLevel!==f&&n.manualLevel===-1&&this.log("Adapting to level "+f+" from level "+this.level),this.level=n.nextLoadLevel=f;var S=p.details;if(!S||this.state===Gr||S.live&&this.levelLastLoaded!==f)return this.level=f,void(this.state=Gr);var L=v.len,k=this.getMaxBufferLength(p.maxBitrate);if(!(L>=k)){this.backtrackFragment&&this.backtrackFragment.start>v.end&&(this.backtrackFragment=null);var _=this.backtrackFragment?this.backtrackFragment.start:v.end,T=this.getNextFragment(_,S);if(this.couldBacktrack&&!this.fragPrevious&&T&&T.sn!=="initSegment"&&this.fragmentTracker.getState(T)!==$n){var w,F=((w=this.backtrackFragment)!=null?w:T).sn-S.startSN,D=S.fragments[F-1];D&&T.cc===D.cc&&(T=D,this.fragmentTracker.removeFragment(D))}else this.backtrackFragment&&v.len&&(this.backtrackFragment=null);if(T&&this.isLoopLoading(T,_)){if(!T.gap){var b=this.audioOnly&&!this.altAudio?Se:Le,U=(b===Le?this.videoBuffer:this.mediaBuffer)||this.media;U&&this.afterBufferFlushed(U,b,Ie)}T=this.getNextFragmentLoopLoading(T,S,v,Ie,k)}T&&(!T.initSegment||T.initSegment.data||this.bitrateTest||(T=T.initSegment),this.loadFragment(T,p,_))}}}},r.loadFragment=function(n,a,s){var l=this.fragmentTracker.getState(n);this.fragCurrent=n,l===rd||l===Yn?n.sn==="initSegment"?this._loadInitSegment(n,a):this.bitrateTest?(this.log("Fragment "+n.sn+" of level "+n.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(n,a)):(this.startFragRequested=!0,d.prototype.loadFragment.call(this,n,a,s)):this.clearTrackerIfNeeded(n)},r.getBufferedFrag=function(n){return this.fragmentTracker.getBufferedFrag(n,Ie)},r.followingBufferedFrag=function(n){return n?this.getBufferedFrag(n.end+.5):null},r.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},r.nextLevelSwitch=function(){var n=this.levels,a=this.media;if(a!=null&&a.readyState){var s,l=this.getAppendedFrag(a.currentTime);l&&l.start>1&&this.flushMainBuffer(0,l.start-1);var c=this.getLevelDetails();if(c!=null&&c.live){var f=this.getMainFwdBufferInfo();if(!f||f.len<2*c.targetduration)return}if(!a.paused&&n){var p=n[this.hls.nextLoadLevel],v=this.fragLastKbps;s=v&&this.fragCurrent?this.fragCurrent.duration*p.maxBitrate/(1e3*v)+1:0}else s=0;var g=this.getBufferedFrag(a.currentTime+s);if(g){var E=this.followingBufferedFrag(g);if(E){this.abortCurrentFrag();var S=E.maxStartPTS?E.maxStartPTS:E.start,L=E.duration,k=Math.max(g.end,S+Math.min(Math.max(L-this.config.maxFragLookUpTolerance,.5*L),.75*L));this.flushMainBuffer(k,Number.POSITIVE_INFINITY)}}}},r.abortCurrentFrag=function(){var n=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,n&&(n.abortRequests(),this.fragmentTracker.removeFragment(n)),this.state){case Hs:case Qn:case Xn:case Br:case ra:this.state=Fe}this.nextLoadPosition=this.getLoadPosition()},r.flushMainBuffer=function(n,a){d.prototype.flushMainBuffer.call(this,n,a,this.altAudio?"video":null)},r.onMediaAttached=function(n,a){d.prototype.onMediaAttached.call(this,n,a);var s=a.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),s.addEventListener("playing",this.onvplaying),s.addEventListener("seeked",this.onvseeked),this.gapController=new Lv(this.config,s,this.fragmentTracker,this.hls)},r.onMediaDetaching=function(){var n=this.media;n&&this.onvplaying&&this.onvseeked&&(n.removeEventListener("playing",this.onvplaying),n.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),d.prototype.onMediaDetaching.call(this)},r.onMediaPlaying=function(){this.tick()},r.onMediaSeeked=function(){var n=this.media,a=n?n.currentTime:null;H(a)&&this.log("Media seeked to "+a.toFixed(3));var s=this.getMainFwdBufferInfo();s!==null&&s.len!==0?this.tick():this.warn('Main forward buffer length on "seeked" event '+(s?s.len:"empty")+")")},r.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(x.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.levels=this.fragPlaying=this.backtrackFragment=null,this.altAudio=this.audioOnly=!1},r.onManifestParsed=function(n,a){var s,l,c,f=!1,p=!1;a.levels.forEach(function(v){(s=v.audioCodec)&&(s.indexOf("mp4a.40.2")!==-1&&(f=!0),s.indexOf("mp4a.40.5")!==-1&&(p=!0))}),this.audioCodecSwitch=f&&p&&typeof((c=dd())==null||(l=c.prototype)==null?void 0:l.changeType)!="function",this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=a.levels,this.startFragRequested=!1},r.onLevelLoading=function(n,a){var s=this.levels;if(s&&this.state===Fe){var l=s[a.level];(!l.details||l.details.live&&this.levelLastLoaded!==a.level||this.waitForCdnTuneIn(l.details))&&(this.state=Gr)}},r.onLevelLoaded=function(n,a){var s,l=this.levels,c=a.level,f=a.details,p=f.totalduration;if(l){this.log("Level "+c+" loaded ["+f.startSN+","+f.endSN+"]"+(f.lastPartSn?"[part-"+f.lastPartSn+"-"+f.lastPartIndex+"]":"")+", cc ["+f.startCC+", "+f.endCC+"] duration:"+p);var v=l[c],g=this.fragCurrent;!g||this.state!==Qn&&this.state!==Xn||g.level===a.level&&g.urlId===v.urlId||!g.loader||this.abortCurrentFrag();var E=0;if(f.live||(s=v.details)!=null&&s.live){if(this.checkLiveUpdate(f),f.deltaUpdateFailed)return;E=this.alignPlaylists(f,v.details)}if(v.details=f,this.levelLastLoaded=c,this.hls.trigger(x.LEVEL_UPDATED,{details:f,level:c}),this.state===Gr){if(this.waitForCdnTuneIn(f))return;this.state=Fe}this.startFragRequested?f.live&&this.synchronizeToLiveEdge(f):this.setStartPosition(f,E),this.tick()}else this.warn("Levels were reset while loading level "+c)},r._handleFragmentLoadProgress=function(n){var a,s=n.frag,l=n.part,c=n.payload,f=this.levels;if(f){var p=f[s.level],v=p.details;if(!v)return this.warn("Dropping fragment "+s.sn+" of level "+s.level+" after level details were reset"),void this.fragmentTracker.removeFragment(s);var g=p.videoCodec,E=v.PTSKnown||!v.live,S=(a=s.initSegment)==null?void 0:a.data,L=this._getAudioCodec(p),k=this.transmuxer=this.transmuxer||new Tv(this.hls,Ie,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),_=l?l.index:-1,T=_!==-1,w=new od(s.level,s.sn,s.stats.chunkCount,c.byteLength,_,T),F=this.initPTS[s.cc];k.push(c,S,L,g,s,l,v.totalduration,E,w,F)}else this.warn("Levels were reset while fragment load was in progress. Fragment "+s.sn+" of level "+s.level+" will not be buffered")},r.onAudioTrackSwitching=function(n,a){var s=this.altAudio;if(!a.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var l=this.fragCurrent;l&&(this.log("Switching to main audio track, cancel main fragment load"),l.abortRequests(),this.fragmentTracker.removeFragment(l)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var c=this.hls;s&&(c.trigger(x.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),c.trigger(x.AUDIO_TRACK_SWITCHED,a)}},r.onAudioTrackSwitched=function(n,a){var s=a.id,l=!!this.hls.audioTracks[s].url;if(l){var c=this.videoBuffer;c&&this.mediaBuffer!==c&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=c)}this.altAudio=l,this.tick()},r.onBufferCreated=function(n,a){var s,l,c=a.tracks,f=!1;for(var p in c){var v=c[p];if(v.id==="main"){if(l=p,s=v,p==="video"){var g=c[p];g&&(this.videoBuffer=g.buffer)}}else f=!0}f&&s?(this.log("Alternate track found, use "+l+".buffered to schedule main fragment loading"),this.mediaBuffer=s.buffer):this.mediaBuffer=this.media},r.onFragBuffered=function(n,a){var s=a.frag,l=a.part;if(!s||s.type===Ie){if(this.fragContextChanged(s))return this.warn("Fragment "+s.sn+(l?" p: "+l.index:"")+" of level "+s.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===ra&&(this.state=Fe));var c=l?l.stats:s.stats;this.fragLastKbps=Math.round(8*c.total/(c.buffering.end-c.loading.first)),s.sn!=="initSegment"&&(this.fragPrevious=s),this.fragBufferedComplete(s,l)}},r.onError=function(n,a){var s;if(a.fatal)this.state=qn;else switch(a.details){case N.FRAG_GAP:case N.FRAG_PARSING_ERROR:case N.FRAG_DECRYPT_ERROR:case N.FRAG_LOAD_ERROR:case N.FRAG_LOAD_TIMEOUT:case N.KEY_LOAD_ERROR:case N.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Ie,a);break;case N.LEVEL_LOAD_ERROR:case N.LEVEL_LOAD_TIMEOUT:case N.LEVEL_PARSING_ERROR:a.levelRetry||this.state!==Gr||((s=a.context)==null?void 0:s.type)!==Ur||(this.state=Fe);break;case N.BUFFER_FULL_ERROR:if(!a.parent||a.parent!=="main")return;this.reduceLengthAndFlushBuffer(a)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case N.INTERNAL_EXCEPTION:this.recoverWorkerError(a)}},r.checkBuffer=function(){var n=this.media,a=this.gapController;if(n&&a&&n.readyState){if(this.loadedmetadata||!je.getBuffered(n).length){var s=this.state!==Fe?this.fragCurrent:null;a.poll(this.lastCurrentTime,s)}this.lastCurrentTime=n.currentTime}},r.onFragLoadEmergencyAborted=function(){this.state=Fe,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},r.onBufferFlushed=function(n,a){var s=a.type;if(s!==Se||this.audioOnly&&!this.altAudio){var l=(s===Le?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(l,s,Ie)}},r.onLevelsUpdated=function(n,a){this.levels=a.levels},r.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},r.seekToStartPos=function(){var n=this.media;if(n){var a=n.currentTime,s=this.startPosition;if(s>=0&&a<s){if(n.seeking)return void this.log("could not seek to "+s+", already seeking at "+a);var l=je.getBuffered(n),c=(l.length?l.start(0):0)-s;c>0&&(c<this.config.maxBufferHole||c<this.config.maxFragLookUpTolerance)&&(this.log("adjusting start position by "+c+" to match buffer start"),s+=c,this.startPosition=s),this.log("seek to target start position "+s+" from current time "+a),n.currentTime=s}}},r._getAudioCodec=function(n){var a=this.config.defaultAudioCodec||n.audioCodec;return this.audioCodecSwap&&a&&(this.log("Swapping audio codec"),a=a.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5"),a},r._loadBitrateTestFrag=function(n,a){var s=this;n.bitrateTest=!0,this._doFragLoad(n,a).then(function(l){var c=s.hls;if(l&&!s.fragContextChanged(n)){a.fragmentError=0,s.state=Fe,s.startFragRequested=!1,s.bitrateTest=!1;var f=n.stats;f.parsing.start=f.parsing.end=f.buffering.start=f.buffering.end=self.performance.now(),c.trigger(x.FRAG_LOADED,l),n.bitrateTest=!1}})},r._handleTransmuxComplete=function(n){var a,s="main",l=this.hls,c=n.remuxResult,f=n.chunkMeta,p=this.getCurrentContext(f);if(p){var v=p.frag,g=p.part,E=p.level,S=c.video,L=c.text,k=c.id3,_=c.initSegment,T=E.details,w=this.altAudio?void 0:c.audio;if(this.fragContextChanged(v))this.fragmentTracker.removeFragment(v);else{if(this.state=Br,_){if(_!=null&&_.tracks){var F=v.initSegment||v;this._bufferInitSegment(E,_.tracks,F,f),l.trigger(x.FRAG_PARSING_INIT_SEGMENT,{frag:F,id:s,tracks:_.tracks})}var D=_.initPTS,b=_.timescale;H(D)&&(this.initPTS[v.cc]={baseTime:D,timescale:b},l.trigger(x.INIT_PTS_FOUND,{frag:v,id:s,initPTS:D,timescale:b}))}if(S&&T&&v.sn!=="initSegment"){var U=T.fragments[v.sn-1-T.startSN],j=v.sn===T.startSN,$=!U||v.cc>U.cc;if(c.independent!==!1){var q=S.startPTS,W=S.endPTS,ee=S.startDTS,Z=S.endDTS;if(g)g.elementaryStreams[S.type]={startPTS:q,endPTS:W,startDTS:ee,endDTS:Z};else if(S.firstKeyFrame&&S.independent&&f.id===1&&!$&&(this.couldBacktrack=!0),S.dropped&&S.independent){var se=this.getMainFwdBufferInfo(),de=(se?se.end:this.getLoadPosition())+this.config.maxBufferHole,ne=S.firstKeyFramePTS?S.firstKeyFramePTS:q;if(!j&&de<ne-this.config.maxBufferHole&&!$)return void this.backtrack(v);$&&(v.gap=!0),v.setElementaryStreamInfo(S.type,v.start,W,v.start,Z,!0)}v.setElementaryStreamInfo(S.type,q,W,ee,Z),this.backtrackFragment&&(this.backtrackFragment=v),this.bufferFragmentData(S,v,g,f,j||$)}else{if(!j&&!$)return void this.backtrack(v);v.gap=!0}}if(w){var le=w.startPTS,oe=w.endPTS,ae=w.startDTS,he=w.endDTS;g&&(g.elementaryStreams[Se]={startPTS:le,endPTS:oe,startDTS:ae,endDTS:he}),v.setElementaryStreamInfo(Se,le,oe,ae,he),this.bufferFragmentData(w,v,g,f)}if(T&&k!=null&&(a=k.samples)!=null&&a.length){var ge={id:s,frag:v,details:T,samples:k.samples};l.trigger(x.FRAG_PARSING_METADATA,ge)}if(T&&L){var ve={id:s,frag:v,details:T,samples:L.samples};l.trigger(x.FRAG_PARSING_USERDATA,ve)}}}else this.resetWhenMissingContext(f)},r._bufferInitSegment=function(n,a,s,l){var c=this;if(this.state===Br){this.audioOnly=!!a.audio&&!a.video,this.altAudio&&!this.audioOnly&&delete a.audio;var f=a.audio,p=a.video,v=a.audiovideo;if(f){var g=n.audioCodec,E=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(g&&(g=g.indexOf("mp4a.40.5")!==-1?"mp4a.40.2":"mp4a.40.5"),f.metadata.channelCount!==1&&E.indexOf("firefox")===-1&&(g="mp4a.40.5")),E.indexOf("android")!==-1&&f.container!=="audio/mpeg"&&(g="mp4a.40.2",this.log("Android: force audio codec to "+g)),n.audioCodec&&n.audioCodec!==g&&this.log('Swapping manifest audio codec "'+n.audioCodec+'" for "'+g+'"'),f.levelCodec=g,f.id="main",this.log("Init audio buffer, container:"+f.container+", codecs[selected/level/parsed]=["+(g||"")+"/"+(n.audioCodec||"")+"/"+f.codec+"]")}p&&(p.levelCodec=n.videoCodec,p.id="main",this.log("Init video buffer, container:"+p.container+", codecs[level/parsed]=["+(n.videoCodec||"")+"/"+p.codec+"]")),v&&this.log("Init audiovideo buffer, container:"+v.container+", codecs[level/parsed]=["+(n.attrs.CODECS||"")+"/"+v.codec+"]"),this.hls.trigger(x.BUFFER_CODECS,a),Object.keys(a).forEach(function(S){var L=a[S].initSegment;L!=null&&L.byteLength&&c.hls.trigger(x.BUFFER_APPENDING,{type:S,data:L,frag:s,part:null,chunkMeta:l,parent:s.type})}),this.tick()}},r.getMainFwdBufferInfo=function(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,Ie)},r.backtrack=function(n){this.couldBacktrack=!0,this.backtrackFragment=n,this.resetTransmuxer(),this.flushBufferGap(n),this.fragmentTracker.removeFragment(n),this.fragPrevious=null,this.nextLoadPosition=n.start,this.state=Fe},r.checkFragmentChanged=function(){var n=this.media,a=null;if(n&&n.readyState>1&&n.seeking===!1){var s=n.currentTime;if(je.isBuffered(n,s)?a=this.getAppendedFrag(s):je.isBuffered(n,s+.1)&&(a=this.getAppendedFrag(s+.1)),a){this.backtrackFragment=null;var l=this.fragPlaying,c=a.level;l&&a.sn===l.sn&&l.level===c&&a.urlId===l.urlId||(this.fragPlaying=a,this.hls.trigger(x.FRAG_CHANGED,{frag:a}),l&&l.level===c||this.hls.trigger(x.LEVEL_SWITCHED,{level:c}))}}},A(o,[{key:"nextLevel",get:function(){var n=this.nextBufferedFrag;return n?n.level:-1}},{key:"currentFrag",get:function(){var n=this.media;return n?this.fragPlaying||this.getAppendedFrag(n.currentTime):null}},{key:"currentProgramDateTime",get:function(){var n=this.media;if(n){var a=n.currentTime,s=this.currentFrag;if(s&&H(a)&&H(s.programDateTime)){var l=s.programDateTime+1e3*(a-s.start);return new Date(l)}}return null}},{key:"currentLevel",get:function(){var n=this.currentFrag;return n?n.level:-1}},{key:"nextBufferedFrag",get:function(){var n=this.currentFrag;return n?this.followingBufferedFrag(n):null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}]),o}(tv),hn=function(){function d(r,n,a){n===void 0&&(n=0),a===void 0&&(a=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=r,this.alpha_=r?Math.exp(Math.log(.5)/r):0,this.estimate_=n,this.totalWeight_=a}var o=d.prototype;return o.sample=function(r,n){var a=Math.pow(this.alpha_,r);this.estimate_=n*(1-a)+a*this.estimate_,this.totalWeight_+=r},o.getTotalWeight=function(){return this.totalWeight_},o.getEstimate=function(){if(this.alpha_){var r=1-Math.pow(this.alpha_,this.totalWeight_);if(r)return this.estimate_/r}return this.estimate_},d}(),wv=function(){function d(r,n,a,s){s===void 0&&(s=100),this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=a,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new hn(r),this.fast_=new hn(n),this.defaultTTFB_=s,this.ttfb_=new hn(r)}var o=d.prototype;return o.update=function(r,n){var a=this.slow_,s=this.fast_,l=this.ttfb_;a.halfLife!==r&&(this.slow_=new hn(r,a.getEstimate(),a.getTotalWeight())),s.halfLife!==n&&(this.fast_=new hn(n,s.getEstimate(),s.getTotalWeight())),l.halfLife!==r&&(this.ttfb_=new hn(r,l.getEstimate(),l.getTotalWeight()))},o.sample=function(r,n){var a=(r=Math.max(r,this.minDelayMs_))/1e3,s=8*n/a;this.fast_.sample(a,s),this.slow_.sample(a,s)},o.sampleTTFB=function(r){var n=r/1e3,a=Math.sqrt(2)*Math.exp(-Math.pow(n,2)/2);this.ttfb_.sample(a,Math.max(r,5))},o.canEstimate=function(){return this.fast_.getTotalWeight()>=this.minWeight_},o.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},o.getEstimateTTFB=function(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_},o.destroy=function(){},d}(),Rv=function(){function d(r){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=-1,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=r;var n=r.config;this.bwEstimator=new wv(n.abrEwmaSlowVoD,n.abrEwmaFastVoD,n.abrEwmaDefaultEstimate),this.registerListeners()}var o=d.prototype;return o.registerListeners=function(){var r=this.hls;r.on(x.FRAG_LOADING,this.onFragLoading,this),r.on(x.FRAG_LOADED,this.onFragLoaded,this),r.on(x.FRAG_BUFFERED,this.onFragBuffered,this),r.on(x.LEVEL_SWITCHING,this.onLevelSwitching,this),r.on(x.LEVEL_LOADED,this.onLevelLoaded,this)},o.unregisterListeners=function(){var r=this.hls;r.off(x.FRAG_LOADING,this.onFragLoading,this),r.off(x.FRAG_LOADED,this.onFragLoaded,this),r.off(x.FRAG_BUFFERED,this.onFragBuffered,this),r.off(x.LEVEL_SWITCHING,this.onLevelSwitching,this),r.off(x.LEVEL_LOADED,this.onLevelLoaded,this)},o.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},o.onFragLoading=function(r,n){var a,s=n.frag;this.ignoreFragment(s)||(this.fragCurrent=s,this.partCurrent=(a=n.part)!=null?a:null,this.clearTimer(),this.timer=self.setInterval(this.onCheck,100))},o.onLevelSwitching=function(r,n){this.clearTimer()},o.getTimeToLoadFrag=function(r,n,a,s){return r+a/n+(s?this.lastLevelLoadSec:0)},o.onLevelLoaded=function(r,n){var a=this.hls.config,s=n.stats,l=s.total,c=s.bwEstimate;H(l)&&H(c)&&(this.lastLevelLoadSec=8*l/c),n.details.live?this.bwEstimator.update(a.abrEwmaSlowLive,a.abrEwmaFastLive):this.bwEstimator.update(a.abrEwmaSlowVoD,a.abrEwmaFastVoD)},o._abandonRulesCheck=function(){var r=this.fragCurrent,n=this.partCurrent,a=this.hls,s=a.autoLevelEnabled,l=a.media;if(r&&l){var c=performance.now(),f=n?n.stats:r.stats,p=n?n.duration:r.duration,v=c-f.loading.start;if(f.aborted||f.loaded&&f.loaded===f.total||r.level===0)return this.clearTimer(),void(this._nextAutoLevel=-1);if(s&&!l.paused&&l.playbackRate&&l.readyState){var g=a.mainForwardBufferInfo;if(g!==null){var E=this.bwEstimator.getEstimateTTFB(),S=Math.abs(l.playbackRate);if(!(v<=Math.max(E,p/(2*S)*1e3))){var L=g.len/S;if(!(L>=2*p/S)){var k=f.loading.first?f.loading.first-f.loading.start:-1,_=f.loaded&&k>-1,T=this.bwEstimator.getEstimate(),w=a.levels,F=a.minAutoLevel,D=w[r.level],b=f.total||Math.max(f.loaded,Math.round(p*D.maxBitrate/8)),U=v-k;U<1&&_&&(U=Math.min(v,8*f.loaded/T));var j=_?1e3*f.loaded/U:0,$=j?(b-f.loaded)/j:8*b/T+E/1e3;if(!($<=L)){var q,W=j?8*j:T,ee=Number.POSITIVE_INFINITY;for(q=r.level-1;q>F;q--){var Z=w[q].maxBitrate;if((ee=this.getTimeToLoadFrag(E/1e3,W,p*Z,!w[q].details))<L)break}ee>=$||ee>10*p||(a.nextLoadLevel=q,_?this.bwEstimator.sample(v-Math.min(E,k),f.loaded):this.bwEstimator.sampleTTFB(v),this.clearTimer(),M.warn("[abr] Fragment "+r.sn+(n?" part "+n.index:"")+" of level "+r.level+` is loading too slowly;
      Time to underbuffer: `+L.toFixed(3)+` s
      Estimated load time for current fragment: `+$.toFixed(3)+` s
      Estimated load time for down switch fragment: `+ee.toFixed(3)+` s
      TTFB estimate: `+k+`
      Current BW estimate: `+(H(T)?(T/1024).toFixed(3):"Unknown")+` Kb/s
      New BW estimate: `+(this.bwEstimator.getEstimate()/1024).toFixed(3)+` Kb/s
      Aborting and switching to level `+q),r.loader&&(this.fragCurrent=this.partCurrent=null,r.abortRequests()),a.trigger(x.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r,part:n,stats:f}))}}}}}}},o.onFragLoaded=function(r,n){var a=n.frag,s=n.part,l=s?s.stats:a.stats;if(a.type===Ie&&this.bwEstimator.sampleTTFB(l.loading.first-l.loading.start),!this.ignoreFragment(a)){if(this.clearTimer(),this.lastLoadedFragLevel=a.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var c=s?s.duration:a.duration,f=this.hls.levels[a.level],p=(f.loaded?f.loaded.bytes:0)+l.loaded,v=(f.loaded?f.loaded.duration:0)+c;f.loaded={bytes:p,duration:v},f.realBitrate=Math.round(8*p/v)}if(a.bitrateTest){var g={stats:l,frag:a,part:s,id:a.type};this.onFragBuffered(x.FRAG_BUFFERED,g),a.bitrateTest=!1}}},o.onFragBuffered=function(r,n){var a=n.frag,s=n.part,l=s!=null&&s.stats.loaded?s.stats:a.stats;if(!l.aborted&&!this.ignoreFragment(a)){var c=l.parsing.end-l.loading.start-Math.min(l.loading.first-l.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(c,l.loaded),l.bwEstimate=this.bwEstimator.getEstimate(),a.bitrateTest?this.bitrateTestDelay=c/1e3:this.bitrateTestDelay=0}},o.ignoreFragment=function(r){return r.type!==Ie||r.sn==="initSegment"},o.clearTimer=function(){self.clearInterval(this.timer)},o.getNextABRAutoLevel=function(){var r=this.fragCurrent,n=this.partCurrent,a=this.hls,s=a.maxAutoLevel,l=a.config,c=a.minAutoLevel,f=a.media,p=n?n.duration:r?r.duration:0,v=f&&f.playbackRate!==0?Math.abs(f.playbackRate):1,g=this.bwEstimator?this.bwEstimator.getEstimate():l.abrEwmaDefaultEstimate,E=a.mainForwardBufferInfo,S=(E?E.len:0)/v,L=this.findBestLevel(g,c,s,S,l.abrBandWidthFactor,l.abrBandWidthUpFactor);if(L>=0)return L;M.trace("[abr] "+(S?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var k=p?Math.min(p,l.maxStarvationDelay):l.maxStarvationDelay,_=l.abrBandWidthFactor,T=l.abrBandWidthUpFactor;if(!S){var w=this.bitrateTestDelay;w&&(k=(p?Math.min(p,l.maxLoadingDelay):l.maxLoadingDelay)-w,M.trace("[abr] bitrate test took "+Math.round(1e3*w)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*k)+" ms"),_=T=1)}return L=this.findBestLevel(g,c,s,S+k,_,T),Math.max(L,0)},o.findBestLevel=function(r,n,a,s,l,c){for(var f,p=this.fragCurrent,v=this.partCurrent,g=this.lastLoadedFragLevel,E=this.hls.levels,S=E[g],L=!(S==null||(f=S.details)==null||!f.live),k=S==null?void 0:S.codecSet,_=v?v.duration:p?p.duration:0,T=this.bwEstimator.getEstimateTTFB()/1e3,w=n,F=-1,D=a;D>=n;D--){var b=E[D];if(!b||k&&b.codecSet!==k)b&&(w=Math.min(D,w),F=Math.max(D,F));else{F!==-1&&M.trace("[abr] Skipped level(s) "+w+"-"+F+' with CODECS:"'+E[F].attrs.CODECS+'"; not compatible with "'+S.attrs.CODECS+'"');var U=b.details,j=(v?U==null?void 0:U.partTarget:U==null?void 0:U.averagetargetduration)||_,$=void 0;$=D<=g?l*r:c*r;var q=E[D].maxBitrate,W=this.getTimeToLoadFrag(T,$,q*j,U===void 0);if(M.trace("[abr] level:"+D+" adjustedbw-bitrate:"+Math.round($-q)+" avgDuration:"+j.toFixed(1)+" maxFetchDuration:"+s.toFixed(1)+" fetchDuration:"+W.toFixed(1)),$>q&&(W===0||!H(W)||L&&!this.bitrateTestDelay||W<s))return D}}return-1},A(d,[{key:"nextAutoLevel",get:function(){var r=this._nextAutoLevel,n=this.bwEstimator;if(r!==-1&&!n.canEstimate())return r;var a=this.getNextABRAutoLevel();if(r!==-1){var s=this.hls.levels;if(s.length>Math.max(r,a)&&s[r].loadError<=s[a].loadError)return r}return r!==-1&&(a=Math.min(r,a)),a},set:function(r){this._nextAutoLevel=r}}]),d}(),xv=function(){function d(r){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=r}var o=d.prototype;return o.append=function(r,n){var a=this.queues[n];a.push(r),a.length===1&&this.buffers[n]&&this.executeNext(n)},o.insertAbort=function(r,n){this.queues[n].unshift(r),this.executeNext(n)},o.appendBlocker=function(r){var n,a=new Promise(function(l){n=l}),s={execute:n,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(s,r),a},o.executeNext=function(r){var n=this.buffers,a=this.queues,s=n[r],l=a[r];if(l.length){var c=l[0];try{c.execute()}catch(f){M.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),c.onError(f),s!=null&&s.updating||(l.shift(),this.executeNext(r))}}},o.shiftAndExecuteNext=function(r){this.queues[r].shift(),this.executeNext(r)},o.current=function(r){return this.queues[r][0]},d}(),Cd=Qi(),Dd=/([ha]vc.)(?:\.[^.,]+)+/,_v=function(){function d(r){var n=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var a=n.media,s=n.mediaSource;M.log("[buffer-controller]: Media source opened"),a&&(a.removeEventListener("emptied",n._onMediaEmptied),n.updateMediaElementDuration(),n.hls.trigger(x.MEDIA_ATTACHED,{media:a})),s&&s.removeEventListener("sourceopen",n._onMediaSourceOpen),n.checkPendingTracks()},this._onMediaSourceClose=function(){M.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){M.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=function(){var a=n.media,s=n._objectUrl;a&&a.src!==s&&M.error("Media element src was set while attaching MediaSource ("+s+" > "+a.src+")")},this.hls=r,this._initSourceBuffer(),this.registerListeners()}var o=d.prototype;return o.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},o.destroy=function(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null},o.registerListeners=function(){var r=this.hls;r.on(x.MEDIA_ATTACHING,this.onMediaAttaching,this),r.on(x.MEDIA_DETACHING,this.onMediaDetaching,this),r.on(x.MANIFEST_LOADING,this.onManifestLoading,this),r.on(x.MANIFEST_PARSED,this.onManifestParsed,this),r.on(x.BUFFER_RESET,this.onBufferReset,this),r.on(x.BUFFER_APPENDING,this.onBufferAppending,this),r.on(x.BUFFER_CODECS,this.onBufferCodecs,this),r.on(x.BUFFER_EOS,this.onBufferEos,this),r.on(x.BUFFER_FLUSHING,this.onBufferFlushing,this),r.on(x.LEVEL_UPDATED,this.onLevelUpdated,this),r.on(x.FRAG_PARSED,this.onFragParsed,this),r.on(x.FRAG_CHANGED,this.onFragChanged,this)},o.unregisterListeners=function(){var r=this.hls;r.off(x.MEDIA_ATTACHING,this.onMediaAttaching,this),r.off(x.MEDIA_DETACHING,this.onMediaDetaching,this),r.off(x.MANIFEST_LOADING,this.onManifestLoading,this),r.off(x.MANIFEST_PARSED,this.onManifestParsed,this),r.off(x.BUFFER_RESET,this.onBufferReset,this),r.off(x.BUFFER_APPENDING,this.onBufferAppending,this),r.off(x.BUFFER_CODECS,this.onBufferCodecs,this),r.off(x.BUFFER_EOS,this.onBufferEos,this),r.off(x.BUFFER_FLUSHING,this.onBufferFlushing,this),r.off(x.LEVEL_UPDATED,this.onLevelUpdated,this),r.off(x.FRAG_PARSED,this.onFragParsed,this),r.off(x.FRAG_CHANGED,this.onFragChanged,this)},o._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new xv(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null},o.onManifestLoading=function(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null},o.onManifestParsed=function(r,n){var a=2;n.audio&&!n.video||n.altAudio,a=1,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=a,M.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},o.onMediaAttaching=function(r,n){var a=this.media=n.media;if(a&&Cd){var s=this.mediaSource=new Cd;s.addEventListener("sourceopen",this._onMediaSourceOpen),s.addEventListener("sourceended",this._onMediaSourceEnded),s.addEventListener("sourceclose",this._onMediaSourceClose),a.src=self.URL.createObjectURL(s),this._objectUrl=a.src,a.addEventListener("emptied",this._onMediaEmptied)}},o.onMediaDetaching=function(){var r=this.media,n=this.mediaSource,a=this._objectUrl;if(n){if(M.log("[buffer-controller]: media source detaching"),n.readyState==="open")try{n.endOfStream()}catch(s){M.warn("[buffer-controller]: onMediaDetaching: "+s.message+" while calling endOfStream")}this.onBufferReset(),n.removeEventListener("sourceopen",this._onMediaSourceOpen),n.removeEventListener("sourceended",this._onMediaSourceEnded),n.removeEventListener("sourceclose",this._onMediaSourceClose),r&&(r.removeEventListener("emptied",this._onMediaEmptied),a&&self.URL.revokeObjectURL(a),r.src===a?(r.removeAttribute("src"),r.load()):M.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(x.MEDIA_DETACHED,void 0)},o.onBufferReset=function(){var r=this;this.getSourceBufferTypes().forEach(function(n){var a=r.sourceBuffer[n];try{a&&(r.removeBufferListeners(n),r.mediaSource&&r.mediaSource.removeSourceBuffer(a),r.sourceBuffer[n]=void 0)}catch(s){M.warn("[buffer-controller]: Failed to reset the "+n+" buffer",s)}}),this._initSourceBuffer()},o.onBufferCodecs=function(r,n){var a=this,s=this.getSourceBufferTypes().length;Object.keys(n).forEach(function(l){if(s){var c=a.tracks[l];if(c&&typeof c.buffer.changeType=="function"){var f=n[l],p=f.id,v=f.codec,g=f.levelCodec,E=f.container,S=f.metadata,L=(c.levelCodec||c.codec).replace(Dd,"$1"),k=(g||v).replace(Dd,"$1");if(L!==k){var _=E+";codecs="+(g||v);a.appendChangeType(l,_),M.log("[buffer-controller]: switching codec "+L+" to "+k),a.tracks[l]={buffer:c.buffer,codec:v,container:E,levelCodec:g,metadata:S,id:p}}}}else a.pendingTracks[l]=n[l]}),s||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks())},o.appendChangeType=function(r,n){var a=this,s=this.operationQueue,l={execute:function(){var c=a.sourceBuffer[r];c&&(M.log("[buffer-controller]: changing "+r+" sourceBuffer type to "+n),c.changeType(n)),s.shiftAndExecuteNext(r)},onStart:function(){},onComplete:function(){},onError:function(c){M.warn("[buffer-controller]: Failed to change "+r+" SourceBuffer type",c)}};s.append(l,r)},o.onBufferAppending=function(r,n){var a=this,s=this.hls,l=this.operationQueue,c=this.tracks,f=n.data,p=n.type,v=n.frag,g=n.part,E=n.chunkMeta,S=E.buffering[p],L=self.performance.now();S.start=L;var k=v.stats.buffering,_=g?g.stats.buffering:null;k.start===0&&(k.start=L),_&&_.start===0&&(_.start=L);var T=c.audio,w=!1;p==="audio"&&(T==null?void 0:T.container)==="audio/mpeg"&&(w=!this.lastMpegAudioChunk||E.id===1||this.lastMpegAudioChunk.sn!==E.sn,this.lastMpegAudioChunk=E);var F=v.start,D={execute:function(){if(S.executeStart=self.performance.now(),w){var b=a.sourceBuffer[p];if(b){var U=F-b.timestampOffset;Math.abs(U)>=.1&&(M.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+F+" (delta: "+U+") sn: "+v.sn+")"),b.timestampOffset=F)}}a.appendExecutor(f,p)},onStart:function(){},onComplete:function(){var b=self.performance.now();S.executeEnd=S.end=b,k.first===0&&(k.first=b),_&&_.first===0&&(_.first=b);var U=a.sourceBuffer,j={};for(var $ in U)j[$]=je.getBuffered(U[$]);a.appendError=0,a.hls.trigger(x.BUFFER_APPENDED,{type:p,frag:v,part:g,chunkMeta:E,parent:v.type,timeRanges:j})},onError:function(b){M.error("[buffer-controller]: Error encountered while trying to append to the "+p+" SourceBuffer",b);var U={type:K.MEDIA_ERROR,parent:v.type,details:N.BUFFER_APPEND_ERROR,frag:v,part:g,chunkMeta:E,error:b,err:b,fatal:!1};b.code===DOMException.QUOTA_EXCEEDED_ERR?U.details=N.BUFFER_FULL_ERROR:(a.appendError++,U.details=N.BUFFER_APPEND_ERROR,a.appendError>s.config.appendErrorMaxRetry&&(M.error("[buffer-controller]: Failed "+s.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),U.fatal=!0)),s.trigger(x.ERROR,U)}};l.append(D,p)},o.onBufferFlushing=function(r,n){var a=this,s=this.operationQueue,l=function(c){return{execute:a.removeExecutor.bind(a,c,n.startOffset,n.endOffset),onStart:function(){},onComplete:function(){a.hls.trigger(x.BUFFER_FLUSHED,{type:c})},onError:function(f){M.warn("[buffer-controller]: Failed to remove from "+c+" SourceBuffer",f)}}};n.type?s.append(l(n.type),n.type):this.getSourceBufferTypes().forEach(function(c){s.append(l(c),c)})},o.onFragParsed=function(r,n){var a=this,s=n.frag,l=n.part,c=[],f=l?l.elementaryStreams:s.elementaryStreams;f[ur]?c.push("audiovideo"):(f[Se]&&c.push("audio"),f[Le]&&c.push("video")),c.length===0&&M.warn("Fragments must have at least one ElementaryStreamType set. type: "+s.type+" level: "+s.level+" sn: "+s.sn),this.blockBuffers(function(){var p=self.performance.now();s.stats.buffering.end=p,l&&(l.stats.buffering.end=p);var v=l?l.stats:s.stats;a.hls.trigger(x.FRAG_BUFFERED,{frag:s,part:l,stats:v,id:s.type})},c)},o.onFragChanged=function(r,n){this.flushBackBuffer()},o.onBufferEos=function(r,n){var a=this;this.getSourceBufferTypes().reduce(function(s,l){var c=a.sourceBuffer[l];return!c||n.type&&n.type!==l||(c.ending=!0,c.ended||(c.ended=!0,M.log("[buffer-controller]: "+l+" sourceBuffer now EOS"))),s&&!(c&&!c.ended)},!0)&&(M.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers(function(){a.getSourceBufferTypes().forEach(function(l){var c=a.sourceBuffer[l];c&&(c.ending=!1)});var s=a.mediaSource;s&&s.readyState==="open"?(M.log("[buffer-controller]: Calling mediaSource.endOfStream()"),s.endOfStream()):s&&M.info("[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: "+s.readyState)}))},o.onLevelUpdated=function(r,n){var a=n.details;a.fragments.length&&(this.details=a,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},o.flushBackBuffer=function(){var r=this.hls,n=this.details,a=this.media,s=this.sourceBuffer;if(a&&n!==null){var l=this.getSourceBufferTypes();if(l.length){var c=n.live&&r.config.liveBackBufferLength!==null?r.config.liveBackBufferLength:r.config.backBufferLength;if(H(c)&&!(c<0)){var f=a.currentTime,p=n.levelTargetDuration,v=Math.max(c,p),g=Math.floor(f/p)*p-v;l.forEach(function(E){var S=s[E];if(S){var L=je.getBuffered(S);if(L.length>0&&g>L.start(0)){if(r.trigger(x.BACK_BUFFER_REACHED,{bufferEnd:g}),n.live)r.trigger(x.LIVE_BACK_BUFFER_REACHED,{bufferEnd:g});else if(S.ended&&L.end(L.length-1)-f<2*p)return void M.info("[buffer-controller]: Cannot flush "+E+" back buffer while SourceBuffer is in ended state");r.trigger(x.BUFFER_FLUSHING,{startOffset:0,endOffset:g,type:E})}}})}}}},o.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&this.mediaSource.readyState==="open"){var r=this.details,n=this.hls,a=this.media,s=this.mediaSource,l=r.fragments[0].start+r.totalduration,c=a.duration,f=H(s.duration)?s.duration:0;r.live&&n.config.liveDurationInfinity?(M.log("[buffer-controller]: Media Source duration is set to Infinity"),s.duration=1/0,this.updateSeekableRange(r)):(l>f&&l>c||!H(c))&&(M.log("[buffer-controller]: Updating Media Source duration to "+l.toFixed(3)),s.duration=l)}},o.updateSeekableRange=function(r){var n=this.mediaSource,a=r.fragments;if(a.length&&r.live&&n!=null&&n.setLiveSeekableRange){var s=Math.max(0,a[0].start),l=Math.max(s,s+r.totalduration);n.setLiveSeekableRange(s,l)}},o.checkPendingTracks=function(){var r=this.bufferCodecEventsExpected,n=this.operationQueue,a=this.pendingTracks,s=Object.keys(a).length;if(s&&!r||s===2){this.createSourceBuffers(a),this.pendingTracks={};var l=this.getSourceBufferTypes();if(l.length)this.hls.trigger(x.BUFFER_CREATED,{tracks:this.tracks}),l.forEach(function(f){n.executeNext(f)});else{var c=new Error("could not create source buffer for media codec(s)");this.hls.trigger(x.ERROR,{type:K.MEDIA_ERROR,details:N.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:c,reason:c.message})}}},o.createSourceBuffers=function(r){var n=this.sourceBuffer,a=this.mediaSource;if(!a)throw Error("createSourceBuffers called when mediaSource was null");for(var s in r)if(!n[s]){var l=r[s];if(!l)throw Error("source buffer exists for track "+s+", however track does not");var c=l.levelCodec||l.codec,f=l.container+";codecs="+c;M.log("[buffer-controller]: creating sourceBuffer("+f+")");try{var p=n[s]=a.addSourceBuffer(f),v=s;this.addBufferListener(v,"updatestart",this._onSBUpdateStart),this.addBufferListener(v,"updateend",this._onSBUpdateEnd),this.addBufferListener(v,"error",this._onSBUpdateError),this.tracks[s]={buffer:p,codec:c,container:l.container,levelCodec:l.levelCodec,metadata:l.metadata,id:l.id}}catch(g){M.error("[buffer-controller]: error while trying to add sourceBuffer: "+g.message),this.hls.trigger(x.ERROR,{type:K.MEDIA_ERROR,details:N.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:g,mimeType:f})}}},o._onSBUpdateStart=function(r){this.operationQueue.current(r).onStart()},o._onSBUpdateEnd=function(r){var n=this.operationQueue;n.current(r).onComplete(),n.shiftAndExecuteNext(r)},o._onSBUpdateError=function(r,n){var a=new Error(r+" SourceBuffer error");M.error("[buffer-controller]: "+a,n),this.hls.trigger(x.ERROR,{type:K.MEDIA_ERROR,details:N.BUFFER_APPENDING_ERROR,error:a,fatal:!1});var s=this.operationQueue.current(r);s&&s.onError(n)},o.removeExecutor=function(r,n,a){var s=this.media,l=this.mediaSource,c=this.operationQueue,f=this.sourceBuffer[r];if(!s||!l||!f)return M.warn("[buffer-controller]: Attempting to remove from the "+r+" SourceBuffer, but it does not exist"),void c.shiftAndExecuteNext(r);var p=H(s.duration)?s.duration:1/0,v=H(l.duration)?l.duration:1/0,g=Math.max(0,n),E=Math.min(a,p,v);E>g&&!f.ending?(f.ended=!1,M.log("[buffer-controller]: Removing ["+g+","+E+"] from the "+r+" SourceBuffer"),f.remove(g,E)):c.shiftAndExecuteNext(r)},o.appendExecutor=function(r,n){var a=this.operationQueue,s=this.sourceBuffer[n];if(!s)return M.warn("[buffer-controller]: Attempting to append to the "+n+" SourceBuffer, but it does not exist"),void a.shiftAndExecuteNext(n);s.ended=!1,s.appendBuffer(r)},o.blockBuffers=function(r,n){var a=this;if(n===void 0&&(n=this.getSourceBufferTypes()),!n.length)return M.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(r);var s=this.operationQueue,l=n.map(function(c){return s.appendBlocker(c)});Promise.all(l).then(function(){r(),n.forEach(function(c){var f=a.sourceBuffer[c];f!=null&&f.updating||s.shiftAndExecuteNext(c)})})},o.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},o.addBufferListener=function(r,n,a){var s=this.sourceBuffer[r];if(s){var l=a.bind(this,r);this.listeners[r].push({event:n,listener:l}),s.addEventListener(n,l)}},o.removeBufferListeners=function(r){var n=this.sourceBuffer[r];n&&this.listeners[r].forEach(function(a){n.removeEventListener(a.event,a.listener)})},d}(),Av=function(){function d(r){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=r,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var o=d.prototype;return o.setStreamController=function(r){this.streamController=r},o.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},o.registerListeners=function(){var r=this.hls;r.on(x.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),r.on(x.MEDIA_ATTACHING,this.onMediaAttaching,this),r.on(x.MANIFEST_PARSED,this.onManifestParsed,this),r.on(x.BUFFER_CODECS,this.onBufferCodecs,this),r.on(x.MEDIA_DETACHING,this.onMediaDetaching,this)},o.unregisterListener=function(){var r=this.hls;r.off(x.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),r.off(x.MEDIA_ATTACHING,this.onMediaAttaching,this),r.off(x.MANIFEST_PARSED,this.onManifestParsed,this),r.off(x.BUFFER_CODECS,this.onBufferCodecs,this),r.off(x.MEDIA_DETACHING,this.onMediaDetaching,this)},o.onFpsDropLevelCapping=function(r,n){var a=this.hls.levels[n.droppedLevel];this.isLevelAllowed(a)&&this.restrictedLevels.push({bitrate:a.bitrate,height:a.height,width:a.width})},o.onMediaAttaching=function(r,n){this.media=n.media instanceof HTMLVideoElement?n.media:null,this.clientRect=null},o.onManifestParsed=function(r,n){var a=this.hls;this.restrictedLevels=[],this.firstLevel=n.firstLevel,a.config.capLevelToPlayerSize&&n.video&&this.startCapping()},o.onBufferCodecs=function(r,n){this.hls.config.capLevelToPlayerSize&&n.video&&this.startCapping()},o.onMediaDetaching=function(){this.stopCapping()},o.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var r=this.hls.levels;if(r.length){var n=this.hls;n.autoLevelCapping=this.getMaxLevel(r.length-1),n.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=n.autoLevelCapping}}},o.getMaxLevel=function(r){var n=this,a=this.hls.levels;if(!a.length)return-1;var s=a.filter(function(l,c){return n.isLevelAllowed(l)&&c<=r});return this.clientRect=null,d.getMaxLevelByMediaSize(s,this.mediaWidth,this.mediaHeight)},o.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},o.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},o.getDimensions=function(){if(this.clientRect)return this.clientRect;var r=this.media,n={width:0,height:0};if(r){var a=r.getBoundingClientRect();n.width=a.width,n.height=a.height,n.width||n.height||(n.width=a.right-a.left||r.width||0,n.height=a.bottom-a.top||r.height||0)}return this.clientRect=n,n},o.isLevelAllowed=function(r){return!this.restrictedLevels.some(function(n){return r.bitrate===n.bitrate&&r.width===n.width&&r.height===n.height})},d.getMaxLevelByMediaSize=function(r,n,a){if(r==null||!r.length)return-1;for(var s,l,c=r.length-1,f=0;f<r.length;f+=1){var p=r[f];if((p.width>=n||p.height>=a)&&(s=p,!(l=r[f+1])||s.width!==l.width||s.height!==l.height)){c=f;break}}return c},A(d,[{key:"mediaWidth",get:function(){return this.getDimensions().width*this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var r=1;if(!this.hls.config.ignoreDevicePixelRatio)try{r=self.devicePixelRatio}catch{}return r}}]),d}(),Cv=function(){function d(r){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=r,this.registerListeners()}var o=d.prototype;return o.setStreamController=function(r){this.streamController=r},o.registerListeners=function(){this.hls.on(x.MEDIA_ATTACHING,this.onMediaAttaching,this)},o.unregisterListeners=function(){this.hls.off(x.MEDIA_ATTACHING,this.onMediaAttaching,this)},o.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},o.onMediaAttaching=function(r,n){var a=this.hls.config;if(a.capLevelOnFPSDrop){var s=n.media instanceof self.HTMLVideoElement?n.media:null;this.media=s,s&&typeof s.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),a.fpsDroppedMonitoringPeriod)}},o.checkFPS=function(r,n,a){var s=performance.now();if(n){if(this.lastTime){var l=s-this.lastTime,c=a-this.lastDroppedFrames,f=n-this.lastDecodedFrames,p=1e3*c/l,v=this.hls;if(v.trigger(x.FPS_DROP,{currentDropped:c,currentDecoded:f,totalDroppedFrames:a}),p>0&&c>v.config.fpsDroppedMonitoringThreshold*f){var g=v.currentLevel;M.warn("drop FPS ratio greater than max allowed value for currentLevel: "+g),g>0&&(v.autoLevelCapping===-1||v.autoLevelCapping>=g)&&(g-=1,v.trigger(x.FPS_DROP_LEVEL_CAPPING,{level:g,droppedLevel:v.currentLevel}),v.autoLevelCapping=g,this.streamController.nextLevelSwitch())}}this.lastTime=s,this.lastDroppedFrames=a,this.lastDecodedFrames=n}},o.checkFPSInterval=function(){var r=this.media;if(r)if(this.isVideoPlaybackQualityAvailable){var n=r.getVideoPlaybackQuality();this.checkFPS(r,n.totalVideoFrames,n.droppedVideoFrames)}else this.checkFPS(r,r.webkitDecodedFrameCount,r.webkitDroppedFrameCount)},d}(),Dv=/^age:\s*[\d.]+\s*$/im,Pd=function(){function d(r){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=r&&r.xhrSetup||null,this.stats=new fe,this.retryDelay=0}var o=d.prototype;return o.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},o.abortInternal=function(){var r=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),r&&(r.onreadystatechange=null,r.onprogress=null,r.readyState!==4&&(this.stats.aborted=!0,r.abort()))},o.abort=function(){var r;this.abortInternal(),(r=this.callbacks)!=null&&r.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},o.load=function(r,n,a){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=r,this.config=n,this.callbacks=a,this.loadInternal()},o.loadInternal=function(){var r=this,n=this.config,a=this.context;if(n){var s=this.loader=new self.XMLHttpRequest,l=this.stats;l.loading.first=0,l.loaded=0,l.aborted=!1;var c=this.xhrSetup;c?Promise.resolve().then(function(){if(!r.stats.aborted)return c(s,a.url)}).catch(function(f){return s.open("GET",a.url,!0),c(s,a.url)}).then(function(){r.stats.aborted||r.openAndSendXhr(s,a,n)}).catch(function(f){r.callbacks.onError({code:s.status,text:f.message},a,s,l)}):this.openAndSendXhr(s,a,n)}},o.openAndSendXhr=function(r,n,a){r.readyState||r.open("GET",n.url,!0);var s=this.context.headers,l=a.loadPolicy,c=l.maxTimeToFirstByteMs,f=l.maxLoadTimeMs;if(s)for(var p in s)r.setRequestHeader(p,s[p]);n.rangeEnd&&r.setRequestHeader("Range","bytes="+n.rangeStart+"-"+(n.rangeEnd-1)),r.onreadystatechange=this.readystatechange.bind(this),r.onprogress=this.loadprogress.bind(this),r.responseType=n.responseType,self.clearTimeout(this.requestTimeout),a.timeout=c&&H(c)?c:f,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),a.timeout),r.send()},o.readystatechange=function(){var r=this.context,n=this.loader,a=this.stats;if(r&&n){var s=n.readyState,l=this.config;if(!a.aborted&&s>=2&&(a.loading.first===0&&(a.loading.first=Math.max(self.performance.now(),a.loading.start),l.timeout!==l.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),l.timeout=l.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),l.loadPolicy.maxLoadTimeMs-(a.loading.first-a.loading.start)))),s===4)){self.clearTimeout(this.requestTimeout),n.onreadystatechange=null,n.onprogress=null;var c=n.status,f=n.responseType!=="text";if(c>=200&&c<300&&(f&&n.response||n.responseText!==null)){a.loading.end=Math.max(self.performance.now(),a.loading.first);var p=f?n.response:n.responseText,v=n.responseType==="arraybuffer"?p.byteLength:p.length;if(a.loaded=a.total=v,a.bwEstimate=8e3*a.total/(a.loading.end-a.loading.first),!this.callbacks)return;var g=this.callbacks.onProgress;if(g&&g(a,r,p,n),!this.callbacks)return;var E={url:n.responseURL,data:p,code:c};this.callbacks.onSuccess(E,a,r,n)}else{var S=l.loadPolicy.errorRetry;Ji(S,a.retry,!1,c)?this.retry(S):(M.error(c+" while loading "+r.url),this.callbacks.onError({code:c,text:n.statusText},r,n,a))}}}},o.loadtimeout=function(){var r,n=(r=this.config)==null?void 0:r.loadPolicy.timeoutRetry;if(Ji(n,this.stats.retry,!0))this.retry(n);else{M.warn("timeout while loading "+this.context.url);var a=this.callbacks;a&&(this.abortInternal(),a.onTimeout(this.stats,this.context,this.loader))}},o.retry=function(r){var n=this.context,a=this.stats;this.retryDelay=bs(r,a.retry),a.retry++,M.warn((status?"HTTP Status "+status:"Timeout")+" while loading "+n.url+", retrying "+a.retry+"/"+r.maxNumRetry+" in "+this.retryDelay+"ms"),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)},o.loadprogress=function(r){var n=this.stats;n.loaded=r.loaded,r.lengthComputable&&(n.total=r.total)},o.getCacheAge=function(){var r=null;if(this.loader&&Dv.test(this.loader.getAllResponseHeaders())){var n=this.loader.getResponseHeader("age");r=n?parseFloat(n):null}return r},o.getResponseHeader=function(r){return this.loader&&new RegExp("^"+r+":\\s*[\\d.]+\\s*$","im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(r):null},d}(),Pv=function(){function d(){this.chunks=[],this.dataLength=0}var o=d.prototype;return o.push=function(r){this.chunks.push(r),this.dataLength+=r.length},o.flush=function(){var r,n=this.chunks,a=this.dataLength;return n.length?(r=n.length===1?n[0]:function(s,l){for(var c=new Uint8Array(l),f=0,p=0;p<s.length;p++){var v=s[p];c.set(v,f),f+=v.length}return c}(n,a),this.reset(),r):new Uint8Array(0)},o.reset=function(){this.chunks.length=0,this.dataLength=0},d}(),Iv=/(\d+)-(\d+)\/(\d+)/,Id=function(){function d(r){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=r.fetchSetup||Fv,this.controller=new self.AbortController,this.stats=new fe}var o=d.prototype;return o.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},o.abortInternal=function(){var r=this.response;r!=null&&r.ok||(this.stats.aborted=!0,this.controller.abort())},o.abort=function(){var r;this.abortInternal(),(r=this.callbacks)!=null&&r.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},o.load=function(r,n,a){var s=this,l=this.stats;if(l.loading.start)throw new Error("Loader can only be used once.");l.loading.start=self.performance.now();var c=function(L,k){var _={method:"GET",mode:"cors",credentials:"same-origin",signal:k,headers:new self.Headers(z({},L.headers))};return L.rangeEnd&&_.headers.set("Range","bytes="+L.rangeStart+"-"+String(L.rangeEnd-1)),_}(r,this.controller.signal),f=a.onProgress,p=r.responseType==="arraybuffer",v=p?"byteLength":"length",g=n.loadPolicy,E=g.maxTimeToFirstByteMs,S=g.maxLoadTimeMs;this.context=r,this.config=n,this.callbacks=a,this.request=this.fetchSetup(r,c),self.clearTimeout(this.requestTimeout),n.timeout=E&&H(E)?E:S,this.requestTimeout=self.setTimeout(function(){s.abortInternal(),a.onTimeout(l,r,s.response)},n.timeout),self.fetch(this.request).then(function(L){s.response=s.loader=L;var k=Math.max(self.performance.now(),l.loading.start);if(self.clearTimeout(s.requestTimeout),n.timeout=S,s.requestTimeout=self.setTimeout(function(){s.abortInternal(),a.onTimeout(l,r,s.response)},S-(k-l.loading.start)),!L.ok){var _=L.status,T=L.statusText;throw new Ov(T||"fetch, bad network response",_,L)}return l.loading.first=k,l.total=function(w){var F=w.get("Content-Range");if(F){var D=function(U){var j=Iv.exec(U);if(j)return parseInt(j[2])-parseInt(j[1])+1}(F);if(H(D))return D}var b=w.get("Content-Length");if(b)return parseInt(b)}(L.headers)||l.total,f&&H(n.highWaterMark)?s.loadProgressively(L,l,r,n.highWaterMark,f):p?L.arrayBuffer():r.responseType==="json"?L.json():L.text()}).then(function(L){var k=s.response;self.clearTimeout(s.requestTimeout),l.loading.end=Math.max(self.performance.now(),l.loading.first);var _=L[v];_&&(l.loaded=l.total=_);var T={url:k.url,data:L,code:k.status};f&&!H(n.highWaterMark)&&f(l,r,L,k),a.onSuccess(T,l,r,k)}).catch(function(L){if(self.clearTimeout(s.requestTimeout),!l.aborted){var k=L&&L.code||0,_=L?L.message:null;a.onError({code:k,text:_},r,L?L.details:null,l)}})},o.getCacheAge=function(){var r=null;if(this.response){var n=this.response.headers.get("age");r=n?parseFloat(n):null}return r},o.getResponseHeader=function(r){return this.response?this.response.headers.get(r):null},o.loadProgressively=function(r,n,a,s,l){s===void 0&&(s=0);var c=new Pv,f=r.body.getReader();return function p(){return f.read().then(function(v){if(v.done)return c.dataLength&&l(n,a,c.flush(),r),Promise.resolve(new ArrayBuffer(0));var g=v.value,E=g.length;return n.loaded+=E,E<s||c.dataLength?(c.push(g),c.dataLength>=s&&l(n,a,c.flush(),r)):l(n,a,g,r),p()}).catch(function(){return Promise.reject()})}()},d}();function Fv(d,o){return new self.Request(d.url,o)}var Ov=function(d){function o(r,n,a){var s;return(s=d.call(this,r)||this).code=void 0,s.details=void 0,s.code=n,s.details=a,s}return G(o,d),o}(me(Error)),Fd={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},Mv=y(y({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Pd,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:Rv,bufferController:_v,capLevelController:Av,errorController:zp,fpsController:Cv,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:null,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,certLoadPolicy:{default:Fd},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:Fd},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},{cueHandler:cp,enableWebVTT:!1,enableIMSC1:!1,enableCEA708Captions:!1,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:void 0,subtitleTrackController:void 0,timelineController:void 0,audioStreamController:void 0,audioTrackController:void 0,emeController:void 0,cmcdController:void 0,contentSteeringController:void 0});function ro(d){return d&&typeof d=="object"?Array.isArray(d)?d.map(ro):Object.keys(d).reduce(function(o,r){return o[r]=ro(d[r]),o},{}):d}function Nv(d){var o=d.loader;o!==Id&&o!==Pd?(M.log("[config]: Custom loader detected, cannot enable progressive streaming"),d.progressive=!1):function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}()&&(d.loader=Id,d.progressive=!0,d.enableSoftwareAES=!0,M.log("[config]: Progressive streaming enabled, using FetchLoader"))}var Od=function(){function d(r){r===void 0&&(r={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new Js,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,lr(r.debug||!1,"Hls instance");var n=this.config=function(ee,Z){if((Z.liveSyncDurationCount||Z.liveMaxLatencyDurationCount)&&(Z.liveSyncDuration||Z.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(Z.liveMaxLatencyDurationCount!==void 0&&(Z.liveSyncDurationCount===void 0||Z.liveMaxLatencyDurationCount<=Z.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(Z.liveMaxLatencyDuration!==void 0&&(Z.liveSyncDuration===void 0||Z.liveMaxLatencyDuration<=Z.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');var se=ro(ee),de=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach(function(ne){var le=(ne==="level"?"playlist":ne)+"LoadPolicy",oe=Z[le]===void 0,ae=[];de.forEach(function(he){var ge=ne+"Loading"+he,ve=Z[ge];if(ve!==void 0&&oe){ae.push(ge);var be=se[le].default;switch(Z[le]={default:be},he){case"TimeOut":be.maxLoadTimeMs=ve,be.maxTimeToFirstByteMs=ve;break;case"MaxRetry":be.errorRetry.maxNumRetry=ve,be.timeoutRetry.maxNumRetry=ve;break;case"RetryDelay":be.errorRetry.retryDelayMs=ve,be.timeoutRetry.retryDelayMs=ve;break;case"MaxRetryTimeout":be.errorRetry.maxRetryDelayMs=ve,be.timeoutRetry.maxRetryDelayMs=ve}}}),ae.length&&M.warn('hls.js config: "'+ae.join('", "')+'" setting(s) are deprecated, use "'+le+'": '+JSON.stringify(Z[le]))}),y(y({},se),Z)}(d.DefaultConfig,r);this.userConfig=r,this._autoLevelCapping=-1,n.progressive&&Nv(n);var a=n.abrController,s=n.bufferController,l=n.capLevelController,c=n.errorController,f=n.fpsController,p=new c(this),v=this.abrController=new a(this),g=this.bufferController=new s(this),E=this.capLevelController=new l(this),S=new f(this),L=new Dp(this),k=new Op(this),_=n.contentSteeringController,T=_?new _(this):null,w=this.levelController=new Vp(this,T),F=new Kp(this),D=new Yp(this.config),b=this.streamController=new kv(this,F,D);E.setStreamController(b),S.setStreamController(b);var U=[L,w,b];T&&U.splice(1,0,T),this.networkControllers=U;var j=[v,g,E,S,k,F];this.audioTrackController=this.createController(n.audioTrackController,U);var $=n.audioStreamController;$&&U.push(new $(this,F,D)),this.subtitleTrackController=this.createController(n.subtitleTrackController,U);var q=n.subtitleStreamController;q&&U.push(new q(this,F,D)),this.createController(n.timelineController,j),D.emeController=this.emeController=this.createController(n.emeController,j),this.cmcdController=this.createController(n.cmcdController,j),this.latencyController=this.createController(Mp,j),this.coreComponents=j,U.push(p);var W=p.onErrorOut;typeof W=="function"&&this.on(x.ERROR,W,p)}d.isSupported=function(){return function(){var r=Qi();if(!r)return!1;var n=dd(),a=r&&typeof r.isTypeSupported=="function"&&r.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),s=!n||n.prototype&&typeof n.prototype.appendBuffer=="function"&&typeof n.prototype.remove=="function";return!!a&&!!s}()};var o=d.prototype;return o.createController=function(r,n){if(r){var a=new r(this);return n&&n.push(a),a}return null},o.on=function(r,n,a){a===void 0&&(a=this),this._emitter.on(r,n,a)},o.once=function(r,n,a){a===void 0&&(a=this),this._emitter.once(r,n,a)},o.removeAllListeners=function(r){this._emitter.removeAllListeners(r)},o.off=function(r,n,a,s){a===void 0&&(a=this),this._emitter.off(r,n,a,s)},o.listeners=function(r){return this._emitter.listeners(r)},o.emit=function(r,n,a){return this._emitter.emit(r,n,a)},o.trigger=function(r,n){if(this.config.debug)return this.emit(r,r,n);try{return this.emit(r,r,n)}catch(a){M.error("An internal error happened while handling event "+r+'. Error message: "'+a.message+'". Here is a stacktrace:',a),this.trigger(x.ERROR,{type:K.OTHER_ERROR,details:N.INTERNAL_EXCEPTION,fatal:!1,event:r,error:a})}return!1},o.listenerCount=function(r){return this._emitter.listenerCount(r)},o.destroy=function(){M.log("destroy"),this.trigger(x.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(function(n){return n.destroy()}),this.networkControllers.length=0,this.coreComponents.forEach(function(n){return n.destroy()}),this.coreComponents.length=0;var r=this.config;r.xhrSetup=r.fetchSetup=void 0,this.userConfig=null},o.attachMedia=function(r){M.log("attachMedia"),this._media=r,this.trigger(x.MEDIA_ATTACHING,{media:r})},o.detachMedia=function(){M.log("detachMedia"),this.trigger(x.MEDIA_DETACHING,void 0),this._media=null},o.loadSource=function(r){this.stopLoad();var n=this.media,a=this.url,s=this.url=V.buildAbsoluteURL(self.location.href,r,{alwaysNormalize:!0});M.log("loadSource:"+s),n&&a&&(a!==s||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(n)),this.trigger(x.MANIFEST_LOADING,{url:r})},o.startLoad=function(r){r===void 0&&(r=-1),M.log("startLoad("+r+")"),this.networkControllers.forEach(function(n){n.startLoad(r)})},o.stopLoad=function(){M.log("stopLoad"),this.networkControllers.forEach(function(r){r.stopLoad()})},o.swapAudioCodec=function(){M.log("swapAudioCodec"),this.streamController.swapAudioCodec()},o.recoverMediaError=function(){M.log("recoverMediaError");var r=this._media;this.detachMedia(),r&&this.attachMedia(r)},o.removeLevel=function(r,n){n===void 0&&(n=0),this.levelController.removeLevel(r,n)},A(d,[{key:"levels",get:function(){var r=this.levelController.levels;return r||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(r){M.log("set currentLevel:"+r),this.loadLevel=r,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(r){M.log("set nextLevel:"+r),this.levelController.manualLevel=r,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(r){M.log("set loadLevel:"+r),this.levelController.manualLevel=r}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(r){this.levelController.nextLoadLevel=r}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(r){M.log("set firstLevel:"+r),this.levelController.firstLevel=r}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(r){M.log("set startLevel:"+r),r!==-1&&(r=Math.max(r,this.minAutoLevel)),this.levelController.startLevel=r}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(r){var n=!!r;n!==this.config.capLevelToPlayerSize&&(n?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=n)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(r){this._autoLevelCapping!==r&&(M.log("set autoLevelCapping:"+r),this._autoLevelCapping=r)}},{key:"bandwidthEstimate",get:function(){var r=this.abrController.bwEstimator;return r?r.getEstimate():NaN}},{key:"ttfbEstimate",get:function(){var r=this.abrController.bwEstimator;return r?r.getEstimateTTFB():NaN}},{key:"maxHdcpLevel",get:function(){return this._maxHdcpLevel},set:function(r){Os.indexOf(r)>-1&&(this._maxHdcpLevel=r)}},{key:"autoLevelEnabled",get:function(){return this.levelController.manualLevel===-1}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var r=this.levels,n=this.config.minAutoBitrate;if(!r)return 0;for(var a=r.length,s=0;s<a;s++)if(r[s].maxBitrate>=n)return s;return 0}},{key:"maxAutoLevel",get:function(){var r,n=this.levels,a=this.autoLevelCapping,s=this.maxHdcpLevel;if(r=a===-1&&n&&n.length?n.length-1:a,s)for(var l=r;l--;){var c=n[l].attrs["HDCP-LEVEL"];if(c&&c<=s)return l}return r}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(r){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,r)}},{key:"playingDate",get:function(){return this.streamController.currentProgramDateTime}},{key:"mainForwardBufferInfo",get:function(){return this.streamController.getMainFwdBufferInfo()}},{key:"audioTracks",get:function(){var r=this.audioTrackController;return r?r.audioTracks:[]}},{key:"audioTrack",get:function(){var r=this.audioTrackController;return r?r.audioTrack:-1},set:function(r){var n=this.audioTrackController;n&&(n.audioTrack=r)}},{key:"subtitleTracks",get:function(){var r=this.subtitleTrackController;return r?r.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var r=this.subtitleTrackController;return r?r.subtitleTrack:-1},set:function(r){var n=this.subtitleTrackController;n&&(n.subtitleTrack=r)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var r=this.subtitleTrackController;return!!r&&r.subtitleDisplay},set:function(r){var n=this.subtitleTrackController;n&&(n.subtitleDisplay=r)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(r){this.config.lowLatencyMode=r}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}],[{key:"version",get:function(){return"1.4.12"}},{key:"Events",get:function(){return x}},{key:"ErrorTypes",get:function(){return K}},{key:"ErrorDetails",get:function(){return N}},{key:"DefaultConfig",get:function(){return d.defaultConfig?d.defaultConfig:Mv},set:function(r){d.defaultConfig=r}}]),d}();return Od.defaultConfig=void 0,Od},e.exports=h()})(!1)})(dp);var g0=dp.exports;const ui=Qc(g0);var Gi,xl;class y0 extends Audio{constructor(){super();Bd(this,Gi);const i="rplayer-volume";this.hls=null,localStorage.hasOwnProperty(i)?this.volume=localStorage.getItem(i):this.volume=.2,this.onvolumechange=()=>{localStorage.setItem(i,this.volume)}}rewind(i){this.currentTime=this.currentTime-i}playSrc(i){const u=i.indexOf(".m3u8")>0;this.stop(),ui.isSupported()&&u?(this.hls=new ui,this.hls.loadSource(i),this.hls.attachMedia(this),this.hls.on(ui.Events.MANIFEST_PARSED,()=>{this.play()})):(this.canPlayType("application/vnd.apple.mpegurl")||ui.isSupported()&&!u)&&(this.src=i,this.addEventListener("loadedmetadata",()=>{this.play()}))}mute(){this.muted=!this.muted}stop(){this.pause(),this.currentTime=0,this.hls&&(this.hls.destroy(),this.hls=null)}upVolume(){ao(this,Gi,xl).call(this,this.volume+.1)}downVolume(){ao(this,Gi,xl).call(this,this.volume-.1)}get isHls(){return this.hls instanceof ui}get url(){return this.isHls?this.hls.url:this.src}get playing(){return this.currentTime>0&&!this.paused&&!this.ended&&this.readyState>2}}Gi=new WeakSet,xl=function(i){i>=0&&i<=1&&(this.volume=Number(i).toFixed(1))};const E0=()=>{const e=mt.useRef(),t=mt.useRef();return mt.useEffect(()=>{e.current=new AudioContext},[]),{playUrl:(h,m)=>{fetch(h).then(y=>y.arrayBuffer()).then(y=>{var R;return(R=e.current)==null?void 0:R.decodeAudioData(y)}).then(y=>{if(e.current){let R=e.current;if(t.current=R.createBufferSource(),t.current&&y){let A=t.current;A.buffer=y,A.loop=!1;let I=R.createGain();I.connect(R.destination),A.connect(I),I.gain.value=1,A.start(0),A.onended=()=>{m&&m()}}}}).catch(y=>{console.error(`Error: ${y}`)})},stopPlaying:()=>{var h;(h=t.current)==null||h.stop()}}},S0=e=>{var J;const t="/api/id/",[i,u]=mt.useState(),[h,m]=mt.useState(!0),y=mt.useRef(!1),R=mt.useRef(),{playUrl:A,stopPlaying:I}=E0();mt.useEffect(()=>{R.current=new y0},[]);const z=()=>{var Q;m(!0),y.current=!1,I(),(Q=R.current)==null||Q.stop()},G=Q=>{var O;const me=Q.currentTarget,P=me.value,C=me.dataset.title;if(console.log("id",P),console.log("title",C),(i==null?void 0:i.id)==P){console.log(P,"is playing");return}if(C.startsWith("RTHK")||C.startsWith("FM"))(O=R.current)==null||O.playSrc(P),console.log("live radio - Playing",P);else{let V=`${t}${P}`;A(V,B),console.log("ycanList - Playing",V)}u({name:C,id:P}),m(!1)},B=()=>{if(e.list&&y.current){let Q=Math.floor(Math.random()*e.list.length+1);console.log("Play another track.",Q);let me=e.list[Q].id,P=`${t}${me}`,C=e.list[Q].name;A(P),u({name:C,id:me}),m(!1)}},X={buttonWarning:{background:"#df7514"}};return ie.jsxs("div",{children:[ie.jsxs("table",{className:"pure-table",children:[ie.jsx("thead",{children:ie.jsxs("tr",{className:"bg-info",children:[ie.jsx("td",{children:"Soundtrack"}),ie.jsx("td",{children:"Play"})]})}),ie.jsx("tbody",{children:(J=e.list)==null?void 0:J.map((Q,me)=>ie.jsxs("tr",{className:me%2===0?"pure-table-odd":"",children:[ie.jsx("td",{children:Q.name}),ie.jsx("td",{children:ie.jsx("button",{type:"button",className:"pure-button pure-button-primary","data-title":Q.name,onClick:G,value:Q.id,children:"Play"})})]},Q.id))}),ie.jsx("tfoot",{children:ie.jsx("tr",{children:ie.jsx("td",{colSpan:5,className:"bg-info",children:ie.jsx("b",{children:i&&`Playing ${i.name}`})})})})]}),ie.jsx("div",{children:ie.jsx("button",{type:"button",className:"pure-button",style:X.buttonWarning,onClick:z,disabled:h,children:"Stop"})})]})};const T0=()=>{const[e,t]=mt.useState();mt.useEffect(()=>{fetch("/api/category/ycanList").then(u=>u.json()).then(u=>{t({cat:"",subCat:" - ",playlist:u})})},[]);const i=u=>{u.preventDefault();const h=u.target.dataset.cat,m=u.target.dataset.subcat,y=u.target.dataset.playlist;fetch(`/api/category/${y}`).then(R=>R.json()).then(R=>{t({cat:h,subCat:m,playlist:R})})};return ie.jsxs("div",{children:[ie.jsx("div",{className:"pure-menu pure-menu-horizontal",children:ie.jsxs("ul",{className:"pure-menu-list",children:[ie.jsx("li",{className:"pure-menu-item",children:ie.jsx("a",{href:"#",onClick:i,"data-cat":"","data-subcat":" - ","data-playlist":"ycanList",className:"pure-menu-link",children:""})}),ie.jsxs("li",{className:"pure-menu-item pure-menu-has-children pure-menu-allow-hover",children:[ie.jsx("a",{href:"#",id:"menuLink1",className:"pure-menu-link",children:""}),ie.jsxs("ul",{className:"pure-menu-children",children:[ie.jsx("li",{className:"pure-menu-item",children:ie.jsx("a",{href:"#",onClick:i,"data-cat":"","data-subcat":"","data-playlist":"yePeiList",className:"pure-menu-link",children:""})}),ie.jsx("li",{className:"pure-menu-item",children:ie.jsx("a",{href:"#",onClick:i,"data-cat":"","data-subcat":"",className:"pure-menu-link",children:""})}),ie.jsx("li",{className:"pure-menu-item",children:ie.jsx("a",{href:"#",onClick:i,"data-cat":"","data-subcat":"",className:"pure-menu-link",children:""})}),ie.jsx("li",{className:"pure-menu-item",children:ie.jsx("a",{href:"#",onClick:i,"data-cat":"","data-subcat":"",className:"pure-menu-link",children:""})}),ie.jsx("li",{className:"pure-menu-item",children:ie.jsx("a",{href:"#",onClick:i,"data-cat":"","data-subcat":"",className:"pure-menu-link",children:""})}),ie.jsx("li",{className:"pure-menu-item",children:ie.jsx("a",{href:"#",onClick:i,"data-cat":"","data-subcat":"",className:"pure-menu-link",children:""})}),ie.jsx("li",{className:"pure-menu-item",children:ie.jsx("a",{href:"#",onClick:i,"data-cat":"","data-subcat":"",className:"pure-menu-link",children:""})}),ie.jsx("li",{className:"pure-menu-item",children:ie.jsx("a",{href:"#",onClick:i,"data-cat":"","data-subcat":"",className:"pure-menu-link",children:""})})]})]}),ie.jsxs("li",{className:"pure-menu-item pure-menu-has-children pure-menu-allow-hover",children:[ie.jsx("a",{href:"#",id:"menuLink2",className:"pure-menu-link",children:"Live Radio"}),ie.jsxs("ul",{className:"pure-menu-children",children:[ie.jsx("li",{className:"pure-menu-item",children:ie.jsx("a",{href:"#",onClick:i,"data-cat":"LiveRadio","data-subcat":"RTHK","data-playlist":"rthkList",className:"pure-menu-link",children:"RTHK Live Radio"})}),ie.jsx("li",{className:"pure-menu-item",children:ie.jsx("a",{href:"#",onClick:i,"data-cat":"LiveRadio","data-subcat":"Radio Fo Shan","data-playlist":"foshanList",className:"pure-menu-link",children:"Fo Shan Live Radio"})}),ie.jsx("li",{className:"pure-menu-item",children:ie.jsx("a",{href:"#",onClick:i,"data-cat":"LiveRadio","data-subcat":"Radio Guang Dong","data-playlist":"guangdongList",className:"pure-menu-link",children:"Guang Dong Live Radio"})})]})]})]})}),ie.jsx("h1",{children:e==null?void 0:e.cat}),ie.jsx("h2",{children:e==null?void 0:e.subCat}),ie.jsx(S0,{list:e==null?void 0:e.playlist})]})};Fo.createRoot(document.getElementById("root")).render(ie.jsx(sm.StrictMode,{children:ie.jsx(T0,{})}));
